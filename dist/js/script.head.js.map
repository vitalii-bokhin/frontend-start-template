{"version":3,"sources":["common-js.js","header.js","menu.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"script.head.js","sourcesContent":["// global variables\n; var browser, elemIsHidden, ajax, LocStor;\n\n(function () {\n    'use strict';\n\n    // Get useragent\n    document.documentElement.setAttribute('data-useragent', navigator.userAgent.toLowerCase());\n\n    // Browser identify\n    browser = (function (userAgent) {\n        userAgent = userAgent.toLowerCase();\n\n        if (/(msie|rv:11\\.0)/.test(userAgent)) {\n            return 'ie';\n        } else if (/firefox/.test(userAgent)) {\n            return 'ff';\n        }\n    })(navigator.userAgent);\n\n    // Add support CustomEvent constructor for IE\n    try {\n        new CustomEvent(\"IE has CustomEvent, but doesn't support constructor\");\n    } catch (e) {\n        window.CustomEvent = function (event, params) {\n            var evt = document.createEvent(\"CustomEvent\");\n\n            params = params || {\n                bubbles: false,\n                cancelable: false,\n                detail: undefined\n            };\n\n            evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n\n            return evt;\n        }\n\n        CustomEvent.prototype = Object.create(window.Event.prototype);\n    }\n\n    // Window Resized Event\n    const winResizedEvent = new CustomEvent('winResized'),\n        winWidthResizedEvent = new CustomEvent('winWidthResized');\n\n    let rsz = true,\n        beginWidth = window.innerWidth;\n\n    window.addEventListener('resize', function () {\n        if (rsz) {\n            rsz = false;\n\n            setTimeout(function () {\n                window.dispatchEvent(winResizedEvent);\n\n                if (beginWidth != window.innerWidth) {\n                    window.dispatchEvent(winWidthResizedEvent);\n\n                    beginWidth = window.innerWidth\n                }\n\n                rsz = true;\n            }, 1021);\n        }\n    });\n\n    // Closest polyfill\n    if (!Element.prototype.closest) {\n        (function (ElProto) {\n            ElProto.matches = ElProto.matches || ElProto.mozMatchesSelector || ElProto.msMatchesSelector || ElProto.oMatchesSelector || ElProto.webkitMatchesSelector;\n\n            ElProto.closest = ElProto.closest || function closest(selector) {\n                if (!this) {\n                    return null;\n                }\n\n                if (this.matches(selector)) {\n                    return this;\n                }\n\n                if (!this.parentElement) {\n                    return null;\n                } else {\n                    return this.parentElement.closest(selector);\n                }\n            };\n        })(Element.prototype);\n    }\n\n    // Check element for hidden\n    elemIsHidden = function (elem, exclude) {\n        exclude = exclude || [];\n\n        while (elem) {\n            if (!elem) break;\n\n            const compStyle = getComputedStyle(elem);\n\n            if (\n                compStyle.display == 'none' ||\n                compStyle.visibility == 'hidden' ||\n                (!exclude.includes('opacity') && compStyle.opacity == '0')\n            ) return true;\n\n            elem = elem.parentElement;\n        }\n\n        return false;\n    }\n\n    // Ajax\n    ajax = function (options) {\n        const xhr = new XMLHttpRequest();\n\n        if (options.method == 'GET') {\n            xhr.open('GET', options.url);\n\n            options.send = null;\n        } else {\n            xhr.open('POST', options.url);\n\n            if (typeof options.send == 'string') {\n                xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n            }\n        }\n\n        xhr.onreadystatechange = function () {\n            if (xhr.readyState == 4 && xhr.status == 200) {\n                if (options.success) {\n                    options.success(xhr.response);\n                }\n            } else if (xhr.readyState == 4 && xhr.status != 200) {\n                if (options.error) {\n                    options.error(xhr.response);\n                }\n            }\n        }\n\n        xhr.send(options.send);\n    }\n\n\n\n    // Local Storage\n    LocStor = {\n        set: function (prop, val) {\n            window.localStorage.setItem(prop, val);\n        },\n\n        get: function (prop) {\n            const val = window.localStorage.getItem(prop);\n\n            return (val !== null) ? val : false;\n        }\n    };\n\n})();","/* \n    MobNav.init({\n        openBtn: '.js-open-menu',\n        closeBtn: '.js-close-menu',\n        headerId: 'header',\n        closeLink: '.menu a.js-anchor'\n    });\n*/\n\n; var MobNav;\n\n(function () {\n    'use strict';\n\n    // fix header\n    const headerElem = document.getElementById('header');\n\n    let scrTop = 0,\n        scrAccUp = 0,\n        scrAccDown = 0;\n\n    function fixHeader() {\n        if (headerElem) {\n            if (window.pageYOffset > 21) {\n                headerElem.classList.add('header_fixed');\n\n                if (window.pageYOffset > scrTop) {\n                    scrAccDown++;\n                    scrAccUp = 0;\n                } else {\n                    scrAccUp++;\n                    scrAccDown = 0;\n                }\n\n                scrTop = window.pageYOffset;\n\n                if (scrAccDown > 2 && window.pageYOffset > headerElem.offsetHeight) {\n                    headerElem.classList.add('header_hide');\n                } else if (scrAccUp > 1) {\n                    headerElem.classList.remove('header_hide');\n                }\n\n            } else if (\n                !document.body.classList.contains('popup-is-opened') &&\n                !document.body.classList.contains('mob-nav-is-opened')\n            ) {\n                headerElem.classList.remove('header_fixed');\n                headerElem.classList.remove('header_hide');\n            }\n        }\n    }\n\n    fixHeader();\n\n    window.addEventListener('scroll', fixHeader);\n\n    //mob menu\n    MobNav = {\n        options: null,\n        winScrollTop: 0,\n\n        fixBody: function (st) {\n            if (st) {\n                this.winScrollTop = window.pageYOffset;\n\n                document.body.classList.add('mob-nav-is-opened');\n                document.body.style.top = -this.winScrollTop + 'px';\n            } else {\n                document.body.classList.remove('mob-nav-is-opened');\n\n                if (this.winScrollTop > 0) {\n                    window.scrollTo(0, this.winScrollTop);\n                }\n            }\n        },\n\n        open: function (btnElem) {\n            var headerElem = document.getElementById(this.options.headerId);\n\n            if (!headerElem) return;\n\n            if (btnElem.classList.contains('opened')) {\n                this.close();\n            } else {\n                btnElem.classList.add('opened');\n                headerElem.classList.add('opened');\n                this.fixBody(true);\n            }\n        },\n\n        close: function () {\n            var headerElem = document.getElementById(this.options.headerId);\n\n            if (!headerElem) return;\n\n            headerElem.classList.remove('opened');\n\n            var openBtnElements = document.querySelectorAll(this.options.openBtn);\n\n            for (var i = 0; i < openBtnElements.length; i++) {\n                openBtnElements[i].classList.remove('opened');\n            }\n\n            this.fixBody(false);\n        },\n\n        init: function (options) {\n            this.options = options;\n\n            document.addEventListener('click', (e) => {\n                const openElem = e.target.closest(options.openBtn);\n\n                if (openElem) {\n                    e.preventDefault();\n                    this.open(openElem);\n                } else if (e.target.closest(options.closeBtn)) {\n                    e.preventDefault();\n                    this.close();\n                } else if (e.target.closest(options.closeLink)) {\n                    this.close();\n                }\n            });\n        }\n    };\n})();","/*\n* call Menu.init(Str menu item selector, Str sub menu selector);\n*/\nvar Menu;\n\n(function () {\n    'use strict';\n\n    Menu = {\n        toggle: function (elem, elementStr, subMenuStr) {\n            var subMenuElem = elem.querySelector(subMenuStr);\n\n            if (!subMenuElem) {\n                return;\n            }\n\n            if (elem.classList.contains('active')) {\n                subMenuElem.style.height = 0;\n\n                elem.classList.remove('active');\n            } else {\n                var mainElem = elem.closest('.menu'),\n                    itemElements = mainElem.querySelectorAll(elementStr),\n                    subMenuElements = mainElem.querySelectorAll(subMenuStr);\n\n                for (var i = 0; i < itemElements.length; i++) {\n                    itemElements[i].classList.remove('accord__button_active');\n                    subMenuElements[i].style.height = 0;\n                }\n\n                subMenuElem.style.height = subMenuElem.scrollHeight + 'px';\n\n                elem.classList.add('active');\n            }\n        },\n\n        init: function (elementStr, subMenuStr, viewport) {\n            document.addEventListener('click', (e) => {\n                var elem = e.target.closest(elementStr);\n\n                if (!elem || window.innerWidth > viewport) return;\n\n                if (e.target.getAttribute('href') == '#') e.preventDefault();\n\n                this.toggle(elem, elementStr, subMenuStr);\n            });\n        }\n    };\n})();"]}