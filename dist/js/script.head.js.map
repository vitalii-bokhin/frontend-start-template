{"version":3,"sources":["common-js.js","header.js","menu.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"script.head.js","sourcesContent":["// global variables\r\n; var browser, elemIsHidden, ajax, LocStor;\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    // Get useragent\r\n    document.documentElement.setAttribute('data-useragent', navigator.userAgent.toLowerCase());\r\n\r\n    // Browser identify\r\n    browser = (function (userAgent) {\r\n        userAgent = userAgent.toLowerCase();\r\n\r\n        if (/(msie|rv:11\\.0)/.test(userAgent)) {\r\n            return 'ie';\r\n        } else if (/firefox/.test(userAgent)) {\r\n            return 'ff';\r\n        }\r\n    })(navigator.userAgent);\r\n\r\n    // Add support CustomEvent constructor for IE\r\n    try {\r\n        new CustomEvent(\"IE has CustomEvent, but doesn't support constructor\");\r\n    } catch (e) {\r\n        window.CustomEvent = function (event, params) {\r\n            var evt = document.createEvent(\"CustomEvent\");\r\n\r\n            params = params || {\r\n                bubbles: false,\r\n                cancelable: false,\r\n                detail: undefined\r\n            };\r\n\r\n            evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\r\n\r\n            return evt;\r\n        }\r\n\r\n        CustomEvent.prototype = Object.create(window.Event.prototype);\r\n    }\r\n\r\n    // Window Resized Event\r\n    const winResizedEvent = new CustomEvent('winResized'),\r\n        winWidthResizedEvent = new CustomEvent('winWidthResized');\r\n\r\n    let rsz = true,\r\n        beginWidth = window.innerWidth;\r\n\r\n    window.addEventListener('resize', function () {\r\n        if (rsz) {\r\n            rsz = false;\r\n\r\n            setTimeout(function () {\r\n                window.dispatchEvent(winResizedEvent);\r\n\r\n                if (beginWidth != window.innerWidth) {\r\n                    window.dispatchEvent(winWidthResizedEvent);\r\n\r\n                    beginWidth = window.innerWidth\r\n                }\r\n\r\n                rsz = true;\r\n            }, 1021);\r\n        }\r\n    });\r\n\r\n    // Closest polyfill\r\n    if (!Element.prototype.closest) {\r\n        (function (ElProto) {\r\n            ElProto.matches = ElProto.matches || ElProto.mozMatchesSelector || ElProto.msMatchesSelector || ElProto.oMatchesSelector || ElProto.webkitMatchesSelector;\r\n\r\n            ElProto.closest = ElProto.closest || function closest(selector) {\r\n                if (!this) {\r\n                    return null;\r\n                }\r\n\r\n                if (this.matches(selector)) {\r\n                    return this;\r\n                }\r\n\r\n                if (!this.parentElement) {\r\n                    return null;\r\n                } else {\r\n                    return this.parentElement.closest(selector);\r\n                }\r\n            };\r\n        })(Element.prototype);\r\n    }\r\n\r\n    // Check element for hidden\r\n    elemIsHidden = function (elem, exclude) {\r\n        exclude = exclude || [];\r\n\r\n        while (elem) {\r\n            if (!elem) break;\r\n\r\n            const compStyle = getComputedStyle(elem);\r\n\r\n            if (\r\n                compStyle.display == 'none' ||\r\n                compStyle.visibility == 'hidden' ||\r\n                (!exclude.includes('opacity') && compStyle.opacity == '0')\r\n            ) return true;\r\n\r\n            elem = elem.parentElement;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    // Ajax\r\n    ajax = function (options) {\r\n        const xhr = new XMLHttpRequest();\r\n\r\n        if (options.method == 'GET') {\r\n            xhr.open('GET', options.url);\r\n\r\n            options.send = null;\r\n        } else {\r\n            xhr.open('POST', options.url);\r\n\r\n            if (typeof options.send == 'string') {\r\n                xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\r\n            }\r\n        }\r\n\r\n        xhr.onreadystatechange = function () {\r\n            if (xhr.readyState == 4 && xhr.status == 200) {\r\n                if (options.success) {\r\n                    options.success(xhr.response);\r\n                }\r\n            } else if (xhr.readyState == 4 && xhr.status != 200) {\r\n                if (options.error) {\r\n                    options.error(xhr.response);\r\n                }\r\n            }\r\n        }\r\n\r\n        xhr.send(options.send);\r\n    }\r\n\r\n\r\n\r\n    // Local Storage\r\n    LocStor = {\r\n        set: function (prop, val) {\r\n            window.localStorage.setItem(prop, val);\r\n        },\r\n\r\n        get: function (prop) {\r\n            const val = window.localStorage.getItem(prop);\r\n\r\n            return (val !== null) ? val : false;\r\n        }\r\n    };\r\n\r\n})();","/* \r\n    MobNav.init({\r\n        openBtn: '.js-open-menu',\r\n        closeBtn: '.js-close-menu',\r\n        headerId: 'header',\r\n        closeLink: '.menu a.js-anchor'\r\n    });\r\n*/\r\n\r\n; var MobNav;\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    // fix header\r\n    const headerElem = document.getElementById('header');\r\n\r\n    let scrTop = 0,\r\n        scrAccUp = 0,\r\n        scrAccDown = 0;\r\n\r\n    function fixHeader() {\r\n        if (headerElem) {\r\n            if (window.pageYOffset > 21) {\r\n                headerElem.classList.add('header_fixed');\r\n\r\n                if (window.pageYOffset > scrTop) {\r\n                    scrAccDown++;\r\n                    scrAccUp = 0;\r\n                } else {\r\n                    scrAccUp++;\r\n                    scrAccDown = 0;\r\n                }\r\n\r\n                scrTop = window.pageYOffset;\r\n\r\n                if (scrAccDown > 2 && window.pageYOffset > headerElem.offsetHeight) {\r\n                    headerElem.classList.add('header_hide');\r\n                } else if (scrAccUp > 1) {\r\n                    headerElem.classList.remove('header_hide');\r\n                }\r\n\r\n            } else if (\r\n                !document.body.classList.contains('popup-is-opened') &&\r\n                !document.body.classList.contains('mob-nav-is-opened')\r\n            ) {\r\n                headerElem.classList.remove('header_fixed');\r\n                headerElem.classList.remove('header_hide');\r\n            }\r\n        }\r\n    }\r\n\r\n    fixHeader();\r\n\r\n    window.addEventListener('scroll', fixHeader);\r\n\r\n    //mob menu\r\n    MobNav = {\r\n        options: null,\r\n        winScrollTop: 0,\r\n\r\n        fixBody: function (st) {\r\n            if (st) {\r\n                this.winScrollTop = window.pageYOffset;\r\n\r\n                document.body.classList.add('mob-nav-is-opened');\r\n                document.body.style.top = -this.winScrollTop + 'px';\r\n            } else {\r\n                document.body.classList.remove('mob-nav-is-opened');\r\n\r\n                if (this.winScrollTop > 0) {\r\n                    window.scrollTo(0, this.winScrollTop);\r\n                }\r\n            }\r\n        },\r\n\r\n        open: function (btnElem) {\r\n            var headerElem = document.getElementById(this.options.headerId);\r\n\r\n            if (!headerElem) return;\r\n\r\n            if (btnElem.classList.contains('opened')) {\r\n                this.close();\r\n            } else {\r\n                btnElem.classList.add('opened');\r\n                headerElem.classList.add('opened');\r\n                this.fixBody(true);\r\n            }\r\n        },\r\n\r\n        close: function () {\r\n            var headerElem = document.getElementById(this.options.headerId);\r\n\r\n            if (!headerElem) return;\r\n\r\n            headerElem.classList.remove('opened');\r\n\r\n            var openBtnElements = document.querySelectorAll(this.options.openBtn);\r\n\r\n            for (var i = 0; i < openBtnElements.length; i++) {\r\n                openBtnElements[i].classList.remove('opened');\r\n            }\r\n\r\n            this.fixBody(false);\r\n        },\r\n\r\n        init: function (options) {\r\n            this.options = options;\r\n\r\n            document.addEventListener('click', (e) => {\r\n                const openElem = e.target.closest(options.openBtn);\r\n\r\n                if (openElem) {\r\n                    e.preventDefault();\r\n                    this.open(openElem);\r\n                } else if (e.target.closest(options.closeBtn)) {\r\n                    e.preventDefault();\r\n                    this.close();\r\n                } else if (e.target.closest(options.closeLink)) {\r\n                    this.close();\r\n                }\r\n            });\r\n        }\r\n    };\r\n})();","/*\r\n* call Menu.init(Str menu item selector, Str sub menu selector);\r\n*/\r\nvar Menu;\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    Menu = {\r\n        toggle: function (elem, elementStr, subMenuStr) {\r\n            var subMenuElem = elem.querySelector(subMenuStr);\r\n\r\n            if (!subMenuElem) {\r\n                return;\r\n            }\r\n\r\n            if (elem.classList.contains('active')) {\r\n                subMenuElem.style.height = 0;\r\n\r\n                elem.classList.remove('active');\r\n            } else {\r\n                var mainElem = elem.closest('.menu'),\r\n                    itemElements = mainElem.querySelectorAll(elementStr),\r\n                    subMenuElements = mainElem.querySelectorAll(subMenuStr);\r\n\r\n                for (var i = 0; i < itemElements.length; i++) {\r\n                    itemElements[i].classList.remove('accord__button_active');\r\n                    subMenuElements[i].style.height = 0;\r\n                }\r\n\r\n                subMenuElem.style.height = subMenuElem.scrollHeight + 'px';\r\n\r\n                elem.classList.add('active');\r\n            }\r\n        },\r\n\r\n        init: function (elementStr, subMenuStr, viewport) {\r\n            document.addEventListener('click', (e) => {\r\n                var elem = e.target.closest(elementStr);\r\n\r\n                if (!elem || window.innerWidth > viewport) return;\r\n\r\n                if (e.target.getAttribute('href') == '#') e.preventDefault();\r\n\r\n                this.toggle(elem, elementStr, subMenuStr);\r\n            });\r\n        }\r\n    };\r\n})();"]}