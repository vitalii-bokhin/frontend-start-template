{"version":3,"sources":["global.js","header.js","menu.js","fsscroll.js","screens.js","toggle.js","flex-image.js","cover-image.js","lazy-load.js","video.js","popup.js","checkbox.js","radio.js","select.js","autocomplete.js","file.js","placeholder.js","maskinput.js","form.js","accord.js","more.js","tab.js","alert.js","tooltip.js","anchor.js","diagram.js","numberspin.js","share.js","timer.js","getcontentajax.js","dragline.js","animation.js","webgl.js","mouseparallax.js","zoom.js"],"names":["browser","elemIsHidden","ajax","animate","LocStor","document","documentElement","setAttribute","navigator","userAgent","toLowerCase","test","CustomEvent","e","window","event","params","evt","createEvent","bubbles","cancelable","detail","undefined","initCustomEvent","prototype","Object","create","Event","winResizedEvent","winWidthResizedEvent","rsz","beginWidth","innerWidth","addEventListener","setTimeout","dispatchEvent","Element","closest","ElProto","matches","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","selector","parentElement","elem","compStyle","getComputedStyle","display","visibility","opacity","options","xhr","XMLHttpRequest","method","open","url","send","setRequestHeader","onreadystatechange","readyState","status","success","response","error","draw","duration","ease","complete","start","performance","now","requestAnimationFrame","anim","time","timeFraction","easing","quad","Math","pow","set","prop","val","localStorage","setItem","get","getItem","MobNav","headerElem","getElementById","fixHeader","pageYOffset","classList","add","body","contains","remove","winScrollTop","fixBody","st","style","top","scrollTo","btnElem","headerId","close","openBtnElements","querySelectorAll","openBtn","i","length","init","openElem","target","preventDefault","closeBtn","closeLink","Menu","toggle","elementStr","subMenuStr","subMenuElem","querySelector","height","mainElem","itemElements","subMenuElements","scrollHeight","FsScroll","contElem","scrolling","delta","current","midWinScrollTop","innerHeight","screenElements","screen","screenOffsetTop","getBoundingClientRect","offsetHeight","scroll","progress","mouseScroll","currentScreenElem","winScrollBottom","nextScreenElem","nextElementSibling","currentScreenOffsetTop","nextScreenOffsetTop","previousElementSibling","container","deltaY","Screens","wrapHeight","wrapEl","screenElems","screenProps","curScreenInd","screenChanging","lastEvenSrc","onChange","opt","screenHadChanged","scrollHandler","goToScreen","ind","scrollInner","scrTop","scrEl","inScrollEl","sP","bottomEdge","topEdge","toFixed","scrBot","forEach","setProps","heightSum","sEl","screenVirtHeight","scrollTop","innerHTML","divider","horisontal","contEl","Toggle","toggledClass","toggleElem","state","targetElements","getAttribute","off","hasAttribute","dependenceTargetElements","el","toggleOff","btnEl","targetEls","toggleBtnEls","onDocClickOff","onDocClickOffSelector","curEl","toggleElements","targetSelectors","button","offBtnEl","offButton","onDocumenClickOff","FlexImg","elementsStr","load","images","split","image","imageProp","src","elements","CoverImg","cover","img","currentTarget","imgWrap","imgProportion","offsetWidth","imgWrapProportion","Infinity","reInit","parentElementStr","Date","getTime","LazyLoad","console","log","doLoad","backgroundImage","sel","Video","play","iFrame","createElement","vId","match","allow","allowFullscreen","appendChild","stop","frameBlockElem","Popup","MediaPopup","onClose","_onclose","onOpen","headerSelector","offset","clientWidth","right","callback","elemParent","message","msg","elemStr","closeBtnElem","location","hash","args","elemPopup","popupStr","elemImg","href","video","videoEl","prevEl","btnPlayEl","preview","next","group","index","slice","call","indexOf","btnSel","type","caption","ChangeCheckbox","hideCssClass","change","targetElem","checked","ChangeRadio","checkedElem","name","Select","field","onSelect","reset","parentElem","parElem","fieldElements","buttonElements","inputElements","valueElements","value","blur","closeAll","optionsElements","listItemElements","fieldEl","optionsElem","selectMultipleVal","input","toButtonValue","toInputValue","inputsBlock","checkedElements","join","yetInput","targetAction","valEls","vEl","showEls","txtInpEl","focus","hideEls","hEl","selectVal","valElem","disabled","Placeholder","hide","Form","submitForm","varHeightTextarea","setHeight","ValidateForm","select","setOptions","fieldSelector","optObj","nameKey","valKey","secValKey","li","secValAttr","keyboard","key","hoverItem","nextItem","item","firstElementChild","lastElementChild","build","parent","optionsList","selectedOption","require","placeholder","submitOnChange","head","multiple","class","inpDiv","hiddenInp","customElem","className","insertBefore","firstChild","removeChild","children","focusBlurIsDisabled","clearTimeout","inpElem","which","keyCode","AutoComplete","fieldElem","inputElem","getValues","optH","optionsHeight","searchValue","values","preReg","RegExp","valuesData","valData","replace","getAllValuesIfEmpty","itemElem","valueElem","keybinding","arrElem","CustomFile","filesObj","filesArrayObj","clear","id","labelText","fieldClass","lockUpload","removeAttribute","labTxtElem","maxFiles","loadPreview","file","fileItem","reader","FileReader","previewDiv","onload","imgDiv","result","readAsDataURL","changeInput","fileItems","files","setFilesObj","filesList","objKey","valueOf","push","inputFiles","getFiles","formElem","inputFileElements","filesArr","delBtnElem","clearBtnElem","elemFor","label","htmlFor","lSt","textIndent","paddingLeft","paddingRight","Maskinput","defValue","tel","evStr","reg","cursPos","selectionStart","str","p1","p2","p3","p4","res","errorTip","err","errInd","errorTxt","errTip","customErrorTip","isLockForm","validate","formError","errTxt","errTipElem","customFormErrorTip","txt","num","date","errDate","compDate","curDate","interval","getFullYear","getMonth","getDate","email","pass","minLng","checkbox","radio","checkedElement","errCount","ext","size","extRegExp","maxSize","fileItemElements","validateOnInput","dataType","selectElements","selectElem","groups","compElemVal","formSelector","mirror","mirrorOutput","NextFieldset","fwd","nextFieldset","currentFieldset","goTo","nextBtnSelector","prevBtnSelector","nextBtnElem","prevBtnElem","onSubmit","clearForm","textareaMirrors","actSubmitBtn","submit","ret","obj","unlockSubmitButton","ctrlKey","BindLabels","forID","DuplicateForm","modelElem","destElem","duplicatedDiv","dupicatedElements","dupicatedElem","labelElements","j","duplElem","addBtnSelector","removeBtnSelector","addBtnElem","removeBtnElem","Accord","contentElem","allButtonElem","allContentElem","More","btnTxt","Tab","btnElements","tabItemElements","tabItemElem","contElements","tabItemElemActive","changeOnHover","Alert","alertIndex","alertId","showOnce","hiddenAlert","alertElem","position","addClass","setContent","content","hidePermanently","ToolTip","tooltipDiv","tooltipClass","canBeHidden","onShow","show","X","Y","bubleStyle","elemRect","winW","coordX","coordY","left","marginLeft","marginRight","width","bottom","ontouchstart","mouseOut","bind","element","removeEventListener","mouseOver","mouseClick","Anchor","shift","anchorId","anchorSectionElem","ownShift","anchId","Diagram","canvasElement","canvasId","chartValues","charts","map","ctx","clearRect","center","x","y","prevChartsWidth","chart","drawChart","getContext","canvasWidth","startAngle","PI","endAngle","maxValue","radius","beginPath","arc","lineWidth","strokeStyle","color","stroke","outputNum","numElem","numContId","Numberspin","elemSel","format","numStr","String","round","Share","network","net","encodedHref","encodeURIComponent","encodedImageUrl","title","popup","Timer","elemId","continue","setCookie","cookie","toUTCString","output","min","floor","sec","timerOut","numToWord","wordsArr","minTxt","secTxt","minOut","secNum","minNum","clearInterval","onStop","startTime","lastTimestampValue","matchArr","stopwatch","setInterval","GetContentAjax","eventBtn","getContent","eventBtnElem","outputDivElem","outputDiv","sourceFile","DragLine","dragStart","dragLineElements","getElementsByClassName","lineClass","dlElem","getElementsByTagName","animationOnVisible","animElements","winBotEdge","animElem","animElemOffsetTop","animElemOffsetBot","WEBGL","VSTxt","FSTxt","loadTxtRes","successFun","Mouseparallax","elSel","_","defaultOpt","listener","deltaX","rangeX","rangeY","$","extend","startMousePos","listenerW","listenerH","cursorPos","direct","elems","each","$el","translateElement","startElementPos","attr","on","clientX","clientY","deltaMouse","startMousePosX","startMousePosY","translateX","translateY","css","Zoom","contSel","contPos","X2","Y2","zoomEl","zoomInnerEl","mOver","mMove","pageXOffset","move","pageX","pageY","sX","sY","end"],"mappings":"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","file":"script.js","sourcesContent":["// global variables\r\n; var browser, elemIsHidden, ajax, animate, LocStor;\r\n\r\n(function () {\r\n\t'use strict';\r\n\r\n\t// Get useragent\r\n\tdocument.documentElement.setAttribute('data-useragent', navigator.userAgent.toLowerCase());\r\n\r\n\t// Browser identify\r\n\tbrowser = (function (userAgent) {\r\n\t\tuserAgent = userAgent.toLowerCase();\r\n\r\n\t\tif (/(msie|rv:11\\.0)/.test(userAgent)) {\r\n\t\t\treturn 'ie';\r\n\t\t} else if (/firefox/.test(userAgent)) {\r\n\t\t\treturn 'ff';\r\n\t\t}\r\n\t})(navigator.userAgent);\r\n\r\n\t// Add support CustomEvent constructor for IE\r\n\ttry {\r\n\t\tnew CustomEvent(\"IE has CustomEvent, but doesn't support constructor\");\r\n\t} catch (e) {\r\n\t\twindow.CustomEvent = function (event, params) {\r\n\t\t\tvar evt = document.createEvent(\"CustomEvent\");\r\n\r\n\t\t\tparams = params || {\r\n\t\t\t\tbubbles: false,\r\n\t\t\t\tcancelable: false,\r\n\t\t\t\tdetail: undefined\r\n\t\t\t};\r\n\r\n\t\t\tevt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\r\n\r\n\t\t\treturn evt;\r\n\t\t}\r\n\r\n\t\tCustomEvent.prototype = Object.create(window.Event.prototype);\r\n\t}\r\n\r\n\t// Window Resized Event\r\n\tconst winResizedEvent = new CustomEvent('winResized'),\r\n\t\twinWidthResizedEvent = new CustomEvent('winWidthResized');\r\n\r\n\tlet rsz = true,\r\n\t\tbeginWidth = window.innerWidth;\r\n\r\n\twindow.addEventListener('resize', function () {\r\n\t\tif (rsz) {\r\n\t\t\trsz = false;\r\n\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\twindow.dispatchEvent(winResizedEvent);\r\n\r\n\t\t\t\tif (beginWidth != window.innerWidth) {\r\n\t\t\t\t\twindow.dispatchEvent(winWidthResizedEvent);\r\n\r\n\t\t\t\t\tbeginWidth = window.innerWidth\r\n\t\t\t\t}\r\n\r\n\t\t\t\trsz = true;\r\n\t\t\t}, 1021);\r\n\t\t}\r\n\t});\r\n\r\n\t// Closest polyfill\r\n\tif (!Element.prototype.closest) {\r\n\t\t(function (ElProto) {\r\n\t\t\tElProto.matches = ElProto.matches || ElProto.mozMatchesSelector || ElProto.msMatchesSelector || ElProto.oMatchesSelector || ElProto.webkitMatchesSelector;\r\n\r\n\t\t\tElProto.closest = ElProto.closest || function closest(selector) {\r\n\t\t\t\tif (!this) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.matches(selector)) {\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!this.parentElement) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn this.parentElement.closest(selector);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t})(Element.prototype);\r\n\t}\r\n\r\n\t// Check element for hidden\r\n\telemIsHidden = function (elem) {\r\n\t\twhile (elem) {\r\n\t\t\tif (!elem) break;\r\n\r\n\t\t\tconst compStyle = getComputedStyle(elem);\r\n\r\n\t\t\tif (compStyle.display == 'none' || compStyle.visibility == 'hidden' || compStyle.opacity == '0') return true;\r\n\r\n\t\t\telem = elem.parentElement;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// Ajax\r\n\tajax = function (options) {\r\n\t\tconst xhr = new XMLHttpRequest();\r\n\r\n\t\tif (options.method == 'GET') {\r\n\t\t\txhr.open('GET', options.url);\r\n\r\n\t\t\toptions.send = null;\r\n\t\t} else {\r\n\t\t\txhr.open('POST', options.url, );\r\n\r\n\t\t\tif (typeof options.send == 'string') {\r\n\t\t\t\txhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\txhr.onreadystatechange = function () {\r\n\t\t\tif (xhr.readyState == 4 && xhr.status == 200) {\r\n\t\t\t\tif (options.success) {\r\n\t\t\t\t\toptions.success(xhr.response);\r\n\t\t\t\t}\r\n\t\t\t} else if (xhr.readyState == 4 && xhr.status != 200) {\r\n\t\t\t\tif (options.error) {\r\n\t\t\t\t\toptions.error(xhr.response);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\txhr.send(options.send);\r\n\t}\r\n\r\n\t/*\r\n\tAnimation\r\n\tanimate(function(takes 0...1) {}, Int duration in ms[, Str easing[, Fun animation complete]]);\r\n\t*/\r\n\tanimate = function (draw, duration, ease, complete) {\r\n\t\tconst start = performance.now();\r\n\r\n\t\trequestAnimationFrame(function anim(time) {\r\n\t\t\tlet timeFraction = (time - start) / duration;\r\n\r\n\t\t\tif (timeFraction > 1) {\r\n\t\t\t\ttimeFraction = 1;\r\n\t\t\t}\r\n\r\n\t\t\tdraw((ease) ? easing(timeFraction, ease) : timeFraction);\r\n\r\n\t\t\tif (timeFraction < 1) {\r\n\t\t\t\trequestAnimationFrame(anim);\r\n\t\t\t} else {\r\n\t\t\t\tif (complete !== undefined) {\r\n\t\t\t\t\tcomplete();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction easing(timeFraction, ease) {\r\n\t\tswitch (ease) {\r\n\t\t\tcase 'easeInQuad':\r\n\t\t\t\treturn quad(timeFraction);\r\n\r\n\t\t\tcase 'easeOutQuad':\r\n\t\t\t\treturn 1 - quad(1 - timeFraction);\r\n\r\n\t\t\tcase 'easeInOutQuad':\r\n\t\t\t\tif (timeFraction <= 0.5) {\r\n\t\t\t\t\treturn quad(2 * timeFraction) / 2;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn (2 - quad(2 * (1 - timeFraction))) / 2;\r\n\t\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction quad(timeFraction) {\r\n\t\treturn Math.pow(timeFraction, 2)\r\n\t}\r\n\r\n\t// Local Storage\r\n\tLocStor = {\r\n\t\tset: function(prop, val) {\r\n\t\t\twindow.localStorage.setItem(prop, val);\r\n\t\t},\r\n\r\n\t\tget: function(prop) {\r\n\t\t\tconst val = window.localStorage.getItem(prop);\r\n\r\n\t\t\treturn (val !== null) ? val : false;\r\n\t\t}\r\n\t};\r\n\r\n})();","/* \r\n\tMobNav.init({\r\n\t\topenBtn: '.js-open-menu',\r\n\t\tcloseBtn: '.js-close-menu',\r\n\t\theaderId: 'header',\r\n\t\tcloseLink: '.menu a.js-anchor'\r\n\t});\r\n*/\r\n\r\n; var MobNav;\r\n\r\n(function () {\r\n\t'use strict';\r\n\r\n\t// fix header\r\n\tdocument.addEventListener('DOMContentLoaded', function () {\r\n\t\tconst headerElem = document.getElementById('header');\r\n\r\n\t\tfunction fixHeader() {\r\n\t\t\tif (window.pageYOffset > 21) {\r\n\t\t\t\theaderElem.classList.add('header_fixed');\r\n\t\t\t} else if (\r\n\t\t\t\t!document.body.classList.contains('popup-is-opened') &&\r\n\t\t\t\t!document.body.classList.contains('mob-nav-is-opened')\r\n\t\t\t) {\r\n\t\t\t\theaderElem.classList.remove('header_fixed');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfixHeader();\r\n\r\n\t\twindow.addEventListener('scroll', fixHeader);\r\n\t});\r\n\r\n\t//mob menu\r\n\tMobNav = {\r\n\t\toptions: null,\r\n\t\twinScrollTop: 0,\r\n\r\n\t\tfixBody: function (st) {\r\n\t\t\tif (st) {\r\n\t\t\t\tthis.winScrollTop = window.pageYOffset;\r\n\r\n\t\t\t\tdocument.body.classList.add('mob-nav-is-opened');\r\n\t\t\t\tdocument.body.style.top = -this.winScrollTop + 'px';\r\n\t\t\t} else {\r\n\t\t\t\tdocument.body.classList.remove('mob-nav-is-opened');\r\n\r\n\t\t\t\tif (this.winScrollTop > 0) {\r\n\t\t\t\t\twindow.scrollTo(0, this.winScrollTop);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\topen: function (btnElem) {\r\n\t\t\tvar headerElem = document.getElementById(this.options.headerId);\r\n\r\n\t\t\tif (!headerElem) return;\r\n\r\n\t\t\tif (btnElem.classList.contains('opened')) {\r\n\t\t\t\tthis.close();\r\n\t\t\t} else {\r\n\t\t\t\tbtnElem.classList.add('opened');\r\n\t\t\t\theaderElem.classList.add('opened');\r\n\t\t\t\tthis.fixBody(true);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tclose: function () {\r\n\t\t\tvar headerElem = document.getElementById(this.options.headerId);\r\n\r\n\t\t\tif (!headerElem) return;\r\n\r\n\t\t\theaderElem.classList.remove('opened');\r\n\r\n\t\t\tvar openBtnElements = document.querySelectorAll(this.options.openBtn);\r\n\r\n\t\t\tfor (var i = 0; i < openBtnElements.length; i++) {\r\n\t\t\t\topenBtnElements[i].classList.remove('opened');\r\n\t\t\t}\r\n\r\n\t\t\tthis.fixBody(false);\r\n\t\t},\r\n\r\n\t\tinit: function (options) {\r\n\t\t\tthis.options = options;\r\n\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tconst openElem = e.target.closest(options.openBtn);\r\n\r\n\t\t\t\tif (openElem) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tthis.open(openElem);\r\n\t\t\t\t} else if (e.target.closest(options.closeBtn)) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t} else if (e.target.closest(options.closeLink)) {\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n})();","/*\r\n* call Menu.init(Str menu item selector, Str sub menu selector);\r\n*/\r\nvar Menu;\r\n\r\n(function() {\r\n\t'use strict';\r\n\r\n\tMenu = {\r\n\t\ttoggle: function(elem, elementStr, subMenuStr) {\r\n\t\t\tvar subMenuElem = elem.querySelector(subMenuStr);\r\n\r\n\t\t\tif (!subMenuElem) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (elem.classList.contains('active')) {\r\n\t\t\t\tsubMenuElem.style.height = 0;\r\n\r\n\t\t\t\telem.classList.remove('active');\r\n\t\t\t} else {\r\n\t\t\t\tvar mainElem = elem.closest('.menu'),\r\n\t\t\t\titemElements = mainElem.querySelectorAll(elementStr),\r\n\t\t\t\tsubMenuElements = mainElem.querySelectorAll(subMenuStr);\r\n\r\n\t\t\t\tfor (var i = 0; i < itemElements.length; i++) {\r\n\t\t\t\t\titemElements[i].classList.remove('accord__button_active');\r\n\t\t\t\t\tsubMenuElements[i].style.height = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsubMenuElem.style.height = subMenuElem.scrollHeight +'px';\r\n\r\n\t\t\t\telem.classList.add('active');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr, subMenuStr) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementStr);\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.toggle(elem, elementStr, subMenuStr);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n})();","/*\r\nFsScroll.init({\r\n\tcontainer: Str selector,\r\n\tscreen: Str selector,\r\n\tduration: Int milliseconds\r\n});\r\n*/\r\n\r\n; var FsScroll;\r\n\r\n(function() {\r\n\t'use strict';\r\n\r\n\tFsScroll = {\r\n\t\toptions: null,\r\n\t\tcontElem: null,\r\n\t\tscrolling: false,\r\n\t\tdelta: 0,\r\n\r\n\t\tcurrent: function() {\r\n\t\t\tvar midWinScrollTop = window.pageYOffset + window.innerHeight / 2,\r\n\t\t\tscreenElements = this.contElem.querySelectorAll(this.options.screen);\r\n\r\n\t\t\tfor (var i = 0; i < screenElements.length; i++) {\r\n\t\t\t\tscreenElements[i].classList.remove('fsscroll__screen_current');\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < screenElements.length; i++) {\r\n\t\t\t\tvar screenOffsetTop = screenElements[i].getBoundingClientRect().top + window.pageYOffset;\r\n\r\n\t\t\t\tif (screenOffsetTop <= midWinScrollTop && (screenOffsetTop + screenElements[i].offsetHeight) >= midWinScrollTop) {\r\n\r\n\t\t\t\t\tscreenElements[i].classList.add('fsscroll__screen_current');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tscroll: function(scrollTo, scroll) {\r\n\t\t\tthis.scrolling = true;\r\n\t\t\t\r\n\t\t\tvar duration = this.options.duration || 1000,\r\n\t\t\teasing = 'easeInOutQuad';\r\n\r\n\t\t\tif (scroll) {\r\n\t\t\t\tduration = 500;\r\n\t\t\t\teasing = 'easeInOutQuad';\r\n\t\t\t}\r\n\r\n\t\t\tanimate(function(progress) {\r\n\t\t\t\twindow.scrollTo(0, ((scrollTo * progress) + ((1 - progress) * window.pageYOffset)));\r\n\t\t\t}, duration, easing, () => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.current();\r\n\r\n\t\t\t\t\tthis.scrolling = false;\r\n\t\t\t\t\tthis.delta = 0;\r\n\t\t\t\t}, 321);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tmouseScroll: function(delta) {\r\n\t\t\tvar currentScreenElem = this.contElem.querySelector('.fsscroll__screen_current'),\r\n\t\t\twinScrollBottom = window.pageYOffset + window.innerHeight;\r\n\r\n\t\t\tif (delta > 0) {\r\n\t\t\t\tvar nextScreenElem = (currentScreenElem) ? currentScreenElem.nextElementSibling : null;\r\n\r\n\t\t\t\tif (currentScreenElem && ((currentScreenElem.offsetHeight - 21) < window.innerHeight) && !currentScreenElem.classList.contains('fsscroll__screen_last')) {\r\n\t\t\t\t\tif (!this.scrolling) {\r\n\t\t\t\t\t\tvar currentScreenOffsetTop = currentScreenElem.getBoundingClientRect().top + window.pageYOffset;\r\n\r\n\t\t\t\t\t\tif ((window.pageYOffset + 21) < currentScreenOffsetTop) {\r\n\t\t\t\t\t\t\tthis.scroll(currentScreenOffsetTop);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.scroll(nextScreenElem.getBoundingClientRect().top + window.pageYOffset);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar nextScreenOffsetTop = (nextScreenElem) ? nextScreenElem.getBoundingClientRect().top + window.pageYOffset : undefined;\r\n\r\n\t\t\t\t\tif (nextScreenElem && (winScrollBottom > nextScreenOffsetTop)) {\r\n\t\t\t\t\t\tif (!this.scrolling) {\r\n\t\t\t\t\t\t\tthis.scroll(nextScreenOffsetTop);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.delta += delta / 3;\r\n\r\n\t\t\t\t\t\tthis.scroll(window.pageYOffset + this.delta, true);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (delta < 0) {\r\n\t\t\t\tvar nextScreenElem = (currentScreenElem) ? currentScreenElem.previousElementSibling : null;\r\n\r\n\t\t\t\tif (nextScreenElem && ((currentScreenElem.offsetHeight - 21) < window.innerHeight) && !currentScreenElem.classList.contains('fsscroll__screen_first')) {\r\n\t\t\t\t\tif (!this.scrolling) {\r\n\t\t\t\t\t\tvar currentScreenOffsetTop = currentScreenElem.getBoundingClientRect().top + window.pageYOffset;\r\n\r\n\t\t\t\t\t\tif ((winScrollBottom - 21) > (currentScreenOffsetTop + currentScreenElem.offsetHeight)) {\r\n\t\t\t\t\t\t\tthis.scroll(currentScreenOffsetTop + currentScreenElem.offsetHeight - window.innerHeight);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.scroll(nextScreenElem.getBoundingClientRect().top + window.pageYOffset + nextScreenElem.offsetHeight - window.innerHeight);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar nextScreenOffsetTop = (nextScreenElem) ? nextScreenElem.getBoundingClientRect().top + window.pageYOffset : undefined;\r\n\r\n\t\t\t\t\tif (nextScreenElem && ((nextScreenOffsetTop + nextScreenElem.offsetHeight) > window.pageYOffset)) {\r\n\t\t\t\t\t\tif (!this.scrolling) {\r\n\t\t\t\t\t\t\tthis.scroll(nextScreenOffsetTop);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.delta += delta / 3;\r\n\t\t\t\t\t\tthis.scroll(window.pageYOffset + this.delta, true);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function(options) {\r\n\t\t\tvar contElem = document.querySelector(options.container);\r\n\r\n\t\t\tif (!contElem) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.options = options;\r\n\t\t\tthis.contElem = contElem;\r\n\r\n\t\t\tvar screenElements = contElem.querySelectorAll(options.screen);\r\n\r\n\t\t\tscreenElements[0].classList.add('fsscroll__screen_first');\r\n\t\t\tscreenElements[0].classList.add('fsscroll__screen_current');\r\n\t\t\tscreenElements[screenElements.length - 1].classList.add('fsscroll__screen_last');\r\n\r\n\t\t\tif ('onwheel' in document) {\r\n\t\t\t\tdocument.addEventListener('wheel', (e) => {\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\tthis.mouseScroll(e.deltaY);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\twindow.addEventListener('scroll', () => {\r\n\t\t\t\tif (!this.scrolling) {\r\n\t\t\t\t\tthis.current();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n})();","; var Screens;\r\n\r\n(function () {\r\n\t'use strict';\r\n\r\n\tScreens = {\r\n\t\twrapHeight: 0,\r\n\t\twrapEl: 0,\r\n\t\tscreenElems: null,\r\n\t\tscreenProps: null,\r\n\t\tcurScreenInd: 0,\r\n\t\tscreenChanging: false,\r\n\t\tlastEvenSrc: 'win',\r\n\t\tonChange: null,\r\n\t\topt: {},\r\n\r\n\t\tscreenHadChanged: function () {\r\n\t\t\tif (this.lastEvenSrc == 'fun') return;\r\n\r\n\t\t\tthis.lastEvenSrc = 'fun';\r\n\r\n\t\t\tthis.scrollHandler(window.pageYOffset);\r\n\r\n\t\t\tif (this.onChange) {\r\n\t\t\t\tthis.onChange();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tgoToScreen: function (ind) {\r\n\t\t\tif (ind == this.curScreenInd) return;\r\n\r\n\t\t\tthis.screenChanging = true;\r\n\r\n\t\t\tthis.screenElems[this.curScreenInd].classList.remove('screen_current');\r\n\r\n\t\t\tif (ind < this.curScreenInd) {\r\n\t\t\t\tthis.screenElems[this.curScreenInd].classList.remove('screen_top');\r\n\t\t\t}\r\n\r\n\t\t\tthis.screenElems[ind].classList.add('screen_top');\r\n\t\t\tthis.screenElems[ind].classList.add('screen_current');\r\n\r\n\t\t\tthis.curScreenInd = ind;\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.screenChanging = false;\r\n\t\t\t\tthis.screenHadChanged();\r\n\t\t\t}, 1000);\r\n\t\t},\r\n\r\n\t\tscrollInner: function (scrTop) {\r\n\t\t\tfor (let i = 0; i < this.screenElems.length; i++) {\r\n\t\t\t\tconst scrEl = this.screenElems[i];\r\n\r\n\t\t\t\tif (!scrEl.classList.contains('screen_inner-scroll')) continue;\r\n\r\n\t\t\t\tconst inScrollEl = scrEl.querySelector('.screen_inner-scroll__in'),\r\n\t\t\t\t\tsP = this.screenProps[i];\r\n\r\n\t\t\t\t// let top = sP.topEdge - scrTop;\r\n\t\t\t\tlet top = ((inScrollEl.offsetHeight - window.innerHeight) / 100) * (scrTop / ((sP.bottomEdge - sP.topEdge - window.innerHeight) / 100)) * -1;\r\n\r\n\t\t\t\tif (top > 0) {\r\n\t\t\t\t\ttop = 0;\r\n\t\t\t\t} else if (top < scrEl.offsetHeight - inScrollEl.offsetHeight) {\r\n\t\t\t\t\ttop = scrEl.offsetHeight - inScrollEl.offsetHeight;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tinScrollEl.style.top = top.toFixed(0) + 'px';\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tscrollHandler: function (scrTop) {\r\n\t\t\tconst scrBot = scrTop + window.innerHeight;\r\n\r\n\t\t\tthis.scrollInner(scrTop);\r\n\r\n\t\t\tif (this.screenChanging) return;\r\n\r\n\t\t\tthis.screenProps.forEach((sP, i) => {\r\n\t\t\t\tif (scrTop >= sP.topEdge && scrTop < sP.bottomEdge) {\r\n\t\t\t\t\tthis.goToScreen(i);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (scrBot + (window.innerHeight / 3) >= sP.bottomEdge) {\r\n\t\t\t\t\tthis.screenElems[i].classList.add('screen_bottom-edge');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.screenElems[i].classList.remove('screen_bottom-edge');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t},\r\n\r\n\t\tsetProps: function () {\r\n\t\t\tif (!this.screenElems) return;\r\n\r\n\t\t\tlet heightSum = 0;\r\n\r\n\t\t\tthis.screenProps = [];\r\n\r\n\t\t\tthis.screenElems[0].classList.add('screen_top');\r\n\t\t\tthis.screenElems[0].classList.add('screen_first');\r\n\r\n\t\t\tfor (let i = 0; i < this.screenElems.length; i++) {\r\n\t\t\t\tconst sEl = this.screenElems[i];\r\n\r\n\t\t\t\tlet screenVirtHeight;\r\n\r\n\t\t\t\tsEl.style.height = window.innerHeight + 'px';\r\n\r\n\t\t\t\tif (sEl.scrollHeight > sEl.offsetHeight) {\r\n\t\t\t\t\tscreenVirtHeight = sEl.scrollHeight + sEl.scrollTop;\r\n\r\n\t\t\t\t\tsEl.classList.add('screen_inner-scroll');\r\n\r\n\t\t\t\t\tsEl.innerHTML = '<div class=\"screen_inner-scroll__in\">' + sEl.innerHTML + '</div>';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tscreenVirtHeight = (window.innerWidth > 1200) ? 121 : sEl.scrollHeight + sEl.scrollTop;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (i == 1) {\r\n\t\t\t\t\tscreenVirtHeight = screenVirtHeight * 2;\r\n\t\t\t\t}\r\n\r\n\t\t\t\theightSum += screenVirtHeight;\r\n\r\n\t\t\t\tthis.screenProps[i] = {\r\n\t\t\t\t\ttopEdge: (!i) ? 0 : this.screenProps[i - 1].bottomEdge + 1,\r\n\t\t\t\t\tbottomEdge: heightSum,\r\n\t\t\t\t\tdivider: (i == 1) ? 2 : 1\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tif (this.opt.horisontal != true) {\r\n\t\t\t\tthis.wrapHeight = heightSum;\r\n\t\t\t\tthis.wrapEl.style.height = heightSum + 'px';\r\n\t\t\t} else {\r\n\t\t\t\tthis.wrapEl.classList.add('screen-horisontal');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function (opt) {\r\n\t\t\tconst wrapEl = document.querySelector('.screen-wrap');\r\n\r\n\t\t\tthis.opt = opt || {};\r\n\r\n\t\t\tif (!wrapEl) return;\r\n\r\n\t\t\tconst contEl = document.querySelector('.screen-container'),\r\n\t\t\t\tscreenElems = contEl.querySelectorAll('.screen');\r\n\r\n\t\t\tthis.wrapEl = wrapEl;\r\n\t\t\tthis.screenElems = screenElems;\r\n\r\n\t\t\tthis.setProps();\r\n\r\n\t\t\twindow.addEventListener('scroll', () => {\r\n\t\t\t\tthis.lastEvenSrc = 'win';\r\n\t\t\t\tthis.scrollHandler(window.pageYOffset);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n})();","/*\r\nToggle.init({\r\n\tbutton: '.js-tgl-btn',\r\n\tonDocumenClickOff: '.js-tgl-off-on-doc',\r\n\toffButton: '.js-tgl-off',\r\n\ttoggledClass: 'toggled' // def: toggled\r\n});\r\n\r\nToggle.onChange = function(toggleElem, targetElements, state) {\r\n\t// code...\r\n}\r\n*/\r\n\r\n; var Toggle;\r\n\r\n(function () {\r\n\t'use strict';\r\n\r\n\tToggle = {\r\n\t\ttoggledClass: 'toggled',\r\n\t\tonChange: null,\r\n\r\n\t\ttarget: function (toggleElem, state) {\r\n\t\t\tvar targetElements = document.querySelectorAll(toggleElem.getAttribute('data-target-elements'));\r\n\r\n\t\t\tif (!targetElements.length) return;\r\n\r\n\t\t\tif (state) {\r\n\t\t\t\tfor (var i = 0; i < targetElements.length; i++) {\r\n\t\t\t\t\ttargetElements[i].classList.add(this.toggledClass);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor (var i = 0; i < targetElements.length; i++) {\r\n\t\t\t\t\ttargetElements[i].classList.remove(this.toggledClass);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//call onChange\r\n\t\t\tif (this.onChange) {\r\n\t\t\t\tthis.onChange(toggleElem, targetElements, state);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\ttoggle: function (toggleElem, off) {\r\n\t\t\tvar state;\r\n\r\n\t\t\tif (toggleElem.classList.contains(this.toggledClass)) {\r\n\t\t\t\ttoggleElem.classList.remove(this.toggledClass);\r\n\r\n\t\t\t\tstate = false;\r\n\r\n\t\t\t\tif (toggleElem.hasAttribute('data-first-text')) {\r\n\t\t\t\t\ttoggleElem.innerHTML = toggleElem.getAttribute('data-first-text');\r\n\t\t\t\t}\r\n\t\t\t} else if (!off) {\r\n\t\t\t\tif (toggleElem.getAttribute('data-type') != 'button') {\r\n\t\t\t\t\ttoggleElem.classList.add(this.toggledClass);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tstate = true;\r\n\r\n\t\t\t\tif (toggleElem.hasAttribute('data-second-text')) {\r\n\t\t\t\t\ttoggleElem.setAttribute('data-first-text', toggleElem.innerHTML);\r\n\r\n\t\t\t\t\ttoggleElem.innerHTML = toggleElem.getAttribute('data-second-text');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//target\r\n\t\t\tif (toggleElem.hasAttribute('data-target-elements')) {\r\n\t\t\t\tthis.target(toggleElem, state);\r\n\t\t\t}\r\n\r\n\t\t\tif (!state) return;\r\n\r\n\t\t\t//dependence elements\r\n\t\t\tif (toggleElem.hasAttribute('data-dependence-target-elements')) {\r\n\t\t\t\tconst dependenceTargetElements = document.querySelectorAll(toggleElem.getAttribute('data-dependence-target-elements'));\r\n\r\n\t\t\t\tfor (let i = 0; i < dependenceTargetElements.length; i++) {\r\n\t\t\t\t\tconst el = dependenceTargetElements[i];\r\n\r\n\t\t\t\t\tdependenceTargetElements[i].classList.remove(this.toggledClass);\r\n\r\n\t\t\t\t\tif (el.hasAttribute('data-target-elements')) {\r\n\t\t\t\t\t\tthis.target(el, false);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\ttoggleOff: function (btnEl) {\r\n\t\t\tconst targetEls = btnEl.getAttribute('data-target-elements'),\r\n\t\t\t\ttoggleBtnEls = document.querySelectorAll('.' + this.toggledClass +\r\n\t\t\t\t'[data-target-elements*=\"' + targetEls + '\"]');\r\n\r\n\t\t\tthis.target(btnEl, false);\r\n\r\n\t\t\tfor (var i = 0; i < toggleBtnEls.length; i++) {\r\n\t\t\t\ttoggleBtnEls[i].classList.remove(this.toggledClass);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonDocClickOff: function (e, onDocClickOffSelector, curEl) {\r\n\t\t\tif (!onDocClickOffSelector) return;\r\n\r\n\t\t\tvar toggleElements = document.querySelectorAll(onDocClickOffSelector + '.' + this.toggledClass);\r\n\r\n\t\t\tfor (var i = 0; i < toggleElements.length; i++) {\r\n\t\t\t\tvar elem = toggleElements[i];\r\n\r\n\t\t\t\tif (curEl === elem) continue;\r\n\r\n\t\t\t\tif (elem.hasAttribute('data-target-elements')) {\r\n\t\t\t\t\tvar targetSelectors = elem.getAttribute('data-target-elements');\r\n\r\n\t\t\t\t\tif (!e.target.closest(targetSelectors)) {\r\n\t\t\t\t\t\tthis.toggle(elem, true);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.toggle(elem, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function (opt) {\r\n\t\t\tif (opt.toggledClass) {\r\n\t\t\t\tthis.toggledClass = opt.toggledClass;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tconst btnEl = e.target.closest(opt.button),\r\n\t\t\t\t\toffBtnEl = e.target.closest(opt.offButton);\r\n\r\n\t\t\t\tif (btnEl) {\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\tthis.toggle(btnEl);\r\n\t\t\t\t} else if (offBtnEl) {\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\tthis.toggleOff(offBtnEl);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.onDocClickOff(e, opt.onDocumenClickOff, btnEl);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n})();","; var FlexImg;\r\n\r\n(function() {\r\n\t'use strict';\r\n\r\n\tFlexImg = function(elementsStr) {\r\n\r\n\t\tfunction load(elem) {\r\n\r\n\t\t\tif (!elem.hasAttribute('data-images')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar images = elem.getAttribute('data-images').split(',');\r\n\r\n\t\t\timages.forEach(function(image) {\r\n\r\n\t\t\t\tvar imageProp = image.split('->');\r\n\r\n\t\t\t\tif (window.innerWidth < (+imageProp[0])) {\r\n\t\t\t\t\telem.src = imageProp[1];\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t\t//init\r\n\t\tvar elements = document.querySelectorAll(elementsStr);\r\n\r\n\t\tif (elements.length) {\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tload(elements[i]);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n})();","/* \r\nCoverImg.init([Str parent element selector]);\r\n\r\nCoverImg.reInit([Str parent element selector]);\r\n*/\r\n; var CoverImg;\r\n\r\n(function() {\r\n\t'use strict';\r\n\r\n\tCoverImg = {\r\n\t\tcover: function(e) {\r\n\t\t\tvar img = e.currentTarget,\r\n\t\t\timgWrap = img.closest('.cover-img-wrap'),\r\n\t\t\timgProportion = img.offsetWidth/img.offsetHeight,\r\n\t\t\timgWrapProportion = imgWrap.offsetWidth/imgWrap.offsetHeight;\r\n\r\n\t\t\tif (imgWrapProportion != Infinity && imgWrapProportion < 21) {\r\n\r\n\t\t\t\tif (imgProportion <= imgWrapProportion) {\r\n\t\t\t\t\t// var margin = Math.round(-(imgWrap.offsetWidth / imgProportion - imgWrap.offsetHeight) / 2);\r\n\r\n\t\t\t\t\timg.classList.add('cover-img_w');\r\n\t\t\t\t\t// img.style.marginTop = margin +'px';\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// var margin = Math.round(-(imgWrap.offsetHeight * imgProportion - imgWrap.offsetWidth) / 2);\r\n\r\n\t\t\t\t\timg.classList.add('cover-img_h');\r\n\t\t\t\t\t// img.style.marginLeft = margin +'px';\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\timg.classList.add('cover-img_w');\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\treInit: function(parentElementStr) {\r\n\r\n\t\t\tvar elements;\r\n\r\n\t\t\tif (parentElementStr) {\r\n\t\t\t\tif (typeof parentElementStr == 'string') {\r\n\t\t\t\t\telements = document.querySelectorAll(parentElementStr +' .cover-img');\r\n\t\t\t\t} else {\r\n\t\t\t\t\telements = parentElementStr.querySelectorAll('.cover-img');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\telements = document.querySelectorAll('.cover-img');\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar img = elements[i];\r\n\r\n\t\t\t\timg.classList.remove('cover-img_w');\r\n\t\t\t\timg.classList.remove('cover-img_h');\r\n\t\t\t\t// img.style.marginTop = '';\r\n\t\t\t\t// img.style.marginLeft = '';\r\n\t\t\t\timg.src = (browser == 'ie') ? (img.src +'?'+ new Date().getTime()) : img.src;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tinit: function(parentElementStr) {\r\n\t\t\tvar elements = (parentElementStr) ? document.querySelectorAll(parentElementStr +' .cover-img, '+ parentElementStr +' .cover-img-wrap') : document.querySelectorAll('.cover-img, .cover-img-wrap');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i],\r\n\t\t\t\timg;\r\n\r\n\t\t\t\tif (elem.classList.contains('cover-img-wrap')) {\r\n\r\n\t\t\t\t\timg = elem.querySelector('img');\r\n\r\n\t\t\t\t\timg.classList.add('cover-img');\r\n\r\n\t\t\t\t} else if (elem.classList.contains('cover-img')) {\r\n\r\n\t\t\t\t\timg = elem;\r\n\r\n\t\t\t\t\timg.parentElement.classList.add('cover-img-wrap');\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!img.hasAttribute('data-event')) {\r\n\r\n\t\t\t\t\timg.addEventListener('load', this.cover);\r\n\r\n\t\t\t\t\timg.setAttribute('data-event', 'true');\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (browser == 'ie') {\r\n\t\t\t\t\timg.src = img.src +'?'+ new Date().getTime();\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n})();","/* \r\nnew LazyLoad({\r\n   selector: @Str,\r\n   event: false\r\n});\r\n*/\r\n\r\n; var LazyLoad;\r\n\r\n(function () {\r\n   'use strict';\r\n\r\n   LazyLoad = function (opt) {\r\n      opt = opt || {};\r\n\r\n      const elements = document.querySelectorAll(opt.selector);\r\n\r\n      if (opt.event) {\r\n         if (opt.event == 'scroll') {\r\n            window.addEventListener('scroll', function (e) {\r\n               for (let i = 0; i < elements.length; i++) {\r\n                  const el = elements[i];\r\n\r\n                  console.log(el.getBoundingClientRect());\r\n               }\r\n            });\r\n         }\r\n      } else {\r\n         setTimeout(function () {\r\n            doLoad(elements);\r\n         }, 1000);\r\n      }\r\n\r\n      function doLoad(elements) {\r\n         for (let i = 0; i < elements.length; i++) {\r\n            const elem = elements[i];\r\n\r\n            if (elem.hasAttribute('data-src')) {\r\n               elem.src = elem.getAttribute('data-src');\r\n            } else if (elem.hasAttribute('data-bg-url')) {\r\n               elem.style.backgroundImage = 'url(' + elem.getAttribute('data-bg-url') + ')';\r\n            }\r\n         }\r\n      }\r\n\r\n      return {\r\n         load: function (sel) {\r\n            const elements = document.querySelectorAll(sel);\r\n            doLoad(elements);\r\n         }\r\n      }\r\n   }\r\n})();","/*\r\nVideo.init(Str button selector);\r\n*/\r\nvar Video;\r\n\r\n(function() {\r\n\t'use strict';\r\n\t\r\n\tVideo = {\r\n\t\tplay: function(elem) {\r\n\t\t\telem.nextElementSibling.classList.add('video__frame_visible');\r\n\t\t\t\r\n\t\t\tconst iFrame = document.createElement('iframe'),\r\n\t\t\tvId = elem.getAttribute('data-src').match(/(?:youtu\\.be\\/|youtube\\.com\\/watch\\?v\\=|youtube\\.com\\/embed\\/)+?([\\w-]+)/i)[1];\r\n\t\t\t\r\n\t\t\tiFrame.src = 'https://www.youtube.com/embed/'+ vId +'?autoplay=1&rel=0&amp;showinfo=0';\r\n\t\t\tiFrame.allow = 'autoplay; encrypted-media';\r\n\t\t\tiFrame.allowFullscreen = true;\r\n\t\t\t\r\n\t\t\tiFrame.addEventListener('load', function() {\r\n\t\t\t\tiFrame.classList.add('visible');\r\n\r\n\t\t\t\telem.nextElementSibling.classList.add('video__frame_played');\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\telem.nextElementSibling.appendChild(iFrame);\r\n\t\t},\r\n\r\n\t\tstop: function() {\r\n\t\t\tconst frameBlockElem = document.querySelector('.video__frame_played');\r\n\t\t\t\r\n\t\t\tif (!frameBlockElem) return;\r\n\r\n\t\t\tframeBlockElem.innerHTML = '';\r\n\t\t\tframeBlockElem.classList.remove('video__frame_visible');\r\n\t\t\tframeBlockElem.classList.remove('video__frame_played');\r\n\t\t},\r\n\t\t\r\n\t\tinit: function(elementStr) {\r\n\t\t\tif (!document.querySelectorAll('.video').length) return;\r\n\t\t\t\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tconst elem = e.target.closest(elementStr);\r\n\t\t\t\t\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.play(elem);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n})();","var Popup, MediaPopup;\r\n\r\n(function () {\r\n\t'use strict';\r\n\r\n\t//popup core\r\n\tPopup = {\r\n\t\twinScrollTop: 0,\r\n\t\tonClose: null,\r\n\t\t_onclose: null,\r\n\t\tonOpen: null,\r\n\t\theaderSelector: '.header',\r\n\r\n\t\tfixBody: function (st) {\r\n\t\t\tvar headerElem = document.querySelector(this.headerSelector);\r\n\r\n\t\t\tif (st && !document.body.classList.contains('popup-is-opened')) {\r\n\t\t\t\tthis.winScrollTop = window.pageYOffset;\r\n\r\n\t\t\t\tvar offset = window.innerWidth - document.documentElement.clientWidth;\r\n\r\n\t\t\t\tdocument.body.classList.add('popup-is-opened');\r\n\r\n\t\t\t\tif (headerElem) {\r\n\t\t\t\t\theaderElem.style.right = offset + 'px';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdocument.body.style.right = offset + 'px';\r\n\r\n\t\t\t\tdocument.body.style.top = (-this.winScrollTop) + 'px';\r\n\t\t\t} else if (!st) {\r\n\t\t\t\tif (headerElem) {\r\n\t\t\t\t\theaderElem.style.right = '';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdocument.body.classList.remove('popup-is-opened');\r\n\r\n\t\t\t\twindow.scrollTo(0, this.winScrollTop);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\topen: function (elementStr, callback, btnElem) {\r\n\t\t\tvar elem = document.querySelector(elementStr);\r\n\r\n\t\t\tif (!elem || !elem.classList.contains('popup__window')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.close();\r\n\r\n\t\t\tvar elemParent = elem.parentElement;\r\n\r\n\t\t\telemParent.classList.add('popup_visible');\r\n\r\n\t\t\telemParent.scrollTop = 0;\r\n\r\n\t\t\telem.classList.add('popup__window_visible');\r\n\r\n\t\t\tif (callback) {\r\n\t\t\t\tthis._onclose = callback;\r\n\t\t\t}\r\n\r\n\t\t\tthis.fixBody(true);\r\n\r\n\t\t\tif (this.onOpen) {\r\n\t\t\t\tthis.onOpen(elementStr, btnElem);\r\n\t\t\t}\r\n\r\n\t\t\treturn elem;\r\n\t\t},\r\n\r\n\t\tmessage: function (msg, elementStr, callback) {\r\n\t\t\tconst elemStr = elementStr || '#message-popup',\r\n\t\t\t\telem = this.open(elemStr, callback);\r\n\r\n\t\t\telem.querySelector('.popup__inner').innerHTML = '<div class=\"popup__message m-0\">' + msg + '</div>';\r\n\t\t},\r\n\r\n\t\tclose: function () {\r\n\t\t\tvar elements = document.querySelectorAll('.popup__window');\r\n\r\n\t\t\tif (!elements.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (!elem.classList.contains('popup__window_visible')) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\telem.classList.remove('popup__window_visible');\r\n\r\n\t\t\t\telem.parentElement.classList.remove('popup_visible');\r\n\t\t\t}\r\n\r\n\t\t\tif (this._onclose) {\r\n\t\t\t\tthis._onclose();\r\n\t\t\t\tthis._onclose = null;\r\n\t\t\t} else if (this.onClose) {\r\n\t\t\t\tthis.onClose();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function (elementStr) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar btnElem = e.target.closest(elementStr),\r\n\t\t\t\t\tcloseBtnElem = e.target.closest('.js-popup-close');\r\n\r\n\t\t\t\tif (btnElem) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tthis.open(btnElem.getAttribute('data-popup'), false, btnElem);\r\n\t\t\t\t} else if (closeBtnElem || (!e.target.closest('.popup__window') && e.target.closest('.popup'))) {\r\n\t\t\t\t\tthis.fixBody(false);\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (window.location.hash) {\r\n\t\t\t\tthis.open(window.location.hash);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t//popup media\r\n\tMediaPopup = {\r\n\t\timage: function (args) {\r\n\t\t\tconst elemPopup = Popup.open(args.popupStr),\r\n\t\t\t\telemImg = elemPopup.querySelector('.popup-media__image');\r\n\r\n\t\t\tPopup.onClose = function () {\r\n\t\t\t\telemImg.src = '#';\r\n\t\t\t\telemImg.classList.remove('popup-media__image_visible');\r\n\t\t\t}\r\n\r\n\t\t\telemImg.src = args.href;\r\n\t\t\telemImg.classList.add('popup-media__image_visible');\r\n\r\n\t\t},\r\n\r\n\t\tvideo: function (args) {\r\n\t\t\tconst elemPopup = Popup.open(args.popupStr),\r\n\t\t\t\tvideoEl = elemPopup.querySelector('.popup-media__video'),\r\n\t\t\t\tprevEl = videoEl.querySelector('.popup-media__preview'),\r\n\t\t\t\tbtnPlayEl = videoEl.querySelector('.popup-media__btn-play');\r\n\r\n\t\t\tPopup.onClose = function () {\r\n\t\t\t\tVideo.stop();\r\n\t\t\t\tprevEl.src = '#';\r\n\t\t\t\tvideoEl.classList.remove('popup-media__video_visible');\r\n\t\t\t}\r\n\r\n\t\t\tprevEl.src = args.preview;\r\n\t\t\tbtnPlayEl.setAttribute('data-src', args.href);\r\n\t\t\tvideoEl.classList.add('popup-media__video_visible');\r\n\t\t},\r\n\r\n\t\tnext: function (elem) {\r\n\t\t\tif (!elem.hasAttribute('data-group')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar group = elem.getAttribute('data-group'),\r\n\t\t\t\tindex = [].slice.call(document.querySelectorAll('[data-group=\"' + group + '\"]')).indexOf(elem);\r\n\t\t},\r\n\r\n\t\tinit: function (btnSel) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tconst btnEl = e.target.closest(btnSel);\r\n\r\n\t\t\t\tif (!btnEl) return;\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tconst type = btnEl.getAttribute('data-type'),\r\n\t\t\t\t\targs = {\r\n\t\t\t\t\t\thref: btnEl.href,\r\n\t\t\t\t\t\tpreview: btnEl.getAttribute('data-preview'),\r\n\t\t\t\t\t\tcaption: btnEl.getAttribute('data-caption'),\r\n\t\t\t\t\t\tgroup: btnEl.getAttribute('data-group'),\r\n\t\t\t\t\t\tpopupStr: btnEl.getAttribute('data-popup') || '#media-popup'\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\tif (type == 'image') {\r\n\t\t\t\t\tthis.image(args);\r\n\t\t\t\t} else if (type == 'video') {\r\n\t\t\t\t\tthis.video(args);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.next(btnEl);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n})();\r\n\r\n\r\n\r\n/*var pPopup = {\r\n\tcloseCallback: function() {},\r\n\tplay: null,\r\n\tind: 0,\r\n\tgroup: null,\r\n\tposition: 0,\r\n\r\n\tshow: function(id, fun) {\r\n\t\tvar _ = this,\r\n\t\t$popWin = $(id),\r\n\t\t$popup = $popWin.closest('.popup');\r\n\r\n\t\tif ($popWin.length && $popWin.hasClass('popup__window')) {\r\n\r\n\t\t\t_.position = $(window).scrollTop();\r\n\t\t\t$popup.fadeIn(321).scrollTop(0);\r\n\t\t\t$('.popup__window').removeClass('popup__window_visible');\r\n\t\t\t$popWin.addClass('popup__window_visible');\r\n\t\t\t$('body').css('top', -_.position).addClass('is-popup-opened');\r\n\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tCoverImg.reInit('#media-popup');\r\n\t\t\t}, 721);\r\n\r\n\t\t}\r\n\r\n\t\t_.closeCallback = fun || function() {};\r\n\t},\r\n\r\n\thide: function() {\r\n\t\tvar _ = this;\r\n\t\t$('.popup__window').removeClass('popup__window_visible');\r\n\t\t$('.popup').fadeOut(321);\r\n\t\t$('.popup__message').remove();\r\n\t\t$('body').removeClass('is-popup-opened').removeAttr('style');\r\n\t\t$('html, body').scrollTop(_.position);\r\n\t\t_.closeCallback();\r\n\t},\r\n\r\n\tmessage: function(id,msg,fun) {\r\n\t\tvar _ = this;\r\n\t\t$(id).find('.popup__inner').prepend('<div class=\"popup__message\">'+ msg +'</div>');\r\n\t\t_.show(id);\r\n\t\t_.closeCallback = fun || function() {};\r\n\t},\r\n\r\n\tresize: function($pop, $img) {\r\n\t\tvar popH = $pop.innerHeight();\r\n\t\tif (popH > window.innerHeight) {\r\n\t\t\t$pop.css('max-width', (window.innerHeight * ($pop.innerWidth() / popH)));\r\n\t\t}\r\n\t},\r\n\r\n\tmedia: function(_$,args,show) {\r\n\t\tvar _ = this,\r\n\t\tid = $(_$).attr('data-popup'),\r\n\t\tPop = $(id),\r\n\t\t$box = Pop.find('.popup-media__box'),\r\n\t\tImg = Pop.find('.popup-media__image'),\r\n\t\tBtnPlay = Pop.find('.popup-media__play'),\r\n\t\tIframe = Pop.find('.popup-media__iframe');\r\n\r\n\t\tif (args.data) {\r\n\t\t\tPop.find('.popup-media__bar').css('display', 'block');\r\n\t\t\tvar data = JSON.parse( args.data );\r\n\t\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\t\tPop.find('.popup-media__data-'+ i).html(data[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (args.imgSize) {\r\n\t\t\tvar imgSize = JSON.parse(args.imgSize);\r\n\t\t\tImg.attr('width', imgSize[0]).attr('height', imgSize[1]);\r\n\t\t} else {\r\n\t\t\tImg.attr('width', '').attr('height', '');\r\n\t\t}\r\n\r\n\t\tif (args.img) {\r\n\t\t\tImg.css({visibility: 'visible', marginLeft: '', marginTop: ''}).removeClass('cover-img_w cover-img_h').attr('src', args.img);\r\n\t\t}\r\n\r\n\t\t//Pop.css('max-width', '');\r\n\t\tIframe.css('visibility', 'hidden').attr('src', '');\r\n\t\tBtnPlay.css('visibility', 'hidden');\r\n\r\n\t\tif (args.vid) {\r\n\t\t\t$box.removeClass('middle').addClass('cover-img-wrap');\r\n\t\t\tImg.removeClass('middle__img').addClass('cover-img');\r\n\t\t\tBtnPlay.css('visibility', 'visible').attr('href', args.vid);\r\n\r\n\t\t\t_.play = function() {\r\n\t\t\t\tvar utm = args.vid.match(/(?:youtu\\.be\\/|youtube\\.com\\/watch\\?v\\=|youtube\\.com\\/embed\\/)+?([\\w-]+)/i),\r\n\t\t\t\tifrSrc = 'https://www.youtube.com/embed/'+ utm[1] +'?autoplay=1';\r\n\t\t\t\tBtnPlay.css('visibility', 'hidden');\r\n\t\t\t\tImg.css('visibility', 'hidden');\r\n\t\t\t\tIframe.css('visibility', 'visible').attr('src', ifrSrc);\r\n\t\t\t}\r\n\r\n\t\t\tif (!args.img) {\r\n\t\t\t\t_.play();\r\n\t\t\t} else {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tCoverImg.init(id);\r\n\t\t\t\t\tImg.attr('src', args.img);\r\n\t\t\t\t}, 721);\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\t} else {\r\n\t\t\t$box.removeClass('cover-img-wrap').addClass('middle');\r\n\t\t\tImg.removeClass('cover-img').addClass('middle__img');\r\n\t\t}\r\n\r\n\r\n\r\n\t\tif (args.group) {\r\n\t\t\tPop.find('.popup-media__arr').css('display', 'block');\r\n\t\t\t_.group =  $(_$).attr('data-group');\r\n\t\t\t_.ind = $('[data-group=\"'+ _.group +'\"]').index(_$);\r\n\t\t}\r\n\r\n\t\tif (show) {\r\n\t\t\t_.show(id);\r\n\t\t}\r\n\r\n\t\tif (!args.vid) {\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\t_.resize(Pop, Img);\r\n\t\t\t}, 721);\r\n\t\t}\r\n\r\n\t\t_.closeCallback = function() {\r\n\t\t\tImg.css('visibility', 'hidden').attr('src', '');\r\n\t\t\tIframe.css('visibility', 'hidden').attr('src', '');\r\n\t\t\tBtnPlay.css('visibility', 'hidden');\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tnext: function(dir) {\r\n\t\tvar _ = this,\r\n\t\t$next,\r\n\t\tind = _.ind;\r\n\r\n\t\tif (dir == 'next') {\r\n\t\t\tind++;\r\n\t\t\tif ($('[data-group=\"'+ _.group +'\"]').eq(ind).length) {\r\n\t\t\t\t$next = $('[data-group=\"'+ _.group +'\"]').eq(ind);\r\n\t\t\t}\r\n\t\t} else if (dir == 'prev' && ind > 0) {\r\n\t\t\tind--;\r\n\t\t\tif ($('[data-group=\"'+ _.group +'\"]').eq(ind).length) {\r\n\t\t\t\t$next = $('[data-group=\"'+ _.group +'\"]').eq(ind);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ($next) {\r\n\t\t\tvar args;\r\n\r\n\t\t\tif ($next.hasClass('js-open-popup-image')) {\r\n\t\t\t\targs = {\r\n\t\t\t\t\timg: $next.attr('href'),\r\n\t\t\t\t\timgSize: $next.attr('data-image-size'),\r\n\t\t\t\t\tgroup: $next.attr('data-group'),\r\n\t\t\t\t\tdata: $next.attr('data-data')\r\n\t\t\t\t};\r\n\t\t\t} else if ($next.hasClass('js-open-popup-video')) {\r\n\t\t\t\targs = {\r\n\t\t\t\t\tvid: $next.attr('href'),\r\n\t\t\t\t\timg: $next.attr('data-preview'),\r\n\t\t\t\t\timgSize: $next.attr('data-preview-size'),\r\n\t\t\t\t\tgroup: $next.attr('data-group'),\r\n\t\t\t\t\tdata: $next.attr('data-data')\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\t_.media($next, args);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};*/\r\n\r\n\r\n/*$(document).ready(function() {\r\n\t$('body').on('click', '.js-open-popup', function () {\r\n\t\tPopup.show($(this).attr('data-popup'));\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.js-open-popup-image', function () {\r\n\t\tvar args = {\r\n\t\t\timg: $(this).attr('href'),\r\n\t\t\timgSize: $(this).attr('data-image-size'),\r\n\t\t\tgroup: $(this).attr('data-group'),\r\n\t\t\tdata: $(this).attr('data-data')\r\n\t\t};\r\n\t\tPopup.media(this, args, true);\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.js-open-popup-video', function () {\r\n\t\tvar args = {\r\n\t\t\tvid: $(this).attr('href'),\r\n\t\t\timg: $(this).attr('data-preview'),\r\n\t\t\timgSize: $(this).attr('data-preview-size'),\r\n\t\t\tgroup: $(this).attr('data-group'),\r\n\t\t\tdata: $(this).attr('data-data')\r\n\t\t};\r\n\t\tPopup.media(this, args, true);\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.popup-media__play', function () {\r\n\t\tPopup.play();\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.popup-media__arr', function () {\r\n\t\tPopup.next($(this).attr('data-dir'));\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.js-open-msg-popup', function () {\r\n\t\tPopup.message('#message-popup', '   .<br> : <span class=\"c-red\">Popup.message(\"#id\", \"  html\");</span>', function() { alert(' '); });\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.popup__close', function () {\r\n\t\tPopup.hide();\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.popup', function(e) {\r\n\t\tif (!$(e.target).closest('.popup__window').length) {\r\n\t\t\tPopup.hide();\r\n\t\t}\r\n\t});\r\n\r\n\r\n\tif (window.location.hash) {\r\n\t\tvar hash = window.location.hash;\r\n\t\tif($(hash).length && $(hash).hasClass('popup__window')){\r\n\t\t\tPopup.show(hash);\r\n\t\t}\r\n\t}\r\n\r\n});*/","(function() {\r\n\t'use strict';\r\n\r\n\t//show element on checkbox change\r\n\tvar ChangeCheckbox = {\r\n\t\thideCssClass: 'hidden',\r\n\r\n\t\tchange: function(elem) {\r\n\t\t\tvar targetElements = (elem.hasAttribute('data-target-elements')) ? document.querySelectorAll(elem.getAttribute('data-target-elements')) : {};\r\n\r\n\t\t\tif (!targetElements.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < targetElements.length; i++) {\r\n\t\t\t\tvar targetElem = targetElements[i];\r\n\r\n\t\t\t\ttargetElem.style.display = (elem.checked) ? 'block' : 'none';\r\n\t\t\t\t\r\n\t\t\t\tif (elem.checked) {\r\n\t\t\t\t\ttargetElem.classList.remove(this.hideCssClass);\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttargetElem.classList.add(this.hideCssClass);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function() {\r\n\t\t\tdocument.addEventListener('change', (e) => {\r\n\t\t\t\tvar elem = e.target.closest('input[type=\"checkbox\"]');\r\n\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.change(elem);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t//init scripts\r\n\tdocument.addEventListener('DOMContentLoaded', function() {\r\n\t\tChangeCheckbox.init();\r\n\t});\r\n})();","(function() {\r\n\t'use strict';\r\n\r\n\t//show element on radio button change\r\n\tvar ChangeRadio = {\r\n\t\thideCssClass: 'hidden',\r\n\t\t\r\n\t\tchange: function(checkedElem) {\r\n\t\t\tvar elements = document.querySelectorAll('input[type=\"radio\"][name=\"'+ checkedElem.name +'\"]');\r\n\r\n\t\t\tif (!elements.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfor (let i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i],\r\n\t\t\t\ttargetElements = (elem.hasAttribute('data-target-elements')) ? document.querySelectorAll(elem.getAttribute('data-target-elements')) : {};\r\n\r\n\t\t\t\tif (!targetElements.length) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (let i = 0; i < targetElements.length; i++) {\r\n\t\t\t\t\tvar targetElem = targetElements[i];\r\n\r\n\t\t\t\t\ttargetElem.style.display = (elem.checked) ? 'block' : 'none';\r\n\r\n\t\t\t\t\tif (elem.checked) {\r\n\t\t\t\t\t\ttargetElem.classList.remove(this.hideCssClass);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttargetElem.classList.add(this.hideCssClass);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function() {\r\n\t\t\tdocument.addEventListener('change', (e) => {\r\n\t\t\t\tvar elem = e.target.closest('input[type=\"radio\"]');\r\n\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.change(elem);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t//init scripts\r\n\tdocument.addEventListener('DOMContentLoaded', function() {\r\n\t\tChangeRadio.init();\r\n\t});\r\n})();","; var Select;\r\n\r\n(function () {\r\n\t'use strict';\r\n\r\n\t// custom select\r\n\tSelect = {\r\n\t\tfield: null,\r\n\t\thideCssClass: 'hidden',\r\n\t\tonSelect: null,\r\n\r\n\t\treset: function (parentElem) {\r\n\t\t\tconst parElem = parentElem || document,\r\n\t\t\t\tfieldElements = parElem.querySelectorAll('.select'),\r\n\t\t\t\tbuttonElements = parElem.querySelectorAll('.select__button'),\r\n\t\t\t\tinputElements = parElem.querySelectorAll('.select__input'),\r\n\t\t\t\tvalueElements = parElem.querySelectorAll('.select__val');\r\n\r\n\t\t\tfor (let i = 0; i < fieldElements.length; i++) {\r\n\t\t\t\tfieldElements[i].classList.remove('select_changed');\r\n\t\t\t}\r\n\r\n\t\t\tfor (let i = 0; i < buttonElements.length; i++) {\r\n\t\t\t\tbuttonElements[i].innerHTML = buttonElements[i].getAttribute('data-placeholder');\r\n\t\t\t}\r\n\r\n\t\t\tfor (let i = 0; i < inputElements.length; i++) {\r\n\t\t\t\tinputElements[i].value = '';\r\n\t\t\t\tinputElements[i].blur();\r\n\t\t\t}\r\n\r\n\t\t\tfor (let i = 0; i < valueElements.length; i++) {\r\n\t\t\t\tvalueElements[i].classList.remove('select__val_checked');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcloseAll: function () {\r\n\t\t\tconst fieldElements = document.querySelectorAll('.select'),\r\n\t\t\t\toptionsElements = document.querySelectorAll('.select__options');\r\n\r\n\t\t\tfor (let i = 0; i < fieldElements.length; i++) {\r\n\t\t\t\tfieldElements[i].classList.remove('select_opened');\r\n\r\n\t\t\t\toptionsElements[i].classList.remove('ovfauto');\r\n\t\t\t\toptionsElements[i].style.height = 0;\r\n\r\n\t\t\t\tconst listItemElements = optionsElements[i].querySelectorAll('li');\r\n\r\n\t\t\t\tfor (let i = 0; i < listItemElements.length; i++) {\r\n\t\t\t\t\tlistItemElements[i].classList.remove('hover');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tclose: function (fieldEl) {\r\n\t\t\tfieldEl = fieldEl || this.field;\r\n\r\n\t\t\tfieldEl.classList.remove('select_opened');\r\n\r\n\t\t\tconst optionsElem = fieldEl.querySelector('.select__options'),\r\n\t\t\t\tlistItemElements = optionsElem.querySelectorAll('li');\r\n\r\n\t\t\toptionsElem.classList.remove('ovfauto');\r\n\t\t\toptionsElem.style.height = 0;\r\n\r\n\t\t\tfor (let i = 0; i < listItemElements.length; i++) {\r\n\t\t\t\tlistItemElements[i].classList.remove('hover');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\topen: function () {\r\n\t\t\tthis.field.classList.add('select_opened');\r\n\r\n\t\t\tconst optionsElem = this.field.querySelector('.select__options');\r\n\r\n\t\t\toptionsElem.style.height = ((optionsElem.scrollHeight > 222) ? 222 : (optionsElem.scrollHeight + 2)) + 'px';\r\n\t\t\toptionsElem.scrollTop = 0;\r\n\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\toptionsElem.classList.add('ovfauto');\r\n\t\t\t}, 621);\r\n\t\t},\r\n\r\n\t\tselectMultipleVal: function (elem, button, input) {\r\n\t\t\tconst toButtonValue = [],\r\n\t\t\t\ttoInputValue = [],\r\n\t\t\t\tinputsBlock = this.field.querySelector('.select__multiple-inputs');\r\n\r\n\t\t\telem.classList.toggle('select__val_checked');\r\n\r\n\t\t\tconst checkedElements = this.field.querySelectorAll('.select__val_checked');\r\n\r\n\t\t\tfor (let i = 0; i < checkedElements.length; i++) {\r\n\t\t\t\tconst elem = checkedElements[i];\r\n\r\n\t\t\t\ttoButtonValue[i] = elem.innerHTML;\r\n\t\t\t\ttoInputValue[i] = (elem.hasAttribute('data-value')) ? elem.getAttribute('data-value') : elem.innerHTML;\r\n\t\t\t}\r\n\r\n\t\t\tif (toButtonValue.length) {\r\n\t\t\t\tbutton.innerHTML = toButtonValue.join(', ');\r\n\r\n\t\t\t\tinput.value = toInputValue[0];\r\n\r\n\t\t\t\tinputsBlock.innerHTML = '';\r\n\r\n\t\t\t\tif (toInputValue.length > 1) {\r\n\t\t\t\t\tfor (let i = 1; i < toInputValue.length; i++) {\r\n\t\t\t\t\t\tconst yetInput = document.createElement('input');\r\n\r\n\t\t\t\t\t\tyetInput.type = 'hidden';\r\n\t\t\t\t\t\tyetInput.name = input.name;\r\n\t\t\t\t\t\tyetInput.value = toInputValue[i];\r\n\r\n\t\t\t\t\t\tinputsBlock.appendChild(yetInput);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tbutton.innerHTML = button.getAttribute('data-placeholder');\r\n\t\t\t\tinput.value = '';\r\n\t\t\t\tthis.close();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\ttargetAction: function () {\r\n\t\t\tconst valEls = this.field.querySelectorAll('.select__val');\r\n\r\n\t\t\tfor (let i = 0; i < valEls.length; i++) {\r\n\t\t\t\tconst vEl = valEls[i];\r\n\r\n\t\t\t\tif (vEl.hasAttribute('data-show-elements')) {\r\n\t\t\t\t\tconst showEls = document.querySelectorAll(vEl.getAttribute('data-show-elements'));\r\n\r\n\t\t\t\t\tfor (let i = 0; i < showEls.length; i++) {\r\n\t\t\t\t\t\tconst sEl = showEls[i];\r\n\r\n\t\t\t\t\t\tif (vEl.classList.contains('select__val_checked')) {\r\n\t\t\t\t\t\t\tsEl.style.display = 'block';\r\n\t\t\t\t\t\t\tsEl.classList.remove(this.hideCssClass);\r\n\r\n\t\t\t\t\t\t\t// focus on input\r\n\t\t\t\t\t\t\tconst txtInpEl = sEl.querySelector('input[type=\"text\"]');\r\n\r\n\t\t\t\t\t\t\tif (txtInpEl) {\r\n\t\t\t\t\t\t\t\ttxtInpEl.focus();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tsEl.style.display = 'none';\r\n\t\t\t\t\t\t\tsEl.classList.add(this.hideCssClass);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (vEl.hasAttribute('data-hide-elements')) {\r\n\t\t\t\t\tconst hideEls = document.querySelectorAll(vEl.getAttribute('data-hide-elements'));\r\n\r\n\t\t\t\t\tfor (let i = 0; i < hideEls.length; i++) {\r\n\t\t\t\t\t\tconst hEl = hideEls[i];\r\n\r\n\t\t\t\t\t\tif (vEl.classList.contains('select__val_checked')) {\r\n\t\t\t\t\t\t\thEl.style.display = 'none';\r\n\t\t\t\t\t\t\thEl.classList.add(this.hideCssClass);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\thEl.style.display = 'block';\r\n\t\t\t\t\t\t\thEl.classList.remove(this.hideCssClass);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tselectVal: function (elem) {\r\n\t\t\tconst button = this.field.querySelector('.select__button'),\r\n\t\t\t\tinput = this.field.querySelector('.select__input');\r\n\r\n\t\t\tif (this.field.classList.contains('select_multiple')) {\r\n\t\t\t\tthis.selectMultipleVal(elem, button, input);\r\n\t\t\t} else {\r\n\t\t\t\tconst toButtonValue = elem.innerHTML,\r\n\t\t\t\t\ttoInputValue = (elem.hasAttribute('data-value')) ? elem.getAttribute('data-value') : elem.innerHTML;\r\n\r\n\t\t\t\tconst valueElements = this.field.querySelectorAll('.select__val');\r\n\r\n\t\t\t\tfor (let i = 0; i < valueElements.length; i++) {\r\n\t\t\t\t\tconst valElem = valueElements[i];\r\n\r\n\t\t\t\t\tvalElem.classList.remove('select__val_checked');\r\n\t\t\t\t\tvalElem.disabled = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\telem.classList.add('select__val_checked');\r\n\t\t\t\telem.disabled = true;\r\n\r\n\t\t\t\tif (button) {\r\n\t\t\t\t\tbutton.innerHTML = toButtonValue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tinput.value = toInputValue;\r\n\r\n\t\t\t\tthis.close();\r\n\r\n\t\t\t\tif (window.Placeholder) {\r\n\t\t\t\t\tPlaceholder.hide(input, true);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (input.getAttribute('data-submit-form-onchange')) {\r\n\t\t\t\t\tForm.submitForm(input.closest('form'));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.onSelect) {\r\n\t\t\t\t\tthis.onSelect(input, toInputValue, elem.getAttribute('data-second-value'));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.targetAction();\r\n\r\n\t\t\tif (input.classList.contains('var-height-textarea__textarea')) {\r\n\t\t\t\tvarHeightTextarea.setHeight(input);\r\n\t\t\t}\r\n\r\n\t\t\tthis.field.classList.add('select_changed');\r\n\r\n\t\t\tValidateForm.select(input);\r\n\t\t},\r\n\r\n\t\tsetOptions: function (fieldSelector, optObj, nameKey, valKey, secValKey) {\r\n\t\t\tconst fieldElements = document.querySelectorAll(fieldSelector + ' .select');\r\n\r\n\t\t\tfor (let i = 0; i < fieldElements.length; i++) {\r\n\t\t\t\tconst optionsElem = fieldElements[i].querySelector('.select__options');\r\n\r\n\t\t\t\toptionsElem.innerHTML = '';\r\n\r\n\t\t\t\tfor (let i = 0; i < optObj.length; i++) {\r\n\t\t\t\t\tlet li = document.createElement('li'),\r\n\t\t\t\t\t\tsecValAttr = (secValKey != undefined) ? ' data-second-value=\"' + optObj[i][secValKey] + '\"' : '';\r\n\r\n\t\t\t\t\tli.innerHTML = '<button type=\"button\" class=\"select__val\" data-value=\"' + optObj[i][valKey] + '\"' + secValAttr + '>' + optObj[i][nameKey] + '</button>';\r\n\r\n\t\t\t\t\toptionsElem.appendChild(li);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tkeyboard: function (key) {\r\n\t\t\tconst options = this.field.querySelector('.select__options'),\r\n\t\t\t\thoverItem = options.querySelector('li.hover');\r\n\r\n\t\t\tswitch (key) {\r\n\t\t\t\tcase 40:\r\n\t\t\t\t\tif (hoverItem) {\r\n\t\t\t\t\t\tconst nextItem = function (item) {\r\n\t\t\t\t\t\t\tlet elem = item.nextElementSibling;\r\n\r\n\t\t\t\t\t\t\twhile (elem) {\r\n\t\t\t\t\t\t\t\tif (!elem) break;\r\n\r\n\t\t\t\t\t\t\t\tif (!elemIsHidden(elem)) {\r\n\t\t\t\t\t\t\t\t\treturn elem;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\telem = elem.nextElementSibling;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}(hoverItem);\r\n\r\n\t\t\t\t\t\tif (nextItem) {\r\n\t\t\t\t\t\t\thoverItem.classList.remove('hover');\r\n\t\t\t\t\t\t\tnextItem.classList.add('hover');\r\n\r\n\t\t\t\t\t\t\toptions.scrollTop = options.scrollTop + (nextItem.getBoundingClientRect().top - options.getBoundingClientRect().top);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlet elem = options.firstElementChild;\r\n\r\n\t\t\t\t\t\twhile (elem) {\r\n\t\t\t\t\t\t\tif (!elem) break;\r\n\r\n\t\t\t\t\t\t\tif (!elemIsHidden(elem)) {\r\n\t\t\t\t\t\t\t\telem.classList.add('hover');\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\telem = elem.nextElementSibling;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 38:\r\n\t\t\t\t\tif (hoverItem) {\r\n\t\t\t\t\t\tconst nextItem = function (item) {\r\n\t\t\t\t\t\t\tlet elem = item.previousElementSibling;\r\n\r\n\t\t\t\t\t\t\twhile (elem) {\r\n\t\t\t\t\t\t\t\tif (!elem) break;\r\n\r\n\t\t\t\t\t\t\t\tif (!elemIsHidden(elem)) {\r\n\t\t\t\t\t\t\t\t\treturn elem;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\telem = elem.previousElementSibling;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}(hoverItem);\r\n\r\n\t\t\t\t\t\tif (nextItem) {\r\n\t\t\t\t\t\t\thoverItem.classList.remove('hover');\r\n\t\t\t\t\t\t\tnextItem.classList.add('hover');\r\n\r\n\t\t\t\t\t\t\toptions.scrollTop = options.scrollTop + (nextItem.getBoundingClientRect().top - options.getBoundingClientRect().top);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlet elem = options.lastElementChild;\r\n\r\n\t\t\t\t\t\twhile (elem) {\r\n\t\t\t\t\t\t\tif (!elem) break;\r\n\r\n\t\t\t\t\t\t\tif (!elemIsHidden(elem)) {\r\n\t\t\t\t\t\t\t\telem.classList.add('hover');\r\n\t\t\t\t\t\t\t\toptions.scrollTop = 9999;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\telem = elem.previousElementSibling;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 13:\r\n\t\t\t\t\tthis.selectVal(hoverItem.querySelector('.select__val'));\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tbuild: function (elementStr) {\r\n\t\t\tconst elements = document.querySelectorAll(elementStr);\r\n\r\n\t\t\tif (!elements.length) return;\r\n\r\n\t\t\tfor (let i = 0; i < elements.length; i++) {\r\n\t\t\t\tconst elem = elements[i],\r\n\t\t\t\t\toptions = elem.querySelectorAll('option'),\r\n\t\t\t\t\tparent = elem.parentElement;\r\n\r\n\t\t\t\tlet optionsList = '',\r\n\t\t\t\t\tselectedOption = null;\r\n\r\n\t\t\t\t// option list\r\n\t\t\t\tfor (let i = 0; i < options.length; i++) {\r\n\t\t\t\t\tconst opt = options[i];\r\n\r\n\t\t\t\t\tif (opt.hasAttribute('selected')) {\r\n\t\t\t\t\t\tselectedOption = opt;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\toptionsList += '<li><button type=\"button\" tabindex=\"-1\" class=\"select__val' + ((opt.hasAttribute('selected')) ? ' select__val_checked' : '') + '\"' + ((opt.hasAttribute('value')) ? ' data-value=\"' + opt.value + '\"' : '') + ((opt.hasAttribute('data-second-value')) ? ' data-second-value=\"' + opt.getAttribute('data-second-value') + '\"' : '') + ((opt.hasAttribute('data-show-elements')) ? ' data-show-elements=\"' + opt.getAttribute('data-show-elements') + '\"' : '') + ((opt.hasAttribute('data-hide-elements')) ? ' data-hide-elements=\"' + opt.getAttribute('data-hide-elements') + '\"' : '') + '>' + opt.innerHTML + '</button></li>';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst require = (elem.hasAttribute('data-required')) ? ' data-required=\"' + elem.getAttribute('data-required') + '\" ' : '';\r\n\r\n\t\t\t\tconst placeholder = elem.getAttribute('data-placeholder');\r\n\r\n\t\t\t\tconst submitOnChange = (elem.hasAttribute('data-submit-form-onchange')) ? ' data-submit-form-onchange=\"' + elem.getAttribute('data-submit-form-onchange') + '\" ' : '';\r\n\r\n\t\t\t\tconst head = '<button type=\"button\"' + ((placeholder) ? ' data-placeholder=\"' + placeholder + '\"' : '') + ' class=\"select__button\">' + ((selectedOption) ? selectedOption.innerHTML : (placeholder) ? placeholder : '') + '</button>';\r\n\r\n\t\t\t\tconst multiple = {\r\n\t\t\t\t\tclass: (elem.multiple) ? ' select_multiple' : '',\r\n\t\t\t\t\tinpDiv: (elem.multiple) ? '<div class=\"select__multiple-inputs\"></div>' : ''\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tconst hiddenInp = '<input type=\"hidden\" name=\"' + elem.name + '\"' + require + submitOnChange + 'class=\"select__input\" value=\"' + ((selectedOption) ? selectedOption.value : '') + '\">';\r\n\r\n\t\t\t\tif (elem.hasAttribute('data-empty-text')) {\r\n\t\t\t\t\toptionsList = '<li class=\"select__options-empty\">' + elem.getAttribute('data-empty-text') + '</li>';\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// output select\r\n\t\t\t\tconst customElem = document.createElement('div');\r\n\r\n\t\t\t\tcustomElem.className = 'select' + multiple.class + ((selectedOption) ? ' select_changed' : '');\r\n\r\n\t\t\t\tcustomElem.innerHTML = head + '<ul class=\"select__options\">' + optionsList + '</ul>' + hiddenInp + multiple.inpDiv;\r\n\r\n\t\t\t\tparent.insertBefore(customElem, parent.firstChild);\r\n\t\t\t\tparent.removeChild(parent.children[1]);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function (elementStr) {\r\n\t\t\tif (!document.querySelector(elementStr)) return;\r\n\r\n\t\t\tthis.build(elementStr);\r\n\r\n\t\t\tlet focusBlurIsDisabled = false,\r\n\t\t\t\tst;\r\n\r\n\t\t\t// click on select or value or arrow button\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tclearTimeout(st);\r\n\r\n\t\t\t\tconst btnElem = e.target.closest('.select__button'),\r\n\t\t\t\t\tvalElem = e.target.closest('.select__val');\r\n\r\n\t\t\t\tif (btnElem) {\r\n\t\t\t\t\tfocusBlurIsDisabled = true;\r\n\r\n\t\t\t\t\tthis.field = btnElem.closest('.select');\r\n\r\n\t\t\t\t\tif (this.field.classList.contains('select_opened')) {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.closeAll();\r\n\t\t\t\t\t\tthis.open();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (valElem) {\r\n\t\t\t\t\tfocusBlurIsDisabled = true;\r\n\r\n\t\t\t\t\tthis.field = valElem.closest('.select');\r\n\t\t\t\t\tthis.selectVal(valElem);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tst = setTimeout(function () {\r\n\t\t\t\t\tfocusBlurIsDisabled = false;\r\n\t\t\t\t}, 521);\r\n\t\t\t});\r\n\r\n\t\t\tdocument.addEventListener('focus', (e) => {\r\n\t\t\t\tconst inpElem = e.target.closest('.select__button');\r\n\r\n\t\t\t\tif (inpElem) {\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tif (focusBlurIsDisabled) return;\r\n\r\n\t\t\t\t\t\tthis.field = inpElem.closest('.select');\r\n\r\n\t\t\t\t\t\tif (!this.field.classList.contains('select_opened')) {\r\n\t\t\t\t\t\t\tthis.closeAll();\r\n\t\t\t\t\t\t\tthis.open();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, 321);\r\n\t\t\t\t}\r\n\t\t\t}, true);\r\n\r\n\t\t\tdocument.addEventListener('blur', (e) => {\r\n\t\t\t\tconst inpElem = e.target.closest('.select__button');\r\n\r\n\t\t\t\tif (inpElem) {\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tif (focusBlurIsDisabled) return;\r\n\r\n\t\t\t\t\t\tconst fieldEl = inpElem.closest('.select');\r\n\r\n\t\t\t\t\t\tif (fieldEl.classList.contains('select_opened')) {\r\n\t\t\t\t\t\t\tthis.close(fieldEl);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, 321);\r\n\t\t\t\t}\r\n\t\t\t}, true);\r\n\r\n\t\t\t// keyboard events\r\n\t\t\tdocument.addEventListener('keydown', (e) => {\r\n\t\t\t\tconst elem = e.target.closest('.select_opened');\r\n\r\n\t\t\t\tif (!elem) return;\r\n\r\n\t\t\t\tthis.field = elem.closest('.select');\r\n\r\n\t\t\t\tconst key = e.which || e.keyCode || 0;\r\n\r\n\t\t\t\tif (key == 40 || key == 38 || key == 13) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tthis.keyboard(key);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// close all\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tif (!e.target.closest('.select')) {\r\n\t\t\t\t\tthis.closeAll();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t// init script\r\n\tdocument.addEventListener('DOMContentLoaded', function () {\r\n\t\tSelect.init('select');\r\n\t});\r\n})();","; var AutoComplete;\r\n\r\n(function () {\r\n\t'use strict';\r\n\t\r\n\tAutoComplete = {\r\n\t\tfieldElem: null,\r\n\t\tinputElem: null,\r\n\t\toptionsElem: null,\r\n\t\tgetValues: null,\r\n\t\topt: {},\r\n\t\t\r\n\t\topen: function (optH) {\r\n\t\t\tthis.fieldElem.classList.add('autocomplete_opened');\r\n\t\t\t\r\n\t\t\tconst optionsHeight = optH || 185;\r\n\t\t\t\r\n\t\t\tthis.optionsElem.style.height = (optionsHeight + 2) +'px';\r\n\t\t\tthis.optionsElem.scrollTop = 0;\r\n\t\t\t\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.optionsElem.classList.add('ovfauto');\r\n\t\t\t}, 550);\r\n\t\t},\r\n\t\t\r\n\t\tclose: function (inputElem) {\r\n\t\t\tconst inpElem = inputElem || this.inputElem,\r\n\t\t\tfieldElem = inpElem.closest('.autocomplete'),\r\n\t\t\toptionsElem = fieldElem.querySelector('.autocomplete__options');\r\n\t\t\t\r\n\t\t\tfieldElem.classList.remove('autocomplete_opened');\r\n\t\t\t\r\n\t\t\toptionsElem.classList.remove('ovfauto');\r\n\t\t\toptionsElem.style.height = 0;\r\n\t\t},\r\n\t\t\r\n\t\tsearchValue: function() {\r\n\t\t\tif (!this.getValues) return;\r\n\t\t\t\r\n\t\t\tlet values = '';\r\n\t\t\t\r\n\t\t\tif (this.inputElem.value.length) {\r\n\t\t\t\tconst preReg = new RegExp('('+ this.inputElem.value +')', 'i');\r\n\t\t\t\t\r\n\t\t\t\tthis.getValues(this.inputElem, (valuesData, nameKey, valKey, secValKey) => {\r\n\t\t\t\t\tfor (let i = 0; i < valuesData.length; i++) {\r\n\t\t\t\t\t\tconst valData = valuesData[i];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (nameKey !== undefined) {\r\n\t\t\t\t\t\t\tif (valData[nameKey].match(preReg)) {\r\n\t\t\t\t\t\t\t\tvalues += '<li><button type=\"button\" data-value=\"'+ valData[valKey] +'\" data-second-value=\"'+ valData[secValKey] +'\" class=\"autocomplete__val\">'+ valData[nameKey].replace(preReg, '<span>$1</span>') +'</button></li>';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (valData.match(preReg)) {\r\n\t\t\t\t\t\t\t\tvalues += '<li><button type=\"button\" class=\"autocomplete__val\">'+ valData.replace(preReg, '<span>$1</span>') +'</button></li>';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (values == '') {\r\n\t\t\t\t\t\tif (this.inputElem.hasAttribute('data-other-value')) {\r\n\t\t\t\t\t\t\tvalues = '<li class=\"autocomplete__options-other\"><button type=\"button\" class=\"autocomplete__val\">'+ this.inputElem.getAttribute('data-other-value') +'</button></li>';\r\n\r\n\t\t\t\t\t\t\tthis.optionsElem.innerHTML = values;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.open(this.optionsElem.querySelector('.autocomplete__options-other').offsetHeight);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvalues = '<li class=\"autocomplete__options-empty\">'+ this.inputElem.getAttribute('data-nf-text') +'</li>';\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.optionsElem.innerHTML = values;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.open(this.optionsElem.querySelector('.autocomplete__options-empty').offsetHeight);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.optionsElem.innerHTML = values;\r\n\t\t\t\t\t\tthis.open();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tif (this.opt.getAllValuesIfEmpty) {\r\n\t\t\t\t\tthis.getValues(this.inputElem, (valuesData, nameKey, valKey, secValKey) => {\r\n\t\t\t\t\t\tfor (let i = 0; i < valuesData.length; i++) {\r\n\t\t\t\t\t\t\tconst valData = valuesData[i];\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (nameKey !== undefined) {\r\n\t\t\t\t\t\t\t\tvalues += '<li><button type=\"button\" data-value=\"'+ valData[valKey] +'\" data-second-value=\"'+ valData[secValKey] +'\" class=\"autocomplete__val\">'+ valData[nameKey] +'</button></li>';\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tvalues += '<li><button type=\"button\" class=\"autocomplete__val\">'+ valData +'</button></li>';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.optionsElem.innerHTML = values;\r\n\t\t\t\t\t\tthis.open();\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.optionsElem.innerHTML = '';\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tselectVal: function(itemElem) {\r\n\t\t\tconst valueElem = itemElem.querySelector('.autocomplete__val');\r\n\t\t\t\r\n\t\t\tif (!valueElem) return;\r\n\t\t\t\r\n\t\t\tif (window.Placeholder) {\r\n\t\t\t\tPlaceholder.hide(this.inputElem, true);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.inputElem.value = valueElem.innerHTML.replace(/<\\/?span>/g, '');\r\n\t\t},\r\n\t\t\r\n\t\tkeybinding: function(e) {\r\n\t\t\tconst key = e.which || e.keyCode || 0;\r\n\t\t\t\r\n\t\t\tif (key != 40 && key != 38 && key != 13) return;\r\n\t\t\t\r\n\t\t\te.preventDefault();\r\n\t\t\t\r\n\t\t\tconst optionsElem = this.optionsElem,\r\n\t\t\thoverItem = optionsElem.querySelector('li.hover');\r\n\t\t\t\r\n\t\t\tswitch (key) {\r\n\t\t\t\tcase 40:\r\n\t\t\t\tif (hoverItem) {\r\n\t\t\t\t\tvar nextItem = hoverItem.nextElementSibling;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (nextItem) {\r\n\t\t\t\t\t\thoverItem.classList.remove('hover');\r\n\t\t\t\t\t\tnextItem.classList.add('hover');\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\toptionsElem.scrollTop = optionsElem.scrollTop + (nextItem.getBoundingClientRect().top - optionsElem.getBoundingClientRect().top);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.selectVal(nextItem);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar nextItem = optionsElem.firstElementChild;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (nextItem) {\r\n\t\t\t\t\t\tnextItem.classList.add('hover');\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.selectVal(nextItem);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\tcase 38:\r\n\t\t\t\tif (hoverItem) {\r\n\t\t\t\t\tvar nextItem = hoverItem.previousElementSibling;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (nextItem) {\r\n\t\t\t\t\t\thoverItem.classList.remove('hover');\r\n\t\t\t\t\t\tnextItem.classList.add('hover');\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\toptionsElem.scrollTop = optionsElem.scrollTop + (nextItem.getBoundingClientRect().top - optionsElem.getBoundingClientRect().top);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.selectVal(nextItem);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar nextItem = optionsElem.lastElementChild;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (nextItem) {\r\n\t\t\t\t\t\tnextItem.classList.add('hover');\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\toptionsElem.scrollTop = 9999;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.selectVal(nextItem);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\tcase 13:\r\n\t\t\t\tif (hoverItem) {\r\n\t\t\t\t\tthis.selectVal(hoverItem);\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.inputElem.blur();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tinit: function(options) {\r\n\t\t\toptions = options || {};\r\n\t\t\t\r\n\t\t\tthis.opt.getAllValuesIfEmpty = (options.getAllValuesIfEmpty !== undefined) ? options.getAllValuesIfEmpty : true;\r\n\t\t\t\r\n\t\t\t// focus event\r\n\t\t\tdocument.addEventListener('focus', (e) => {\r\n\t\t\t\tvar elem = e.target.closest('.autocomplete__input');\r\n\t\t\t\t\r\n\t\t\t\tif (!elem) return;\r\n\t\t\t\t\r\n\t\t\t\tthis.fieldElem = elem.closest('.autocomplete');\r\n\t\t\t\tthis.inputElem = elem;\r\n\t\t\t\tthis.optionsElem = this.fieldElem.querySelector('.autocomplete__options');\r\n\t\t\t\t\r\n\t\t\t\tthis.searchValue();\r\n\t\t\t}, true);\r\n\t\t\t\r\n\t\t\t// blur event\r\n\t\t\tdocument.addEventListener('blur', (e) => {\r\n\t\t\t\tconst inpElem = e.target.closest('.autocomplete__input');\r\n\t\t\t\t\r\n\t\t\t\tif (inpElem) {\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.close(inpElem);\r\n\t\t\t\t\t}, 321);\r\n\t\t\t\t}\r\n\t\t\t}, true);\r\n\t\t\t\r\n\t\t\t// input event\r\n\t\t\tdocument.addEventListener('input', (e) => {\r\n\t\t\t\tif (e.target.closest('.autocomplete__input')) {\r\n\t\t\t\t\tthis.searchValue();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t// click event\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tconst valElem = e.target.closest('.autocomplete__val'),\r\n\t\t\t\tarrElem = e.target.closest('.autocomplete__arr');\r\n\t\t\t\t\r\n\t\t\t\tif (valElem) {\r\n\t\t\t\t\tthis.selectVal(valElem.parentElement);\r\n\t\t\t\t} else if (arrElem) {\r\n\t\t\t\t\tif (!arrElem.closest('.autocomplete_opened')) {\r\n\t\t\t\t\t\tarrElem.closest('.autocomplete').querySelector('.autocomplete__input').focus();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t// keyboard events\r\n\t\t\tdocument.addEventListener('keydown', (e) => {\r\n\t\t\t\tif (e.target.closest('.autocomplete_opened')) {\r\n\t\t\t\t\tthis.keybinding(e);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\t\r\n\t// init scripts\r\n\tdocument.addEventListener('DOMContentLoaded', function () {\r\n\t\tAutoComplete.init();\r\n\t});\r\n})();","; var CustomFile;\r\n\r\n(function() {\r\n\t'use strict';\r\n\t\r\n\t//custom file\r\n\tCustomFile = {\r\n\t\tinput: null,\r\n\t\tfilesObj: {},\r\n\t\tfilesArrayObj: {},\r\n\t\t\r\n\t\tclear: function(elem) {\r\n\t\t\tif (elem.hasAttribute('data-preview-elem')) {\r\n\t\t\t\tdocument.querySelector(elem.getAttribute('data-preview-elem')).innerHTML = '';\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telem.closest('.custom-file').querySelector('.custom-file__items').innerHTML = '';\r\n\t\t\t\r\n\t\t\tthis.filesObj[elem.id] = {};\r\n\t\t\tthis.filesArrayObj[elem.id] = [];\r\n\t\t\t\r\n\t\t\tthis.labelText(elem);\r\n\t\t},\r\n\t\t\r\n\t\tfieldClass: function(inputElem) {\r\n\t\t\tconst fieldElem = inputElem.closest('.custom-file');\r\n\t\t\t\r\n\t\t\tif (this.filesArrayObj[inputElem.id].length) {\r\n\t\t\t\tfieldElem.classList.add('custom-file_loaded');\r\n\t\t\t\t\r\n\t\t\t\tif (this.filesArrayObj[inputElem.id].length >= (+inputElem.getAttribute('data-max-files'))) {\r\n\t\t\t\t\tfieldElem.classList.add('custom-file_max-loaded');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfieldElem.classList.remove('custom-file_max-loaded');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfieldElem.classList.remove('custom-file_loaded');\r\n\t\t\t\tfieldElem.classList.remove('custom-file_max-loaded');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tlockUpload: function(inputElem) {\r\n\t\t\tif (inputElem.classList.contains('custom-file__input_lock') && inputElem.multiple && inputElem.hasAttribute('data-max-files') && this.filesArrayObj[inputElem.id].length >= (+inputElem.getAttribute('data-max-files'))) {\r\n\t\t\t\tinputElem.setAttribute('disabled', 'disable');\r\n\t\t\t} else {\r\n\t\t\t\tinputElem.removeAttribute('disabled');\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tlabelText: function(inputElem) {\r\n\t\t\tconst labTxtElem = inputElem.closest('.custom-file').querySelector('.custom-file__label-text');\r\n\t\t\t\r\n\t\t\tif (!labTxtElem || !labTxtElem.hasAttribute('data-label-text-2')) return;\r\n\t\t\t\r\n\t\t\tconst maxFiles = (inputElem.multiple) ? (+this.input.getAttribute('data-max-files')) : 1;\r\n\t\t\t\r\n\t\t\tif (this.filesArrayObj[inputElem.id].length >= maxFiles) {\r\n\t\t\t\tif (!labTxtElem.hasAttribute('data-label-text')) {\r\n\t\t\t\t\tlabTxtElem.setAttribute('data-label-text', labTxtElem.innerHTML);\r\n\t\t\t\t}\r\n\t\t\t\tlabTxtElem.innerHTML = labTxtElem.getAttribute('data-label-text-2');\r\n\t\t\t} else if (labTxtElem.hasAttribute('data-label-text')) {\r\n\t\t\t\tlabTxtElem.innerHTML = labTxtElem.getAttribute('data-label-text');\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tloadPreview: function(file, fileItem) {\r\n\t\t\tvar reader = new FileReader(),\r\n\t\t\tpreviewDiv;\r\n\t\t\t\r\n\t\t\tif (this.input.hasAttribute('data-preview-elem')) {\r\n\t\t\t\tpreviewDiv = document.querySelector(this.input.getAttribute('data-preview-elem'));\r\n\t\t\t} else {\r\n\t\t\t\tpreviewDiv = document.createElement('div');\r\n\t\t\t\t\r\n\t\t\t\tpreviewDiv.className = 'custom-file__preview';\r\n\t\t\t\t\r\n\t\t\t\tfileItem.insertBefore(previewDiv, fileItem.firstChild);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treader.onload = function(e) {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tvar imgDiv = document.createElement('div');\r\n\t\t\t\t\t\r\n\t\t\t\t\timgDiv.innerHTML = (file.type.match(/image.*/)) ? '<img src=\"'+ e.target.result +'\">' : '<img src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNS4xLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMzAwcHgiIGhlaWdodD0iMzAwcHgiIHZpZXdCb3g9IjAgMCAzMDAgMzAwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAzMDAgMzAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxyZWN0IGZpbGw9IiNCOEQ4RkYiIHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIi8+DQo8cG9seWdvbiBmaWxsPSIjN0M3QzdDIiBwb2ludHM9IjUxLDI2Ny42NjY5OTIyIDExMSwxOTcgMTUxLDI0My42NjY5OTIyIDI4OC4zMzMwMDc4LDEyMSAzMDAuMTY2OTkyMiwxMzQuMTY2NTAzOSAzMDAsMzAwIDAsMzAwIA0KCTAsMjA4LjgzMzk4NDQgIi8+DQo8cG9seWdvbiBmaWxsPSIjQUZBRkFGIiBwb2ludHM9IjAuMTI1LDI2Ny4xMjUgNDguODMzNDk2MSwxNzQuNjY2OTkyMiAxMDMuNSwyNjQuNSAyMDMuODc1LDY1LjMzMzAwNzggMzAwLjE2Njk5MjIsMjU0LjUgMzAwLDMwMCANCgkwLDMwMCAiLz4NCjxjaXJjbGUgZmlsbD0iI0VBRUFFQSIgY3g9Ijc3LjAwMDI0NDEiIGN5PSI3MSIgcj0iMzYuNjY2NzQ4Ii8+DQo8L3N2Zz4NCg==\">';\r\n\t\t\t\t\t\r\n\t\t\t\t\tpreviewDiv.appendChild(imgDiv);\r\n\t\t\t\t}, 121);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t},\r\n\t\t\r\n\t\tchangeInput: function(elem) {\r\n\t\t\tvar fileItems = elem.closest('.custom-file').querySelector('.custom-file__items');\r\n\t\t\t\r\n\t\t\tif (elem.getAttribute('data-action') == 'clear' || !elem.multiple) {\r\n\t\t\t\tthis.clear(elem);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < elem.files.length; i++) {\r\n\t\t\t\tvar file = elem.files[i];\r\n\t\t\t\t\r\n\t\t\t\tif (this.filesObj[elem.id] && this.filesObj[elem.id][file.name] != undefined) continue;\r\n\t\t\t\t\r\n\t\t\t\tvar fileItem = document.createElement('div');\r\n\t\t\t\t\r\n\t\t\t\tfileItem.className = 'custom-file__item';\r\n\t\t\t\tfileItem.innerHTML = '<div class=\"custom-file__name\">'+ file.name +'</div><button type=\"button\" class=\"custom-file__del-btn\" data-ind=\"'+ file.name +'\"></button>';\r\n\t\t\t\t\r\n\t\t\t\tfileItems.appendChild(fileItem);\r\n\t\t\t\t\r\n\t\t\t\tthis.loadPreview(file, fileItem);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.setFilesObj(elem.files);\r\n\t\t},\r\n\t\t\r\n\t\tsetFilesObj: function(filesList, objKey) {\r\n\t\t\tvar inputElem = this.input;\r\n\t\t\t\r\n\t\t\tif (!inputElem.id.length) {\r\n\t\t\t\tinputElem.id = 'custom-file-input-'+ new Date().valueOf();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (filesList) {\r\n\t\t\t\tthis.filesObj[inputElem.id] = this.filesObj[inputElem.id] || {};\r\n\t\t\t\t\r\n\t\t\t\tfor (var i = 0; i < filesList.length; i++) {\r\n\t\t\t\t\tthis.filesObj[inputElem.id][filesList[i].name] = filesList[i];\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tdelete this.filesObj[inputElem.id][objKey];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.filesArrayObj[inputElem.id] = [];\r\n\t\t\t\r\n\t\t\tfor (var key in this.filesObj[inputElem.id]) {\r\n\t\t\t\tthis.filesArrayObj[inputElem.id].push(this.filesObj[inputElem.id][key]);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.fieldClass(inputElem);\r\n\t\t\t\r\n\t\t\tthis.labelText(inputElem);\r\n\r\n\t\t\tthis.lockUpload(inputElem);\r\n\t\t\t\r\n\t\t\tValidateForm.file(inputElem, this.filesArrayObj[inputElem.id]);\r\n\t\t},\r\n\t\t\r\n\t\tinputFiles: function(inputElem) {\r\n\t\t\treturn this.filesArrayObj[inputElem.id] || [];\r\n\t\t},\r\n\t\t\r\n\t\tgetFiles: function(formElem) {\r\n\t\t\tvar inputFileElements = formElem.querySelectorAll('.custom-file__input'),\r\n\t\t\tfilesArr = [];\r\n\t\t\t\r\n\t\t\tif (inputFileElements.length == 1) {\r\n\t\t\t\tfilesArr = this.filesArrayObj[inputFileElements[0].id];\r\n\t\t\t} else {\r\n\t\t\t\tfor (var i = 0; i < inputFileElements.length; i++) {\r\n\t\t\t\t\tif (this.filesArrayObj[inputFileElements[i].id]) {\r\n\t\t\t\t\t\tfilesArr.push({name: inputFileElements[i].name, files: this.filesArrayObj[inputFileElements[i].id]});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn filesArr;\r\n\t\t},\r\n\t\t\r\n\t\tinit: function() {\r\n\t\t\tdocument.addEventListener('change', (e) => {\r\n\t\t\t\tvar elem = e.target.closest('input[type=\"file\"]');\r\n\t\t\t\t\r\n\t\t\t\tif (!elem) return;\r\n\t\t\t\t\r\n\t\t\t\tthis.input = elem;\r\n\t\t\t\t\r\n\t\t\t\tthis.changeInput(elem);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar delBtnElem = e.target.closest('.custom-file__del-btn'),\r\n\t\t\t\tclearBtnElem = e.target.closest('.custom-file__clear-btn'),\r\n\t\t\t\tinputElem = e.target.closest('input[type=\"file\"]');\r\n\t\t\t\t\r\n\t\t\t\tif (inputElem && inputElem.multiple) {\r\n\t\t\t\t\tinputElem.value = null;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (delBtnElem) {\r\n\t\t\t\t\tthis.input = delBtnElem.closest('.custom-file').querySelector('.custom-file__input');\r\n\t\t\t\t\t\r\n\t\t\t\t\tdelBtnElem.closest('.custom-file__items').removeChild(delBtnElem.closest('.custom-file__item'));\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.setFilesObj(false, delBtnElem.getAttribute('data-ind'));\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (clearBtnElem) {\r\n\t\t\t\t\tvar inputElem = clearBtnElem.closest('.custom-file').querySelector('.custom-file__input');\r\n\t\t\t\t\t\r\n\t\t\t\t\tinputElem.value = null;\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.clear(inputElem);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\t\r\n\t//init script\r\n\tdocument.addEventListener('DOMContentLoaded', function() {\r\n\t\tCustomFile.init();\r\n\t});\r\n})();","; var Placeholder;\r\n\r\n(function () {\r\n\t'use strict';\r\n\r\n\tPlaceholder = {\r\n\t\tinit: function (elementsStr) {\r\n\t\t\tvar elements = document.querySelectorAll(elementsStr);\r\n\r\n\t\t\tif (!elements.length) return;\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (elem.placeholder) {\r\n\r\n\t\t\t\t\tvar elemFor = (elem.id) ? elem.id : 'placeholder-index-' + i,\r\n\t\t\t\t\t\tlabel = document.createElement('label');\r\n\r\n\t\t\t\t\tlabel.htmlFor = elemFor;\r\n\t\t\t\t\tlabel.className = 'placeholder';\r\n\t\t\t\t\tlabel.innerHTML = elem.placeholder;\r\n\r\n\t\t\t\t\telem.parentElement.insertBefore(label, elem);\r\n\r\n\t\t\t\t\telem.removeAttribute('placeholder');\r\n\r\n\t\t\t\t\tif (!elem.id) {\r\n\t\t\t\t\t\telem.id = elemFor;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (elem.value.length) {\r\n\t\t\t\t\tthis.hide(elem, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//events\r\n\t\t\tdocument.addEventListener('focus', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementsStr);\r\n\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.hide(elem, true);\r\n\t\t\t\t}\r\n\t\t\t}, true);\r\n\r\n\t\t\tdocument.addEventListener('blur', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementsStr);\r\n\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.hide(elem, false);\r\n\t\t\t\t}\r\n\t\t\t}, true);\r\n\t\t},\r\n\r\n\t\thide: function (elem, hide) {\r\n\t\t\tvar label = document.querySelector('label.placeholder[for=\"' + elem.id + '\"]');\r\n\r\n\t\t\tif (!label) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar lSt = label.style;\r\n\r\n\t\t\tif (hide) {\r\n\r\n\t\t\t\tlSt.textIndent = '-9999px';\r\n\t\t\t\tlSt.paddingLeft = '0px';\r\n\t\t\t\tlSt.paddingRight = '0px';\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (!elem.value.length) {\r\n\t\t\t\t\tlSt.textIndent = '';\r\n\t\t\t\t\tlSt.paddingLeft = '';\r\n\t\t\t\t\tlSt.paddingRight = '';\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t//init scripts\r\n\tdocument.addEventListener('DOMContentLoaded', function () {\r\n\t\tPlaceholder.init('input[type=\"text\"], input[type=\"number\"], input[type=\"tel\"], input[type=\"password\"], textarea');\r\n\t});\r\n})();","var Maskinput;\r\n\r\n(function() {\r\n\t'use strict';\r\n\t\r\n\tMaskinput = function(inputElem, type) {\r\n\t\tif (!inputElem) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar defValue = '';\r\n\r\n\t\tthis.tel = function(evStr) {\r\n\t\t\tif (evStr == 'focus' && !inputElem.value.length) {\r\n\t\t\t\tinputElem.value = '+7(';\r\n\t\t\t}\r\n\r\n\t\t\tif (!/[\\+\\d\\(\\)\\-]*/.test(inputElem.value)) {\r\n\t\t\t\tinputElem.value = defValue;\r\n\t\t\t} else {\r\n\t\t\t\tvar reg = /^(\\+7?)?(\\(\\d{0,3})?(\\)\\d{0,3})?(\\-\\d{0,2}){0,2}$/,\r\n\t\t\t\tcursPos = inputElem.selectionStart;\r\n\r\n\t\t\t\tif (!reg.test(inputElem.value)) {\r\n\t\t\t\t\tinputElem.value = inputElem.value.replace(/^(?:\\+7?)?\\(?(\\d{0,3})\\)?(\\d{0,3})\\-?(\\d{0,2})\\-?(\\d{0,2})$/, function(str, p1, p2, p3, p4) {\r\n\t\t\t\t\t\tvar res = '';\r\n\r\n\t\t\t\t\t\tif (p4 != '') {\r\n\t\t\t\t\t\t\tres = '+7('+ p1 +')'+ p2 +'-'+ p3 +'-'+ p4;\r\n\t\t\t\t\t\t} else if (p3 != '') {\r\n\t\t\t\t\t\t\tres = '+7('+ p1 +')'+ p2 +'-'+ p3;\r\n\t\t\t\t\t\t} else if (p2 != '') {\r\n\t\t\t\t\t\t\tres = '+7('+ p1 +')'+ p2;\r\n\t\t\t\t\t\t} else if (p1 != '') {\r\n\t\t\t\t\t\t\tres = '+7('+ p1;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn res;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!reg.test(inputElem.value)) {\r\n\t\t\t\t\tinputElem.value = defValue;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdefValue = inputElem.value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tinputElem.addEventListener('input', () => {\r\n\t\t\tthis[type]();\r\n\t\t});\r\n\r\n\t\tinputElem.addEventListener('focus', () => {\r\n\t\t\tthis[type]('focus');\r\n\t\t}, true);\r\n\t}\r\n})();","var ValidateForm, Form;\r\n\r\n(function () {\r\n\t'use strict';\r\n\r\n\t// validate form\r\n\tValidateForm = {\r\n\t\tinput: null,\r\n\r\n\t\terrorTip: function (err, errInd, errorTxt) {\r\n\t\t\tconst field = this.input.closest('.form__field') || this.input.parentElement,\r\n\t\t\t\terrTip = field.querySelector('.field-error-tip');\r\n\r\n\t\t\tif (err) {\r\n\t\t\t\tfield.classList.remove('field-success');\r\n\t\t\t\tfield.classList.add('field-error');\r\n\r\n\t\t\t\tif (!errTip) return;\r\n\r\n\t\t\t\tif (errInd) {\r\n\t\t\t\t\tif (!errTip.hasAttribute('data-error-text')) {\r\n\t\t\t\t\t\terrTip.setAttribute('data-error-text', errTip.innerHTML);\r\n\t\t\t\t\t}\r\n\t\t\t\t\terrTip.innerHTML = (errInd != 'custom') ? errTip.getAttribute('data-error-text-' + errInd) : errorTxt;\r\n\t\t\t\t} else if (errTip.hasAttribute('data-error-text')) {\r\n\t\t\t\t\terrTip.innerHTML = errTip.getAttribute('data-error-text');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfield.classList.remove('field-error');\r\n\t\t\t\tfield.classList.add('field-success');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcustomErrorTip: function (input, errorTxt, isLockForm) {\r\n\t\t\tif (!input) return;\r\n\r\n\t\t\tthis.input = input;\r\n\r\n\t\t\tif (errorTxt) {\r\n\t\t\t\tthis.errorTip(true, 'custom', errorTxt);\r\n\r\n\t\t\t\tif (isLockForm) {\r\n\t\t\t\t\tinput.setAttribute('data-custom-error', 'true');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t\tinput.removeAttribute('data-custom-error');\r\n\r\n\t\t\t\tthis.validate(input.closest('form'));\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tformError: function (formElem, err, errTxt) {\r\n\t\t\tconst errTipElem = formElem.querySelector('.form-error-tip');\r\n\r\n\t\t\tif (err) {\r\n\t\t\t\tformElem.classList.add('form-error');\r\n\r\n\t\t\t\tif (!errTipElem) return;\r\n\r\n\t\t\t\tif (errTxt) {\r\n\t\t\t\t\tif (!errTipElem.hasAttribute('data-error-text')) {\r\n\t\t\t\t\t\terrTipElem.setAttribute('data-error-text', errTipElem.innerHTML);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\terrTipElem.innerHTML = errTxt;\r\n\t\t\t\t} else if (errTipElem.hasAttribute('data-error-text')) {\r\n\t\t\t\t\terrTipElem.innerHTML = errTipElem.getAttribute('data-error-text');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tformElem.classList.remove('form-error');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcustomFormErrorTip: function (formElem, errorTxt) {\r\n\t\t\tif (!formElem) return;\r\n\r\n\t\t\tif (errorTxt) {\r\n\t\t\t\tthis.formError(formElem, true, errorTxt);\r\n\t\t\t} else {\r\n\t\t\t\tthis.formError(formElem, false);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\ttxt: function () {\r\n\t\t\tvar err = false;\r\n\r\n\t\t\tif (!/^[0-9a-z-_,.:;@-\\s]*$/i.test(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\tnum: function () {\r\n\t\t\tvar err = false;\r\n\r\n\t\t\tif (!/^[0-9.,-]*$/.test(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\tname: function () {\r\n\t\t\tvar err = false;\r\n\r\n\t\t\tif (!/^[a-z-'\\s-]{2,21}(\\s[a-z-'\\s-]{2,21})?(\\s[a-z-'\\s-]{2,21})?$/i.test(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\tdate: function () {\r\n\t\t\tvar err = false,\r\n\t\t\t\terrDate = false,\r\n\t\t\t\tmatches = this.input.value.match(/^(\\d{2}).(\\d{2}).(\\d{4})$/);\r\n\r\n\t\t\tif (!matches) {\r\n\t\t\t\terrDate = 1;\r\n\t\t\t} else {\r\n\t\t\t\tvar compDate = new Date(matches[3], (matches[2] - 1), matches[1]),\r\n\t\t\t\t\tcurDate = new Date();\r\n\r\n\t\t\t\tif (this.input.hasAttribute('data-min-years-passed')) {\r\n\t\t\t\t\tvar interval = curDate.valueOf() - new Date(curDate.getFullYear() - (+this.input.getAttribute('data-min-years-passed')), curDate.getMonth(), curDate.getDate()).valueOf();\r\n\r\n\t\t\t\t\tif (curDate.valueOf() < compDate.valueOf() || (curDate.getFullYear() - matches[3]) > 100) {\r\n\t\t\t\t\t\terrDate = 1;\r\n\t\t\t\t\t} else if ((curDate.valueOf() - compDate.valueOf()) < interval) {\r\n\t\t\t\t\t\terrDate = 2;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (compDate.getFullYear() != matches[3] || compDate.getMonth() != (matches[2] - 1) || compDate.getDate() != matches[1]) {\r\n\t\t\t\t\terrDate = 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (errDate == 1) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else if (errDate == 2) {\r\n\t\t\t\tthis.errorTip(true, 3);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\temail: function () {\r\n\t\t\tvar err = false;\r\n\r\n\t\t\tif (!/^[a-z0-9]+[\\w\\-\\.]*@([\\w\\-]{2,}\\.)+[a-z]{2,6}$/i.test(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\turl: function () {\r\n\t\t\tvar err = false;\r\n\r\n\t\t\tif (!/^(https?\\:\\/\\/)?[a-z-0-9\\-\\.]+\\.[a-z-]{2,11}$/i.test(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\ttel: function () {\r\n\t\t\tvar err = false;\r\n\r\n\t\t\tif (!/^\\+7\\([0-9]{3}\\)[0-9]{3}-[0-9]{2}-[0-9]{2}$/.test(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\tpass: function () {\r\n\t\t\tvar err = false,\r\n\t\t\t\tminLng = this.input.getAttribute('data-min-length');\r\n\r\n\t\t\tif (minLng && this.input.value.length < minLng) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\tcheckbox: function (elem) {\r\n\t\t\tthis.input = elem;\r\n\r\n\t\t\tvar group = elem.closest('.form__chbox-group');\r\n\r\n\t\t\tif (group && group.getAttribute('data-tested')) {\r\n\t\t\t\tvar checkedElements = 0,\r\n\t\t\t\t\telements = group.querySelectorAll('input[type=\"checkbox\"]');\r\n\r\n\t\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\t\tif (elements[i].checked) {\r\n\t\t\t\t\t\tcheckedElements++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (checkedElements < group.getAttribute('data-min')) {\r\n\t\t\t\t\tgroup.classList.add('form__chbox-group_error');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgroup.classList.remove('form__chbox-group_error');\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if (elem.getAttribute('data-tested')) {\r\n\t\t\t\tif (elem.getAttribute('data-required') && !elem.checked) {\r\n\t\t\t\t\tthis.errorTip(true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tradio: function (elem) {\r\n\t\t\tthis.input = elem;\r\n\r\n\t\t\tvar checkedElement = false,\r\n\t\t\t\tgroup = elem.closest('.form__radio-group'),\r\n\t\t\t\telements = group.querySelectorAll('input[type=\"radio\"]');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tif (elements[i].checked) {\r\n\t\t\t\t\tcheckedElement = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!checkedElement) {\r\n\t\t\t\tgroup.classList.add('form__radio-group_error');\r\n\t\t\t} else {\r\n\t\t\t\tgroup.classList.remove('form__radio-group_error');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tselect: function (elem) {\r\n\t\t\tvar err = false;\r\n\r\n\t\t\tthis.input = elem;\r\n\r\n\t\t\tif (elem.getAttribute('data-required') && !elem.value.length) {\r\n\t\t\t\tthis.errorTip(true);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\tfile: function (elem, filesArr) {\r\n\t\t\tthis.input = elem;\r\n\r\n\t\t\tvar err = false,\r\n\t\t\t\terrCount = { ext: 0, size: 0 },\r\n\t\t\t\tmaxFiles = +this.input.getAttribute('data-max-files'),\r\n\t\t\t\textRegExp = new RegExp('(?:\\\\.' + this.input.getAttribute('data-ext').replace(/,/g, '|\\\\.') + ')$', 'i'),\r\n\t\t\t\tmaxSize = +this.input.getAttribute('data-max-size'),\r\n\t\t\t\tfileItemElements = this.input.closest('.custom-file').querySelectorAll('.custom-file__item');;\r\n\r\n\t\t\tfor (var i = 0; i < filesArr.length; i++) {\r\n\t\t\t\tvar file = filesArr[i];\r\n\r\n\t\t\t\tif (!file.name.match(extRegExp)) {\r\n\t\t\t\t\terrCount.ext++;\r\n\r\n\t\t\t\t\tif (fileItemElements[i]) {\r\n\t\t\t\t\t\tfileItemElements[i].classList.add('file-error');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (file.size > maxSize) {\r\n\t\t\t\t\terrCount.size++;\r\n\r\n\t\t\t\t\tif (fileItemElements[i]) {\r\n\t\t\t\t\t\tfileItemElements[i].classList.add('file-error');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (maxFiles && filesArr.length > maxFiles) {\r\n\t\t\t\tthis.errorTip(true, 4);\r\n\t\t\t\terr = true;\r\n\t\t\t} else if (errCount.ext) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else if (errCount.size) {\r\n\t\t\t\tthis.errorTip(true, 3);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\tvalidateOnInput: function (elem) {\r\n\t\t\tthis.input = elem;\r\n\r\n\t\t\tvar dataType = elem.getAttribute('data-type');\r\n\r\n\t\t\tif (elem.getAttribute('data-required') && (!elem.value.length || /^\\s+$/.test(elem.value))) {\r\n\t\t\t\tthis.errorTip(true);\r\n\t\t\t} else if (elem.value.length) {\r\n\t\t\t\tif (dataType) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tthis[dataType]();\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tconsole.log('Error while process', dataType)\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tvalidate: function (formElem) {\r\n\t\t\tvar err = 0;\r\n\r\n\t\t\t// text, password, textarea\r\n\t\t\tvar elements = formElem.querySelectorAll('input[type=\"text\"], input[type=\"password\"], input[type=\"number\"], input[type=\"tel\"], textarea');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (elemIsHidden(elem)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.input = elem;\r\n\r\n\t\t\t\telem.setAttribute('data-tested', 'true');\r\n\r\n\t\t\t\tvar dataType = elem.getAttribute('data-type');\r\n\r\n\t\t\t\tif (elem.getAttribute('data-required') && (!elem.value.length || /^\\s+$/.test(elem.value))) {\r\n\t\t\t\t\tthis.errorTip(true);\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else if (elem.value.length) {\r\n\t\t\t\t\tif (elem.hasAttribute('data-custom-error')) {\r\n\t\t\t\t\t\terr++;\r\n\t\t\t\t\t} else if (dataType) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tif (this[dataType]()) {\r\n\t\t\t\t\t\t\t\terr++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\tconsole.log('Error while process', dataType)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// select\r\n\t\t\tconst selectElements = formElem.querySelectorAll('.select__input');\r\n\r\n\t\t\tfor (let i = 0; i < selectElements.length; i++) {\r\n\t\t\t\tconst selectElem = selectElements[i];\r\n\r\n\t\t\t\tif (elemIsHidden(selectElem.parentElement)) continue;\r\n\r\n\t\t\t\tif (this.select(selectElem)) {\r\n\t\t\t\t\terr++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// checkboxes\r\n\t\t\tvar elements = formElem.querySelectorAll('input[type=\"checkbox\"]');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (elemIsHidden(elem)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.input = elem;\r\n\r\n\t\t\t\telem.setAttribute('data-tested', 'true');\r\n\r\n\t\t\t\tif (elem.getAttribute('data-required') && !elem.checked) {\r\n\t\t\t\t\tthis.errorTip(true);\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// checkbox group\r\n\t\t\tvar groups = formElem.querySelectorAll('.form__chbox-group');\r\n\r\n\t\t\tfor (let i = 0; i < groups.length; i++) {\r\n\t\t\t\tvar group = groups[i],\r\n\t\t\t\t\tcheckedElements = 0;\r\n\r\n\t\t\t\tif (elemIsHidden(group)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgroup.setAttribute('data-tested', 'true');\r\n\r\n\t\t\t\tvar elements = group.querySelectorAll('input[type=\"checkbox\"]');\r\n\r\n\t\t\t\tfor (let i = 0; i < elements.length; i++) {\r\n\t\t\t\t\tif (elements[i].checked) {\r\n\t\t\t\t\t\tcheckedElements++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (checkedElements < group.getAttribute('data-min')) {\r\n\t\t\t\t\tgroup.classList.add('form__chbox-group_error');\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgroup.classList.remove('form__chbox-group_error');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// radio group\r\n\t\t\tvar groups = formElem.querySelectorAll('.form__radio-group');\r\n\r\n\t\t\tfor (let i = 0; i < groups.length; i++) {\r\n\t\t\t\tvar group = groups[i],\r\n\t\t\t\t\tcheckedElement = false;\r\n\r\n\t\t\t\tif (elemIsHidden(group)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgroup.setAttribute('data-tested', 'true');\r\n\r\n\t\t\t\tvar elements = group.querySelectorAll('input[type=\"radio\"]');\r\n\r\n\t\t\t\tfor (let i = 0; i < elements.length; i++) {\r\n\t\t\t\t\tif (elements[i].checked) {\r\n\t\t\t\t\t\tcheckedElement = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!checkedElement) {\r\n\t\t\t\t\tgroup.classList.add('form__radio-group_error');\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgroup.classList.remove('form__radio-group_error');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// file\r\n\t\t\tvar elements = formElem.querySelectorAll('input[type=\"file\"]');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (elemIsHidden(elem)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.input = elem;\r\n\r\n\t\t\t\tif (CustomFile.inputFiles(elem).length) {\r\n\t\t\t\t\tif (this.file(elem, CustomFile.inputFiles(elem))) {\r\n\t\t\t\t\t\terr++;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (elem.getAttribute('data-required')) {\r\n\t\t\t\t\tthis.errorTip(true);\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// passwords compare\r\n\t\t\tvar elements = formElem.querySelectorAll('input[data-pass-compare-input]');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (elemIsHidden(elem)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.input = elem;\r\n\r\n\t\t\t\tvar val = elem.value;\r\n\r\n\t\t\t\tif (val.length) {\r\n\t\t\t\t\tvar compElemVal = formElem.querySelector(elem.getAttribute('data-pass-compare-input')).value;\r\n\r\n\t\t\t\t\tif (val !== compElemVal) {\r\n\t\t\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\t\t\terr++;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.formError(formElem, err);\r\n\r\n\t\t\treturn (err) ? false : true;\r\n\t\t},\r\n\r\n\t\tinit: function (formSelector) {\r\n\t\t\tdocument.addEventListener('input', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(formSelector + ' input[type=\"text\"],' + formSelector + ' input[type=\"password\"],' + formSelector + ' input[type=\"number\"],' + formSelector + ' input[type=\"tel\"],' + formSelector + ' textarea');\r\n\r\n\t\t\t\tif (elem && elem.hasAttribute('data-tested')) {\r\n\t\t\t\t\tthis.validateOnInput(elem);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tdocument.addEventListener('change', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(formSelector + ' input[type=\"radio\"],' + formSelector + ' input[type=\"checkbox\"]');\r\n\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis[elem.type](elem);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t// variable height textarea\r\n\tvar varHeightTextarea = {\r\n\t\tsetHeight: function (elem) {\r\n\t\t\tvar mirror = elem.parentElement.querySelector('.var-height-textarea__mirror'),\r\n\t\t\t\tmirrorOutput = elem.value.replace(/\\n/g, '<br>');\r\n\r\n\t\t\tmirror.innerHTML = mirrorOutput + '&nbsp;';\r\n\t\t},\r\n\r\n\t\tinit: function () {\r\n\t\t\tdocument.addEventListener('input', (e) => {\r\n\t\t\t\tvar elem = e.target.closest('.var-height-textarea__textarea');\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.setHeight(elem);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t// next fieldset\r\n\tvar NextFieldset = {\r\n\t\tnext: function (btnElem, fwd) {\r\n\t\t\tvar nextFieldset = (btnElem.hasAttribute('data-go-to-fieldset')) ? document.querySelector(btnElem.getAttribute('data-go-to-fieldset')) : null;\r\n\r\n\t\t\tif (!nextFieldset) return;\r\n\r\n\t\t\tvar currentFieldset = btnElem.closest('.fieldset__item'),\r\n\t\t\t\tgoTo = (fwd) ? ValidateForm.validate(currentFieldset) : true;\r\n\r\n\t\t\tif (goTo) {\r\n\t\t\t\tcurrentFieldset.classList.add('fieldset__item_hidden');\r\n\t\t\t\tnextFieldset.classList.remove('fieldset__item_hidden');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function (nextBtnSelector, prevBtnSelector) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar nextBtnElem = e.target.closest(nextBtnSelector),\r\n\t\t\t\t\tprevBtnElem = e.target.closest(prevBtnSelector);\r\n\r\n\t\t\t\tif (nextBtnElem) {\r\n\t\t\t\t\tthis.next(nextBtnElem, true);\r\n\t\t\t\t} else if (prevBtnElem) {\r\n\t\t\t\t\tthis.next(prevBtnElem, false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t// form\r\n\tForm = {\r\n\t\tonSubmit: null,\r\n\r\n\t\tclearForm: function (formElem) {\r\n\t\t\tvar elements = formElem.querySelectorAll('input[type=\"text\"], input[type=\"number\"],input[type=\"tel\"], input[type=\"password\"], textarea');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\t\t\t\telem.value = '';\r\n\r\n\t\t\t\tif (window.Placeholder) {\r\n\t\t\t\t\tPlaceholder.hide(elem, false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (window.Select) {\r\n\t\t\t\tSelect.reset();\r\n\t\t\t}\r\n\r\n\t\t\tvar textareaMirrors = formElem.querySelectorAll('.var-height-textarea__mirror');\r\n\r\n\t\t\tfor (var i = 0; i < textareaMirrors.length; i++) {\r\n\t\t\t\ttextareaMirrors[i].innerHTML = '';\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tactSubmitBtn: function (state, formElem) {\r\n\t\t\tvar elements = formElem.querySelectorAll('button[type=\"submit\"], input[type=\"submit\"]');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (state) {\r\n\t\t\t\t\telem.removeAttribute('disabled');\r\n\t\t\t\t} else {\r\n\t\t\t\t\telem.setAttribute('disabled', 'disable');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tsubmitForm: function (formElem, e) {\r\n\t\t\tif (!ValidateForm.validate(formElem)) {\r\n\t\t\t\tif (e) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tformElem.classList.add('form_sending');\r\n\r\n\t\t\tif (!this.onSubmit) {\r\n\t\t\t\tformElem.submit();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// call onSubmit\r\n\t\t\tconst ret = this.onSubmit(formElem, (obj) => {\r\n\t\t\t\tobj = obj || {};\r\n\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.actSubmitBtn(obj.unlockSubmitButton, formElem);\r\n\t\t\t\t}, 321);\r\n\r\n\t\t\t\tformElem.classList.remove('form_sending');\r\n\r\n\t\t\t\tif (obj.clearForm == true) {\r\n\t\t\t\t\tthis.clearForm(formElem);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (ret === false) {\r\n\t\t\t\tif (e) e.preventDefault();\r\n\r\n\t\t\t\tthis.actSubmitBtn(false, formElem);\r\n\t\t\t} else {\r\n\t\t\t\tformElem.submit();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function (formSelector) {\r\n\t\t\tif (!document.querySelector(formSelector)) return;\r\n\r\n\t\t\tValidateForm.init(formSelector);\r\n\r\n\t\t\t// submit event\r\n\t\t\tdocument.addEventListener('submit', (e) => {\r\n\t\t\t\tconst formElem = e.target.closest(formSelector);\r\n\r\n\t\t\t\tif (formElem) {\r\n\t\t\t\t\tthis.submitForm(formElem, e);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// keyboard event\r\n\t\t\tdocument.addEventListener('keydown', (e) => {\r\n\t\t\t\tconst formElem = e.target.closest(formSelector);\r\n\r\n\t\t\t\tif (!formElem) return;\r\n\r\n\t\t\t\tconst key = e.which || e.keyCode || 0;\r\n\r\n\t\t\t\tif (e.ctrlKey && key == 13) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tthis.submitForm(formElem, e);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t// bind labels\r\n\tfunction BindLabels(elementsStr) {\r\n\t\tvar elements = document.querySelectorAll(elementsStr);\r\n\r\n\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\tvar elem = elements[i],\r\n\t\t\t\tlabel = elem.parentElement.querySelector('label'),\r\n\t\t\t\tforID = (elem.hasAttribute('id')) ? elem.id : 'keylabel-' + i;\r\n\r\n\t\t\tif (label && !label.hasAttribute('for')) {\r\n\t\t\t\tlabel.htmlFor = forID;\r\n\t\t\t\telem.id = forID;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// duplicate form\r\n\tvar DuplicateForm = {\r\n\t\tadd: function (btnElem) {\r\n\t\t\tvar modelElem = (btnElem.hasAttribute('data-form-model')) ? document.querySelector(btnElem.getAttribute('data-form-model')) : null,\r\n\t\t\t\tdestElem = (btnElem.hasAttribute('data-duplicated-dest')) ? document.querySelector(btnElem.getAttribute('data-duplicated-dest')) : null;\r\n\r\n\t\t\tif (!modelElem || !destElem) return;\r\n\r\n\t\t\tvar duplicatedDiv = document.createElement('div');\r\n\r\n\t\t\tduplicatedDiv.className = 'duplicated';\r\n\r\n\t\t\tduplicatedDiv.innerHTML = modelElem.innerHTML;\r\n\r\n\t\t\tdestElem.appendChild(duplicatedDiv);\r\n\r\n\t\t\tvar dupicatedElements = destElem.querySelectorAll('.duplicated');\r\n\r\n\t\t\tfor (var i = 0; i < dupicatedElements.length; i++) {\r\n\t\t\t\tvar dupicatedElem = dupicatedElements[i],\r\n\t\t\t\t\tlabelElements = dupicatedElem.querySelectorAll('label'),\r\n\t\t\t\t\tinputElements = dupicatedElem.querySelectorAll('input');\r\n\r\n\t\t\t\tfor (var j = 0; j < labelElements.length; j++) {\r\n\t\t\t\t\tvar elem = labelElements[j];\r\n\r\n\t\t\t\t\tif (elem.htmlFor != '') {\r\n\t\t\t\t\t\telem.htmlFor += '-' + i + '-' + j;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (var j = 0; j < inputElements.length; j++) {\r\n\t\t\t\t\tvar elem = inputElements[j];\r\n\r\n\t\t\t\t\tif (elem.id != '') {\r\n\t\t\t\t\t\telem.id += '-' + i + '-' + j;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tremove: function (btnElem) {\r\n\t\t\tvar duplElem = btnElem.closest('.duplicated');\r\n\r\n\t\t\tif (duplElem) {\r\n\t\t\t\tduplElem.innerHTML = '';\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function (addBtnSelector, removeBtnSelector) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar addBtnElem = e.target.closest(addBtnSelector),\r\n\t\t\t\t\tremoveBtnElem = e.target.closest(removeBtnSelector);\r\n\r\n\t\t\t\tif (addBtnElem) {\r\n\t\t\t\t\tthis.add(addBtnElem);\r\n\t\t\t\t} else if (removeBtnElem) {\r\n\t\t\t\t\tthis.remove(removeBtnElem);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t// set tabindex\r\n\t/*function SetTabindex(elementsStr) {\r\n\t\tvar elements = document.querySelectorAll(elementsStr);\r\n\t\t\r\n\t\tfor (let i = 0; i < elements.length; i++) {\r\n\t\t\tvar elem = elements[i];\r\n\t\t\t\r\n\t\t\tif (!elemIsHidden(elem)) {\r\n\t\t\t\telem.setAttribute('tabindex', i + 1);\r\n\t\t\t}\r\n\t\t}\r\n\t}*/\r\n\r\n\t// init scripts\r\n\tdocument.addEventListener('DOMContentLoaded', function () {\r\n\t\tBindLabels('input[type=\"text\"], input[type=\"number\"], input[type=\"tel\"], input[type=\"checkbox\"], input[type=\"radio\"]');\r\n\t\t// SetTabindex('input[type=\"text\"], input[type=\"password\"], textarea');\r\n\t\tvarHeightTextarea.init();\r\n\t\tNextFieldset.init('.js-next-fieldset-btn', '.js-prev-fieldset-btn');\r\n\t\tDuplicateForm.init('.js-dupicate-form-btn', '.js-remove-dupicated-form-btn');\r\n\t});\r\n})();","/*\r\n* call Accord.init(Str button selector);\r\n*/\r\nvar Accord;\r\n\r\n(function() {\r\n\t'use strict';\r\n\r\n\tAccord = {\r\n\t\ttoggle: function(elem) {\r\n\t\t\tvar contentElem = elem.nextElementSibling;\r\n\r\n\t\t\tif (elem.classList.contains('accord__button_active')) {\r\n\t\t\t\tcontentElem.style.height = 0;\r\n\r\n\t\t\t\telem.classList.remove('accord__button_active');\r\n\t\t\t} else {\r\n\t\t\t\tvar mainElem = elem.closest('.accord'),\r\n\t\t\t\tallButtonElem = mainElem.querySelectorAll('.accord__button'),\r\n\t\t\t\tallContentElem = mainElem.querySelectorAll('.accord__content');\r\n\r\n\t\t\t\tfor (var i = 0; i < allButtonElem.length; i++) {\r\n\t\t\t\t\tallButtonElem[i].classList.remove('accord__button_active');\r\n\t\t\t\t\tallContentElem[i].style.height = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcontentElem.style.height = contentElem.scrollHeight +'px';\r\n\r\n\t\t\t\telem.classList.add('accord__button_active');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr) {\r\n\t\t\tif (!document.querySelectorAll('.accord').length) return;\r\n\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementStr);\r\n\r\n\t\t\t\tif (!elem || elem.closest('.accord_closed')) return;\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tthis.toggle(elem);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n})();","/*\r\ncall to init:\r\nMore.init(Str button selector);\r\n*/\r\nvar More;\r\n\r\n(function() {\r\n\t'use strict';\r\n\r\n\tMore = {\r\n\t\ttoggle: function(elem) {\r\n\t\t\tvar contentElem = elem.previousElementSibling;\r\n\r\n\t\t\tif (elem.classList.contains('active')) {\r\n\t\t\t\tcontentElem.style.height = contentElem.getAttribute('data-height') +'px';\r\n\r\n\t\t\t\telem.classList.remove('active');\r\n\t\t\t} else {\r\n\t\t\t\tcontentElem.setAttribute('data-height', contentElem.offsetHeight);\r\n\r\n\t\t\t\tcontentElem.style.height = contentElem.scrollHeight +'px';\r\n\r\n\t\t\t\telem.classList.add('active');\r\n\t\t\t}\r\n\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tvar btnTxt = elem.innerHTML;\r\n\r\n\t\t\t\telem.innerHTML = elem.getAttribute('data-btn-text');\r\n\r\n\t\t\t\telem.setAttribute('data-btn-text', btnTxt);\r\n\t\t\t}, 321);\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementStr);\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tthis.toggle(elem);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n})();","/*\r\ncall to init:\r\nTab.init({\r\n\tcontainer: '.tab',\r\n\tbutton: '.tab__button',\r\n\titem: '.tab__item',\r\n\tchangeOnHover: true // default: false\r\n});\r\n*/\r\n; var Tab;\r\n\r\n(function() {\r\n\t'use strict';\r\n\t\r\n\tTab = {\r\n\t\toptions: null,\r\n\t\t\r\n\t\tchange: function(btnElem) {\r\n\t\t\tif (btnElem.classList.contains('active')) return;\r\n\t\t\t\r\n\t\t\tvar contElem = btnElem.closest(this.options.container),\r\n\t\t\tbtnElements = contElem.querySelectorAll(this.options.button),\r\n\t\t\ttabItemElements = contElem.querySelectorAll(this.options.item);\r\n\t\t\t\r\n\t\t\t//remove active state\r\n\t\t\tfor (var i = 0; i < btnElements.length; i++) {\r\n\t\t\t\tbtnElements[i].classList.remove('active');\r\n\t\t\t\t\r\n\t\t\t\ttabItemElements[i].classList.remove('active');\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//get current tab item\r\n\t\t\tvar tabItemElem = contElem.querySelector(this.options.item +'[data-index=\"'+ btnElem.getAttribute('data-index') +'\"]');\r\n\t\t\t\r\n\t\t\t//set active state\r\n\t\t\ttabItemElem.classList.add('active');\r\n\t\t\t\r\n\t\t\tbtnElem.classList.add('active');\r\n\t\t\t\r\n\t\t\t//set height\r\n\t\t\tthis.setHeight(tabItemElem);\r\n\t\t},\r\n\t\t\r\n\t\tsetHeight: function(tabItemElem) {\r\n\t\t\ttabItemElem.parentElement.style.height = tabItemElem.offsetHeight +'px';\r\n\t\t},\r\n\t\t\r\n\t\treInit: function() {\r\n\t\t\tif (!this.options) return;\r\n\t\t\t\r\n\t\t\tvar contElements = document.querySelectorAll(this.options.container);\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < contElements.length; i++) {\r\n\t\t\t\tthis.setHeight(contElements[i].querySelector(this.options.item +'.active'));\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tinit: function(options) {\r\n\t\t\tconst contElements = document.querySelectorAll(options.container);\r\n\t\t\t\r\n\t\t\tif (!contElements.length) return;\r\n\t\t\t\r\n\t\t\tthis.options = options;\r\n\t\t\t\r\n\t\t\t//init tabs\r\n\t\t\tfor (let i = 0; i < contElements.length; i++) {\r\n\t\t\t\tvar contElem = contElements[i],\r\n\t\t\t\tbtnElements = contElem.querySelectorAll(options.button),\r\n\t\t\t\ttabItemElements = contElem.querySelectorAll(options.item),\r\n\t\t\t\ttabItemElemActive = contElem.querySelector(this.options.item +'.active');\r\n\t\t\t\t\r\n\t\t\t\tthis.setHeight(tabItemElemActive);\r\n\t\t\t\t\r\n\t\t\t\tfor (let i = 0; i < btnElements.length; i++) {\r\n\t\t\t\t\tbtnElements[i].setAttribute('data-index', i);\r\n\t\t\t\t\t\r\n\t\t\t\t\ttabItemElements[i].setAttribute('data-index', i);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//btn event\r\n\t\t\tif (options.changeOnHover) {\r\n\t\t\t\tdocument.addEventListener('mouseover', (e) => {\r\n\t\t\t\t\tconst btnElem = e.target.closest(options.button);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!btnElem) return;\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.change(btnElem);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\t\tconst btnElem = e.target.closest(options.button);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!btnElem) return;\r\n\t\t\t\t\t\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.change(btnElem);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t};\r\n})();","/*\r\nnew Alert({\r\n\tcontent: 'We use coockie',\r\n\tposition: 'top', // default - bottom\r\n\tshowOnce: true, // default - false\r\n\tcloseBtn: false // default - true\r\n\taddClass: 'alert-class'\r\n});\r\n*/\r\n\r\n; var Alert;\r\n\r\n(function () {\r\n\t'use strict';\r\n\r\n\tvar alertIndex = 0;\r\n\r\n\tAlert = function (opt) {\r\n\t\topt = opt || {};\r\n\r\n\t\topt.closeBtn = (opt.closeBtn !== undefined) ? opt.closeBtn : true;\r\n\r\n\t\tvar alertId = 'alert-id-' + (alertIndex++);\r\n\r\n\t\tif (opt.showOnce) {\r\n\t\t\tlet hiddenAlert = window.localStorage.getItem('notShowAlert=' + alertId);\r\n\r\n\t\t\tif (hiddenAlert !== null && hiddenAlert === 'true') {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//add alert to DOM\r\n\t\tvar alertElem = document.createElement('div');\r\n\r\n\t\talertElem.className = 'alert';\r\n\r\n\t\talertElem.id = alertId;\r\n\r\n\t\talertElem.innerHTML = '<div></div>' + ((opt.closeBtn) ? '<button class=\"js-alert-close alert__close-btn\"></button>' : '');\r\n\r\n\t\tdocument.body.appendChild(alertElem);\r\n\r\n\t\tif (opt.position == 'top') {\r\n\t\t\talertElem.classList.add('alert_top');\r\n\t\t}\r\n\r\n\t\tif (opt.addClass) {\r\n\t\t\talertElem.classList.add(opt.addClass);\r\n\t\t}\r\n\r\n\t\t// set content\r\n\t\tthis.setContent = function (content) {\r\n\t\t\talertElem.querySelector('div').innerHTML = content;\r\n\t\t}\r\n\r\n\t\tif (opt.content) {\r\n\t\t\tthis.setContent(opt.content);\r\n\t\t}\r\n\r\n\t\t// hide permanently\r\n\t\tfunction hidePermanently() {\r\n\t\t\twindow.localStorage.setItem('notShowAlert=' + alertId, 'true');\r\n\t\t}\r\n\r\n\t\t// hide\r\n\t\tfunction hide() {\r\n\t\t\talertElem.classList.add('alert_hidden');\r\n\r\n\t\t\tif (opt.showOnce) {\r\n\t\t\t\thidePermanently();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\talertElem.addEventListener('click', function (e) {\r\n\t\t\tif (e.target.closest('.js-alert-close')) {\r\n\t\t\t\thide();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n})();","/*\r\nToolTip.init({\r\n\telement: '.js-tooltip'\r\n});\r\n\r\nToolTip.onShow = function(btnEl, tooltipDivEl) {\r\n\t\r\n}\r\n*/\r\n\r\n; var ToolTip;\r\n\r\n(function () {\r\n\t'use strict';\r\n\t\r\n\tToolTip = {\r\n\t\ttooltipDiv: null,\r\n\t\ttooltipClass: null,\r\n\t\tcanBeHidden: false,\r\n\t\tposition: {},\r\n\t\tonShow: null,\r\n\t\topt: null,\r\n\t\t\r\n\t\tshow: function (elem) {\r\n\t\t\tthis.tooltipDiv.innerHTML = (elem.hasAttribute('data-tooltip')) ? elem.getAttribute('data-tooltip').replace(/\\[(\\w+)\\](.*)\\[\\:(\\w+)\\]/gi, '<$1>$2</$3>') : '';\r\n\t\t\t\r\n\t\t\tthis.tooltipClass = elem.getAttribute('data-tooltip-class');\r\n\t\t\t\r\n\t\t\tif (window.innerWidth < 750) {\r\n\t\t\t\tthis.position.X = 'center';\r\n\t\t\t} else if (elem.hasAttribute('data-tooltip-pos-x')) {\r\n\t\t\t\tthis.position.X = elem.getAttribute('data-tooltip-pos-x');\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (elem.hasAttribute('data-tooltip-pos-y')) {\r\n\t\t\t\tthis.position.Y = elem.getAttribute('data-tooltip-pos-y');\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (this.tooltipClass) {\r\n\t\t\t\tthis.tooltipDiv.classList.add(this.tooltipClass);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlet bubleStyle = this.tooltipDiv.style,\r\n\t\t\telemRect = elem.getBoundingClientRect(),\r\n\t\t\twinW = window.innerWidth,\r\n\t\t\tcoordX,\r\n\t\t\tcoordY;\r\n\t\t\t\r\n\t\t\tswitch (this.position.X) {\r\n\t\t\t\tcase 'center':\r\n\t\t\t\tcoordX = (elemRect.left + (elem.offsetWidth / 2)) - (this.tooltipDiv.offsetWidth / 2);\r\n\t\t\t\t\r\n\t\t\t\tif (coordX < 10) {\r\n\t\t\t\t\tcoordX = 10;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tbubleStyle.left = coordX + 'px';\r\n\t\t\t\tbubleStyle.marginLeft = '0';\r\n\t\t\t\tbubleStyle.marginRight = '0';\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\tcase 'leftIn':\r\n\t\t\t\tcoordX = elemRect.left;\r\n\t\t\t\tbubleStyle.left = coordX + 'px';\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\tcase 'rightIn':\r\n\t\t\t\tcoordX = window.innerWidth - elemRect.right;\r\n\t\t\t\tbubleStyle.right = coordX + 'px';\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\tdefault:\r\n\t\t\t\tcoordX = elemRect.right;\r\n\t\t\t\tbubleStyle.left = coordX + 'px';\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif ((this.tooltipDiv.offsetWidth + coordX) > winW) {\r\n\t\t\t\tbubleStyle.width = (winW - coordX - 10) + 'px';\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// if (tooltipPotentWidth < tooltipMinWidth) {\r\n\t\t\t// \ttooltipPotentWidth = tooltipMinWidth;\r\n\t\t\t\r\n\t\t\t// \tcoordX = window.innerWidth - tooltipMinWidth - 10;\r\n\t\t\t// }\r\n\t\t\t\r\n\t\t\tswitch (this.position.Y) {\r\n\t\t\t\tcase 'bottomIn':\r\n\t\t\t\tbubleStyle.top = (elemRect.bottom + window.pageYOffset - this.tooltipDiv.offsetHeight) + 'px';\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\tcase 'bottomOut':\r\n\t\t\t\tbubleStyle.top = (elemRect.bottom + window.pageYOffset) + 'px';\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\tdefault:\r\n\t\t\t\tbubleStyle.top = (elemRect.top + window.pageYOffset - this.tooltipDiv.offsetHeight) + 'px';\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (this.onShow) {\r\n\t\t\t\tthis.onShow(elem, this.tooltipDiv);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.tooltipDiv.classList.add('tooltip_visible');\r\n\t\t\t\r\n\t\t\tthis.canBeHidden = true;\r\n\t\t\t\r\n\t\t\tif (document.ontouchstart !== undefined) {\r\n\t\t\t\tdocument.addEventListener('touchstart', this.mouseOut.bind(this));\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\thide: function () {\r\n\t\t\tthis.tooltipDiv.classList.remove('tooltip_visible');\r\n\t\t\tthis.tooltipDiv.removeAttribute('style');\r\n\t\t\tthis.tooltipDiv.innerHTML = '';\r\n\t\t\tthis.position = {};\r\n\t\t\t\r\n\t\t\tif (this.tooltipClass) {\r\n\t\t\t\tthis.tooltipDiv.classList.remove(this.tooltipClass);\r\n\t\t\t\t\r\n\t\t\t\tthis.tooltipClass = null;\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tmouseOut: function (e) {\r\n\t\t\tif (this.canBeHidden && !e.target.closest(this.opt.element) && !e.target.closest('.tooltip')) {\r\n\t\t\t\tthis.hide();\r\n\t\t\t\t\r\n\t\t\t\tthis.canBeHidden = false;\r\n\t\t\t\t\r\n\t\t\t\tdocument.removeEventListener('touchstart', this.mouseOut);\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tinit: function (opt) {\r\n\t\t\tthis.opt = opt || {};\r\n\t\t\t\r\n\t\t\tlet mouseOver = (e) => {\r\n\t\t\t\tif (this.canBeHidden) {\r\n\t\t\t\t\tif (!e.target.closest(opt.element) && !e.target.closest('.tooltip')) {\r\n\t\t\t\t\t\tthis.hide();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.canBeHidden = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst elem = e.target.closest(opt.element);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (elem) {\r\n\t\t\t\t\t\tthis.show(elem);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlet mouseClick = (e) => {\r\n\t\t\t\tconst elem = e.target.closest(opt.element);\r\n\t\t\t\t\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.hide();\r\n\t\t\t\t\tthis.show(elem);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (document.ontouchstart !== undefined) {\r\n\t\t\t\tdocument.addEventListener('click', mouseClick);\r\n\t\t\t} else {\r\n\t\t\t\tdocument.addEventListener('mouseover', mouseOver);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//add tooltip to DOM\r\n\t\t\tthis.tooltipDiv = document.createElement('div');\r\n\t\t\tthis.tooltipDiv.className = 'tooltip';\r\n\t\t\t\r\n\t\t\tdocument.body.appendChild(this.tooltipDiv);\r\n\t\t}\r\n\t};\r\n})();","/*\r\nAnchor.init(Str anchor selector[, Int duration ms[, Int shift px]]);\r\n*/\r\n\r\nvar Anchor;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tAnchor = {\r\n\t\tduration: 1000,\r\n\t\tshift: 0,\r\n\r\n\t\tscroll: function(anchorId, e) {\r\n\t\t\tconst anchorSectionElem = document.getElementById(anchorId +'-anchor');\r\n\r\n\t\t\tif (!anchorSectionElem) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (e) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\r\n\t\t\tlet scrollTo = anchorSectionElem.getBoundingClientRect().top + window.pageYOffset,\r\n\t\t\townShift = +anchorSectionElem.getAttribute('data-shift') || 0;\r\n\r\n\t\t\tif (window.innerWidth < 1000 && anchorSectionElem.hasAttribute('data-sm-shift')) {\r\n\t\t\t\townShift = +anchorSectionElem.getAttribute('data-sm-shift');\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tscrollTo = scrollTo - this.shift - ownShift;\r\n\r\n\t\t\tanimate(function(progress) {\r\n\t\t\t\twindow.scrollTo(0, ((scrollTo * progress) + ((1 - progress) * window.pageYOffset)));\r\n\t\t\t}, this.duration, 'easeInOutQuad');\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr, duration, shift) {\r\n\t\t\tif (duration) {\r\n\t\t\t\tthis.duration = duration;\r\n\t\t\t}\r\n\r\n\t\t\tif (shift) {\r\n\t\t\t\tthis.shift = shift;\r\n\t\t\t}\r\n\r\n\t\t\t//click anchor\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementStr);\r\n\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tconst anchId = (elem.hasAttribute('href')) ? elem.getAttribute('href').split('#')[1] : elem.getAttribute('data-anchor-id');\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.scroll(anchId, e);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t//hash anchor\r\n\t\t\tif (window.location.hash) {\r\n\t\t\t\twindow.addEventListener('load', () => {\r\n\t\t\t\t\tthis.scroll(window.location.hash.split('#')[1]);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n})();","/*\r\nvar diagram = new Diagram({\r\n\tcanvasId: Str elem id,\r\n\tcharts: [\r\n\t{\r\n\t\tvalue: Int,\r\n\t\tcolor: Str,\r\n\t\twidth: Int px,\r\n\t\tnumContId: Str elem id\r\n\t}\r\n\t],\r\n\tmaxValue: Int,\r\n\tanimate: true\r\n});\r\n\r\ndiagram.animate(Int duration ms);\r\n*/\r\n\r\n; var Diagram;\r\n\r\n(function() {\r\n\t'use strict';\r\n\r\n\tDiagram = function(options) {\r\n\t\tvar canvasElement = document.getElementById(options.canvasId);\r\n\r\n\t\tthis.animate = function(duration) {\r\n\t\t\tif (!canvasElement) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst chartValues = options.charts.map((obj) => obj.value);\r\n\t\t\t\r\n\t\t\tanimate((progress) => {\r\n\t\t\t\tthis.ctx.clearRect(0, 0, (this.center.x * 2), (this.center.y * 2));\r\n\t\t\t\tthis.prevChartsWidth = 0;\r\n\r\n\t\t\t\toptions.charts.forEach((chart, i) => {\r\n\t\t\t\t\tchart.value = chartValues[i] * progress;\r\n\r\n\t\t\t\t\tdrawChart(chart, i);\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t}, duration, 'easeInOutQuad');\r\n\t\t}\r\n\r\n\t\tif (!canvasElement) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tcanvasElement.width = canvasElement.offsetWidth;\r\n\t\tcanvasElement.height = canvasElement.offsetHeight;\r\n\r\n\t\tthis.ctx = canvasElement.getContext('2d');\r\n\t\tthis.canvasWidth = canvasElement.width;\r\n\t\tthis.center = {x: canvasElement.width / 2, y: canvasElement.height / 2};\r\n\t\tthis.prevChartsWidth = 0;\r\n\r\n\t\tconst startAngle = 1.5 * Math.PI;\r\n\r\n\t\tvar drawChart = (chart, i) => {\r\n\t\t\tvar endAngle = 2 * Math.PI * chart.value / options.maxValue + startAngle,\r\n\t\t\tradius = this.canvasWidth / 2 - chart.width / 2 - (chart.offset || 0) - this.prevChartsWidth;\r\n\r\n\t\t\tthis.prevChartsWidth += chart.width + (chart.offset || 0);\r\n\r\n\t\t\tthis.ctx.beginPath();\r\n\t\t\tthis.ctx.arc(this.center.x, this.center.y, radius, startAngle, endAngle);\r\n\t\t\tthis.ctx.lineWidth = chart.width;\r\n\t\t\tthis.ctx.strokeStyle = chart.color;\r\n\t\t\tthis.ctx.stroke();\r\n\r\n\t\t\toutputNum(chart);\r\n\t\t}\r\n\r\n\t\tif (!options.animate) {\r\n\t\t\toptions.charts.forEach((chart, i) => {\r\n\t\t\t\tdrawChart(chart, i);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tfunction outputNum(chart) {\r\n\t\t\tvar numElem = document.getElementById(chart.numContId);\r\n\r\n\t\t\tif (numElem) {\r\n\t\t\t\tnumElem.innerHTML = chart.value.toFixed(0);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n})();","var Numberspin;\r\n\r\n(function() {\r\n\t'use strict';\r\n\r\n\tNumberspin = function(options) {\r\n\t\tconst opt = options || {};\r\n\r\n\t\tthis.elements = document.querySelectorAll(opt.elemSel);\r\n\t\tthis.values = [];\r\n\r\n\t\tfor (var i = 0; i < this.elements.length; i++) {\r\n\t\t\tthis.values[i] = +this.elements[i].innerHTML.replace(/\\s/g, '');\r\n\t\t\tthis.elements[i].innerHTML = 0;\r\n\t\t}\r\n\r\n\t\tfunction draw(elem, num) {\r\n\t\t\tif (opt.format) {\r\n\t\t\t\tconst numStr = String(num);\r\n\r\n\t\t\t\telem.innerHTML = numStr.replace(/(\\d)?(?=(\\d{3})+$)/g, '$1 ');\r\n\t\t\t} else {\r\n\t\t\t\telem.innerHTML = num;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.animate = function(duration) {\r\n\t\t\tanimate((progress) => {\r\n\t\t\t\tfor (var i = 0; i < this.elements.length; i++) {\r\n\t\t\t\t\tlet num = Math.round(this.values[i] * progress);\r\n\r\n\t\t\t\t\tif (num < 0) {\r\n\t\t\t\t\t\tnum = 0;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tdraw(this.elements[i], num);\r\n\t\t\t\t}\r\n\t\t\t}, duration);\r\n\t\t}\r\n\t}\r\n})();\r\n\r\n\r\n/*\r\nfunction Numberspin(elem, opt) {\r\n\tvar def = {\r\n\t\tanimation: 1\r\n\t},\r\n\topt = opt || {},\r\n\toptions = $.extend({}, def, opt),\r\n\tinterval = null,\r\n\tanimate = false,\r\n\t$Elem = $(elem),\r\n\tcurVal = 0,\r\n\tval = $Elem.html().replace(/[\\s]/g, ''),\r\n\tpattern = val.match(/[\\.,]/),\r\n\tendVal = +val.replace(/[\\D]/g, '');\r\n\r\n\t$Elem.html(0);\r\n\r\n\tthis.start = function() {\r\n\t\t\r\n\t\tif (!animate) {\r\n\t\t\tanimate = true;\r\n\t\t\tspin();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction spin() {\r\n\r\n\t\tinterval = setTimeout(function run() {\r\n\r\n\t\t\t\tif (curVal < endVal) {\r\n\r\n\t\t\t\t\tif (options.animation == 1) {\r\n\r\n\t\t\t\t\t\tvar d = endVal - curVal;\r\n\r\n\t\t\t\t\t\tif (d > 1213214321321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 1213214321321;\r\n\t\t\t\t\t\t} else if (d > 3214321321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 3214321321;\r\n\t\t\t\t\t\t} else if (d > 4321321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 4321321;\r\n\t\t\t\t\t\t} else if (d > 321321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 321321;\r\n\t\t\t\t\t\t} else if (d > 32321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 32321;\r\n\t\t\t\t\t\t} else if (d > 2321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 2321;\r\n\t\t\t\t\t\t} else if (d > 1321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 1321;\r\n\t\t\t\t\t\t} else if (d > 321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 321;\r\n\t\t\t\t\t\t} else if (d > 21) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 21;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcurVal++;\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t} else if (options.animation == 2) {\r\n\r\n\t\t\t\t\t\tvar endValArr = String(endVal).split(''),\r\n\t\t\t\t\t\tcurValArr = String(curVal).split('');\r\n\r\n\t\t\t\t\t\tfor (var i = 0; i < endValArr.length; i++) {\r\n\t\t\t\t\t\t\tif (curValArr[i]) {\r\n\t\t\t\t\t\t\t\tif (curValArr[i] < endValArr[i] && curValArr[i-1] == endValArr[i-1]) {\r\n\t\t\t\t\t\t\t\t\tcurValArr[i]++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (curValArr[i-1] && curValArr[i-1] == endValArr[i-1]) {\r\n\t\t\t\t\t\t\t\tcurValArr[i] = 0;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tcurVal = curValArr.join('');\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar output = String(curVal);\r\n\r\n\t\t\t\t\tif (pattern) {\r\n\t\t\t\t\t\toutput = output.replace(new RegExp('(\\\\d{'+ pattern.index +'})'), '$1'+ pattern[0]);\r\n\t\t\t\t\t\toutput = output.replace(new RegExp('(\\\\d)?(?=(\\\\d{3})+?\\\\'+ pattern[0] +')', 'g'), '$1 ');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toutput = output.replace(/(\\d)?(?=(\\d{3})+$)/g, '$1 ');\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t$Elem.html(output);\r\n\r\n\t\t\t\t\tsetTimeout(run, 85);\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstop();\r\n\t\t\t\t}\r\n\r\n\t\t}, 1);\r\n\r\n\t}\r\n\r\n\tfunction stop() {\r\n\t\tclearTimeout(interval);\r\n\t}\r\n\r\n}\r\n\r\nvar numberspinObj = [], i = 0, ind;\r\nfunction numberspin(elem, opt) {\r\n\tif ($(elem)[0].ind == undefined) {\r\n\t\t$(elem)[0].ind = ind = i;\r\n\t} else {\r\n\t\tind = $(elem)[0].ind;\r\n\t}\r\n\r\n\tif (!(numberspinObj[elem+ind] instanceof Numberspin)) {\r\n\t\tnumberspinObj[elem+ind] = new Numberspin(elem, opt);\r\n\t}\r\n\ti++;\r\n\r\n\treturn numberspinObj[elem+ind];\r\n}\r\n*/","/*\r\nShare.init(Str button class);\r\n*/\r\n\r\n; var Share;\r\n\r\n; (function () {\r\n\t'use strict';\r\n\r\n\tShare = {\r\n\t\tnetwork: function (elem) {\r\n\t\t\tlet net = elem.getAttribute('data-network');\r\n\r\n\t\t\tif (!net) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tlet encodedHref = (elem.hasAttribute('data-share-url')) ? encodeURIComponent(elem.getAttribute('data-share-url')) : encodeURIComponent(window.location.href),\r\n\t\t\t\tencodedImageUrl = (elem.hasAttribute('data-share-img')) ? encodeURIComponent(elem.getAttribute('data-share-img')) : null,\r\n\t\t\t\ttitle = (elem.hasAttribute('data-share-tit')) ? encodeURIComponent(elem.getAttribute('data-share-tit')) : null,\r\n\t\t\t\turl;\r\n\r\n\t\t\tswitch (net) {\r\n\t\t\t\tcase 'vk':\r\n\t\t\t\t\turl = 'https://vkontakte.ru/share.php?url=' + encodedHref + ((encodedImageUrl) ? '&image=' + encodedImageUrl : '') + ((title) ? '&title=' + title : '');\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'fb':\r\n\t\t\t\t\turl = 'https://www.facebook.com/sharer.php?u=' + encodedHref;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'tw':\r\n\t\t\t\t\turl = 'http://twitter.com/share?url=' + encodedHref;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'ok':\r\n\t\t\t\t\turl = 'https://connect.ok.ru/offer?url=' + encodedHref + ((encodedImageUrl) ? '&imageUrl=' + encodedImageUrl : '') + ((title) ? '&title=' + title : '');\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tthis.popup(url);\r\n\t\t},\r\n\r\n\t\tpopup: function (url) {\r\n\t\t\twindow.open(url, '', 'toolbar=0,status=0,width=626,height=436');\r\n\t\t},\r\n\r\n\t\tinit: function (elementStr) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementStr);\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tthis.network(elem);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n})();","/* \r\nvar timer = new Timer({\r\n\telemId: 'timer', // Str element id,\r\n\tformat: 'extended', // default - false\r\n\tstopwatch: true, // default - false\r\n\tcontinue: false // default - true\r\n});\r\n\r\ntimer.onStop = function () {\r\n\t\r\n}\r\n\r\ntimer.start(Int interval in seconds);\r\n*/\r\n\r\n; var Timer;\r\n\r\n(function() {\r\n\t'use strict';\r\n\r\n\tTimer = function(options) {\r\n\t\tvar elem = document.getElementById(options.elemId);\r\n\r\n\t\toptions.continue = (options.continue !== undefined) ? options.continue : true;\r\n\r\n\t\tfunction setCookie() {\r\n\t\t\tif (options.continue) {\r\n\t\t\t\tdocument.cookie = 'lastTimestampValue-'+ options.elemId +'='+ Date.now() +'; expires='+ new Date(Date.now() + 259200000).toUTCString();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction output(time) {\r\n\t\t\tvar min = (time > 60) ? Math.floor(time / 60) : 0,\r\n\t\t\tsec = (time > 60) ? Math.round(time % 60) : time,\r\n\t\t\ttimerOut;\r\n\r\n\t\t\tif (options.format == 'extended') {\r\n\t\t\t\tfunction numToWord(num, wordsArr) {\r\n\t\t\t\t\tnum %= 100;\r\n\r\n\t\t\t\t\tif (num > 20) {\r\n\t\t\t\t\t\tnum %= 10;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tswitch (num) {\r\n\t\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\treturn wordsArr[0];\r\n\r\n\t\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\tcase 3: \r\n\t\t\t\t\t\tcase 4:\r\n\t\t\t\t\t\treturn wordsArr[1];\r\n\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\treturn wordsArr[2];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar minTxt = numToWord(min, ['', '', '']), \r\n\t\t\t\tsecTxt = numToWord(sec, ['', '', '']);\r\n\r\n\t\t\t\tvar minOut = (min != 0) ? min +' '+ minTxt : '',\r\n\t\t\t\tsecNum = (sec < 10) ? '0'+ sec : sec;\r\n\r\n\t\t\t\ttimerOut = ((min) ? min +' '+ minTxt +' ' : '')+''+ sec +' '+ secTxt;\r\n\t\t\t} else {\r\n\t\t\t\tvar minNum =  (min < 10) ? '0'+ min : min,\r\n\t\t\t\tsecNum = (sec < 10) ? '0'+ sec : sec;\r\n\r\n\t\t\t\ttimerOut = minNum +':'+ secNum;\r\n\t\t\t}\r\n\r\n\t\t\telem.innerHTML = timerOut;\r\n\t\t}\r\n\r\n\t\tthis.stop = function() {\r\n\t\t\tclearInterval(this.interval);\r\n\r\n\t\t\tif (this.onStop) {\r\n\t\t\t\tsetTimeout(this.onStop);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.start = function(startTime) {\r\n\t\t\tif (!elem) return;\r\n\t\t\t\r\n\t\t\tthis.time = startTime;\r\n\r\n\t\t\tvar lastTimestampValue = (function(cookie) {\r\n\t\t\t\tif (cookie) {\r\n\t\t\t\t\tvar reg = new RegExp('lastTimestampValue-'+ options.elemId +'=(\\\\d+)', 'i'),\r\n\t\t\t\t\tmatchArr = cookie.match(reg);\r\n\r\n\t\t\t\t\treturn matchArr ? matchArr[1] : null;\r\n\t\t\t\t}\r\n\t\t\t})(document.cookie);\r\n\r\n\t\t\tif (lastTimestampValue) {\r\n\t\t\t\tvar delta = Math.round((Date.now() - lastTimestampValue) / 1000);\r\n\r\n\t\t\t\tif (options.stopwatch) {\r\n\t\t\t\t\tthis.time += delta;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.time > delta) {\r\n\t\t\t\t\t\tthis.time -= delta;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetCookie();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tsetCookie();\r\n\t\t\t}\r\n\r\n\t\t\tif (this.interval !== undefined) return;\r\n\t\t\t\r\n\t\t\tthis.interval = setInterval(() => {\r\n\t\t\t\tif (options.stopwatch) {\r\n\t\t\t\t\tthis.time++;\r\n\r\n\t\t\t\t\toutput(this.time);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.time--;\r\n\r\n\t\t\t\t\toutput(this.time);\r\n\r\n\t\t\t\t\tif (this.time == 0) {\r\n\t\t\t\t\t\tthis.stop();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}, 1000);\r\n\t\t}\r\n\t}\r\n})();","; var GetContentAjax;\r\n\r\n(function() {\r\n\t'use strict';\r\n\r\n\tGetContentAjax = function(options) {\r\n\t\tif (!document.querySelector(options.eventBtn)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.output = null;\r\n\r\n\t\tvar getContent = (eventBtnElem) => {\r\n\t\t\tvar outputDivElem = document.querySelector(options.outputDiv);\r\n\r\n\t\t\tajax({\r\n\t\t\t\turl: options.sourceFile,\r\n\t\t\t\tsend: eventBtnElem.getAttribute('data-send'),\r\n\t\t\t\tsuccess: (response) => {\r\n\t\t\t\t\tif (this.output === null) {\r\n\t\t\t\t\t\toutputDivElem.innerHTML = response;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toutputDivElem.innerHTML = this.output(response);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\terror: (response) => {\r\n\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (options.event == 'click') {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar eventBtnElem = e.target.closest(options.eventBtn);\r\n\r\n\t\t\t\tif (eventBtnElem) {\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\tgetContent(eventBtnElem);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n})();\r\n\r\n\r\n/*var Ajax = {\r\n\ttake: function(url,data,id,fun) {\r\n\t\tvar _ = this;\r\n\r\n\t\t$.ajax({\r\n\t\t\turl: url,\r\n\t\t\ttype:\"POST\",\r\n\t\t\tdataType:\"html\",\r\n\t\t\tdata: data,\r\n\t\t\tsuccess: function(response){\r\n\t\t\t\tif (response) {\r\n\t\t\t\t\t_.put(response, id);\r\n\t\t\t\t\tsetTimeout(fun, 721);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\terror: function() {\r\n\t\t\t\talert('Send Error');\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tput: function(resp,id) {\r\n\t\tvar Block = $(id);\r\n\t\tif (Block.hasClass('popup__window')) {\r\n\t\t\tBlock.find('.popup__inner').html(resp);\r\n\t\t\tPopup.show(id);\r\n\t\t} else {\r\n\t\t\tBlock.append(resp);\r\n\t\t\tcoverImg();\r\n\t\t}\r\n\t}\r\n\r\n};\r\n\r\n$(document).ready(function() {\r\n\r\n\t$('body').on('click', '.js-ajax', function () {\r\n\t\tvar _$ = $(this);\r\n\r\n\t\tif (!_$.hasClass('lock')) {\r\n\t\t\t_$.addClass('lock');\r\n\r\n\t\t\tvar id = _$.attr('href') || '#'+ _$.attr('data-id'),\r\n\t\t\turl = _$.attr('data-url'),\r\n\t\t\tdata = _$.attr('data-data');\r\n\r\n\t\t\tif (_$.attr('data-page')) {\r\n\t\t\t\tvar page = +_$.attr('data-page');\r\n\r\n\t\t\t\tdata += '&page='+ page;\r\n\r\n\t\t\t\tAjax.take(url, data, id, function() {\r\n\t\t\t\t\tpage++;\r\n\t\t\t\t\t_$.attr('data-page', page).removeClass('lock');\r\n\t\t\t\t});\r\n\r\n\t\t\t} else {\r\n\t\t\t\tAjax.take(url, data, id, function() {\r\n\t\t\t\t\t_$.removeClass('lock');\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t});\r\n\r\n\tif ($('.js-ajax-scroll').length && $(window).width() > 1000) {\r\n\t\tvar i = 0;\r\n\r\n\t\t$(window).scroll(function() {\r\n\t\t\tvar winScrTop = $(window).scrollTop(),\r\n\t\t\tPoint = $('.js-ajax-scroll');\r\n\r\n\t\t\tif (Point.offset().top < window.innerHeight && !Point.hasClass('lock')) {\r\n\t\t\t\tPoint.addClass('lock');\r\n\r\n\t\t\t\tvar id = '#'+ Point.attr('data-id'),\r\n\t\t\t\turl = Point.attr('data-url'),\r\n\t\t\t\tdata = Point.attr('data-data'),\r\n\t\t\t\tpage = +Point.attr('data-page');\r\n\r\n\t\t\t\tdata += '&page='+ page;\r\n\r\n\t\t\t\tAjax.take(url, data, id, function() {\r\n\t\t\t\t\tpage++;\r\n\t\t\t\t\tPoint.attr('data-page', page).removeClass('lock');\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t}\r\n\r\n\t\r\n\r\n});*/","; var DragLine;\r\n\r\n(function() {\r\n\t'use strict';\r\n\t\r\n\tDragLine = {\r\n\t\t\r\n\t\tdragStart: function(e) {\r\n\t\t\tif (e.type == 'mousedown' && e.which !== 1) return;\r\n\t\t\t\r\n\t\t\t\r\n\t\t},\r\n\t\t\r\n\t\tinit: function(opt) {\r\n\t\t\tvar dragLineElements = document.getElementsByClassName(opt.lineClass);\r\n\t\t\t\r\n\t\t\tif (!dragLineElements.length) return;\r\n\t\t\t\r\n\t\t\tfor (let i = 0; i < dragLineElements.length; i++) {\r\n\t\t\t\tvar dlElem = dragLineElements[i],\r\n\t\t\t\titemElements = dlElem.getElementsByTagName('div');\r\n\r\n\t\t\t\tfor (let i = 0; i < itemElements.length; i++) {\r\n\t\t\t\t\titemElements[i].classList.add(opt.lineClass +'__item');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdlElem.innerHTML = '<div class=\"'+ opt.lineClass +'__dragable\"><div class=\"'+ opt.lineClass +'__line\">'+ dlElem.innerHTML +'</div></div>';\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (document.ontouchstart !== undefined) {\r\n\t\t\t\tdocument.addEventListener('touchstart', this.dragStart.bind(this));\r\n\t\t\t} else {\r\n\t\t\t\tdocument.addEventListener('mousedown', this.dragStart.bind(this));\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n})();","(function() {\r\n   'use strict';\r\n   \r\n   // animate when is visible\r\n   const animationOnVisible = {\r\n      animElements: null,\r\n      \r\n      scroll: function() {\r\n         const winBotEdge = window.pageYOffset + window.innerHeight;\r\n         \r\n         for (let i = 0; i < this.animElements.length; i++) {\r\n            const animElem = this.animElements[i],\r\n            animElemOffsetTop = animElem.getBoundingClientRect().top + window.pageYOffset,\r\n            animElemOffsetBot = animElemOffsetTop + animElem.offsetHeight;\r\n            \r\n            if (winBotEdge > animElemOffsetBot && window.pageYOffset < animElemOffsetTop) {\r\n               animElem.classList.add('animated');\r\n            } else {\r\n               animElem.classList.remove('animated');\r\n            }\r\n         }\r\n      },\r\n      \r\n      init: function() {\r\n         const animElements = document.querySelectorAll('.animate');\r\n         \r\n         if (animElements.length) {\r\n            this.animElements = animElements;\r\n            this.scroll();\r\n         }\r\n      }\r\n   };\r\n   \r\n   // document ready\r\n   document.addEventListener('DOMContentLoaded', function() {\r\n      animationOnVisible.init();\r\n      \r\n      if (animationOnVisible.animElements) {\r\n         window.addEventListener('scroll', animationOnVisible.scroll);\r\n      }\r\n   });\r\n})();","; var WEBGL;\r\n\r\n(function() {\r\n   WEBGL = {\r\n      VSTxt: null,\r\n\t\tFSTxt: null,\r\n\t\t\r\n      loadTxtRes: function(url, successFun) {\r\n         ajax({\r\n            url: url,\r\n            success: function(response) {\r\n               successFun(response);\r\n            },\r\n            error: function(response) {\r\n               \r\n            }\r\n         });\r\n\t\t},\r\n\t\t\r\n\t\tstart: function() {\r\n\t\t\t\r\n\t\t},\r\n      \r\n      init: function() {\r\n         this.loadTxtRes('/shaders/vertexShader.glsl', (response) => {\r\n\t\t\t\tthis.VSTxt = response;\r\n\t\t\t\t\r\n\t\t\t\tthis.loadTxtRes('/shaders/fragmentShader.glsl', (response) => {\r\n\t\t\t\t\tthis.FSTxt = response;\r\n\r\n\t\t\t\t\tthis.start();\r\n\t\t\t\t});\r\n\t\t\t});\r\n      }\r\n   };\r\n})();\r\n\r\n","/**\r\n * @constructor\r\n * @this {Mouseparallax}\r\n * @param {string} elSel\r\n * @param {object} [options={}]\r\n * @param {number} [options.deltaX=21]\r\n * @param {number} [options.deltaY=21]\r\n * @param {object[]} [options.rangeX=[]]\r\n * @param {number} options.rangeX[]\r\n * @param {number} options.rangeX[]\r\n * @param {object[]} [options.rangeY=[]]\r\n * @param {number} options.rangeY[0]\r\n * @param {number} options.rangeY[1]\r\n */\r\n\r\nfunction Mouseparallax(elSel, options) {\r\n\tvar _ = this,\r\n\t\tdefaultOpt = {\r\n\t\t\tlistener: document,\r\n\t\t\tdeltaX: 21,\r\n\t\t\tdeltaY: 21,\r\n\t\t\trangeX: [],\r\n\t\t\trangeY: [],\r\n\t\t},\r\n\t\toptions = options || {},\r\n\t\topt = $.extend({}, defaultOpt, options),\r\n\t\tstartMousePos = { X: 0, Y: 0 },\r\n\t\tlistenerW = $(opt.listener).innerWidth(),\r\n\t\tlistenerH = $(opt.listener).innerHeight(),\r\n\t\tcursorPos = { X: 0, Y: 0 },\r\n\t\tdirect = {},\r\n\t\telems = [];\r\n\r\n\t$(elSel).each(function () {\r\n\t\tconst $el = $(this);\r\n\r\n\t\telems.push({\r\n\t\t\t$el: $el,\r\n\t\t\ttranslateElement: { X: 0, Y: 0 },\r\n\t\t\tstartElementPos: { X: 0, Y: 0 },\r\n\t\t\tdeltaX: ($el.attr('data-delta-x') !== undefined) ? +$el.attr('data-delta-x') : opt.deltaX,\r\n\t\t\tdeltaY: ($el.attr('data-delta-y') !== undefined) ? +$el.attr('data-delta-y') : opt.deltaY,\r\n\t\t\trangeX: ($el.attr('data-range-x') !== undefined) ? $el.attr('data-range-x').split(',') : opt.rangeX,\r\n\t\t\trangeY: ($el.attr('data-range-y') !== undefined) ? $el.attr('data-range-y').split(',') : opt.rangeY\r\n\t\t});\r\n\t});\r\n\r\n\t$(document).on('mouseenter', opt.listener, function (e) {\r\n\t\tstartMousePos.X = e.clientX;\r\n\t\tstartMousePos.Y = e.clientY;\r\n\t});\r\n\r\n\t$(document).on('mousemove', opt.listener, function (e) {\r\n\r\n\t\tif (e.clientX > cursorPos.X) {\r\n\t\t\tdirect.X = 'right';\r\n\t\t} else {\r\n\t\t\tdirect.X = 'left';\r\n\t\t}\r\n\t\tcursorPos.X = e.clientX;\r\n\r\n\t\tif (e.clientY > cursorPos.Y) {\r\n\t\t\tdirect.Y = 'up';\r\n\t\t} else {\r\n\t\t\tdirect.Y = 'down';\r\n\t\t}\r\n\t\tcursorPos.Y = e.clientY;\r\n\r\n\t\tvar deltaMouse = {\r\n\t\t\tX: e.clientX - startMousePos.X,\r\n\t\t\tY: e.clientY - startMousePos.Y\r\n\t\t};\r\n\r\n\t\telems.forEach(function (el) {\r\n\t\t\tel.translateElement = {\r\n\t\t\t\tX: deltaMouse.X * (el.deltaX / listenerW) + el.startElementPos.X,\r\n\t\t\t\tY: deltaMouse.Y * (el.deltaY / listenerH) + el.startElementPos.Y\r\n\t\t\t};\r\n\r\n\t\t\tif (el.startMousePosX) {\r\n\t\t\t\tel.translateElement.X = (e.clientX - el.startMousePosX) * (el.deltaX / listenerW) + el.startElementPos.X;\r\n\t\t\t}\r\n\r\n\t\t\tif (el.startMousePosY) {\r\n\t\t\t\tel.translateElement.Y = (e.clientY - el.startMousePosY) * (el.deltaY / listenerH) + el.startElementPos.Y;\r\n\t\t\t}\r\n\r\n\t\t\tvar translateX = el.translateElement.X,\r\n\t\t\t\ttranslateY = el.translateElement.Y;\r\n\r\n\t\t\tif (el.rangeX) {\r\n\t\t\t\tif (el.translateElement.X <= el.rangeX[0] * -1) {\r\n\t\t\t\t\tif (direct.X == 'left') {\r\n\t\t\t\t\t\tel.startMousePosX = e.clientX;\r\n\t\t\t\t\t\tel.startElementPos.X = +el.rangeX[0] * -1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttranslateX = el.rangeX[0] * -1;\r\n\t\t\t\t} else if (el.translateElement.X >= el.rangeX[1]) {\r\n\t\t\t\t\tif (direct.X == 'right') {\r\n\t\t\t\t\t\tel.startMousePosX = e.clientX;\r\n\t\t\t\t\t\tel.startElementPos.X = +el.rangeX[1];\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttranslateX = el.rangeX[1];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (el.rangeY) {\r\n\t\t\t\tif (el.translateElement.Y >= el.rangeY[1]) {\r\n\t\t\t\t\tif (direct.Y == 'down') {\r\n\t\t\t\t\t\tel.startMousePosY = e.clientY;\r\n\t\t\t\t\t\tel.startElementPos.Y = +el.rangeY[1];\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttranslateY = el.rangeY[1];\r\n\t\t\t\t} else if (el.translateElement.Y <= +el.rangeY[0] * -1) {\r\n\t\t\t\t\tif (direct.Y == 'up') {\r\n\t\t\t\t\t\tel.startMousePosY = e.clientY;\r\n\t\t\t\t\t\tel.startElementPos.Y = +el.rangeY[0] * -1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttranslateY = +el.rangeY[0] * -1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tel.$el.css('transform', 'translate(' + translateX + 'px, ' + translateY + 'px)');\r\n\t\t});\r\n\r\n\t});\r\n\r\n\t$(document).on('mouseleave', opt.listener, function (e) {\r\n\t\telems.forEach(function (el) {\r\n\t\t\tel.startElementPos.X = el.translateElement.X;\r\n\t\t\tel.startElementPos.Y = el.translateElement.Y;\r\n\t\t\tel.startMousePosX = null;\r\n\t\t\tel.startMousePosY = null;\r\n\t\t});\r\n\t});\r\n}","// Zoom.init('.js-zoom-container');\r\n\r\nvar Zoom;\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    Zoom = {\r\n        contSel: '',\r\n        contEl: null,\r\n        contPos: { X: 0, Y: 0, X2: 0, Y2: 0 },\r\n        zoomEl: null,\r\n        zoomInnerEl: null,\r\n        mOver: null,\r\n        mMove: null,\r\n\r\n        build: function() {\r\n            this.zoomInnerEl = document.createElement('div');\r\n\r\n            this.zoomInnerEl.className = 'zoom__inner';\r\n\r\n            this.zoomInnerEl.style.width = this.contEl.offsetWidth + 'px';\r\n            this.zoomInnerEl.style.height = this.contEl.offsetHeight + 'px';\r\n\r\n            this.zoomInnerEl.innerHTML = this.contEl.innerHTML;\r\n\r\n            this.zoomEl.appendChild(this.zoomInnerEl);\r\n\r\n            this.zoomEl.style.display = 'block';\r\n        },\r\n\r\n        start: function (e) {\r\n            this.contEl = e.target.closest(this.contSel);\r\n\r\n            if (!this.contEl) return;\r\n\r\n            document.removeEventListener('mouseover', this.mOver);\r\n\r\n            this.contPos.X = this.contEl.getBoundingClientRect().left + window.pageXOffset;\r\n            this.contPos.Y = this.contEl.getBoundingClientRect().top + window.pageYOffset;\r\n            this.contPos.X2 = this.contEl.getBoundingClientRect().right + window.pageXOffset;\r\n            this.contPos.Y2 = this.contEl.getBoundingClientRect().bottom + window.pageYOffset;\r\n\r\n            this.build();\r\n            \r\n            this.mMove = this.move.bind(this);\r\n\r\n            document.addEventListener('mousemove', this.mMove);\r\n        },\r\n\r\n        move: function (e) {\r\n            this.zoomEl.style.left = (e.pageX - 131) + 'px';\r\n            this.zoomEl.style.top = (e.pageY - 131) + 'px';\r\n\r\n            const sX = (e.pageX - this.contPos.X) * 2 - 131,\r\n            sY = (e.pageY - this.contPos.Y) * 2 - 131;\r\n\r\n            this.zoomInnerEl.style.left = -sX + 'px';\r\n            this.zoomInnerEl.style.top = -sY + 'px';\r\n\r\n            if (\r\n                e.pageX < this.contPos.X || e.pageY < this.contPos.Y ||\r\n                e.pageX > this.contPos.X2 || e.pageY > this.contPos.Y2\r\n            ) {\r\n                this.end();\r\n            }\r\n        },\r\n\r\n        end: function () {\r\n            this.zoomEl.style.display = 'none';\r\n            this.zoomEl.innerHTML = '';\r\n\r\n            document.removeEventListener('mousemove', this.mMove);\r\n            document.addEventListener('mouseover', this.mOver);\r\n        },\r\n\r\n        init: function (contSel) {\r\n            this.contSel = contSel;\r\n            this.mOver = this.start.bind(this);\r\n\r\n            document.addEventListener('mouseover', this.mOver);\r\n\r\n            this.zoomEl = document.createElement('div');\r\n            this.zoomEl.className = 'zoom';\r\n            document.body.appendChild(this.zoomEl);\r\n        }\r\n    };\r\n})();\r\n"]}