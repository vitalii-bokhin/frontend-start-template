{"version":3,"sources":["global.js","animate.js","ajax.js","header.js","menu.js","fsscroll.js","toggle.js","flex-image.js","cover-image.js","video.js","popup.js","form.js","customform.js","validateform.js","accord.js","more.js","tab.js","anchor.js","diagram.js","numberspin.js","share.js","timer.js"],"names":["browser","document","documentElement","setAttribute","navigator","userAgent","test","CustomEvent","window","event","params","bubbles","cancelable","evt","createEvent","initCustomEvent","detail","prototype","Object","create","Event","winResizedEvent","rsz","addEventListener","setTimeout","Element","closest","ElProto","matches","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","selector","this","parentElement","elementIsHidden","elem","compStyles","getComputedStyle","display","visibility","opacity","animate","easing","timeFraction","ease","quad","Math","pow","draw","duration","complete","start","performance","now","requestAnimationFrame","anim","time","progress","undefined","ajax","options","xhr","XMLHttpRequest","open","url","send","setRequestHeader","onreadystatechange","readyState","status","success","response","MobNav","headerElem","querySelector","pageYOffset","add","classList","body","contains","fixBody","st","winScrollTop","remove","scrollTo","getElementById","navId","navElem","close","openBtnElements","querySelectorAll","openBtn","i","length","init","_this","e","closeElem","target","closeBtn","openElem","preventDefault","Menu","toggle","elementStr","subMenuElem","subMenuStr","style","height","mainElem","itemElements","subMenuElements","scrollHeight","FsScroll","contElem","scrolling","delta","current","midWinScrollTop","innerHeight","screenElements","screenOffsetTop","getBoundingClientRect","top","offsetHeight","scroll","mouseScroll","currentScreenElem","winScrollBottom","nextScreenElem","nextElementSibling","currentScreenOffsetTop","nextScreenOffsetTop","previousElementSibling","_this2","container","screen","deltaY","Toggle","toggledClass","role","targetElements","getAttribute","off","hasAttribute","innerHTML","on","FlexImg","elementsStr","elements","split","forEach","image","imageProp","innerWidth","src","CoverImg","cover","img","currentTarget","imgWrap","imgProportion","offsetWidth","imgWrapProportion","Infinity","margin","round","marginTop","marginLeft","reInit","parentElementStr","Date","getTime","Video","play","iFrame","createElement","allow","allowFullscreen","appendChild","Popup","MediaPopup","callback","elemParent","message","msg","onClose","element","args","elemPopup","popupStr","elemImg","video","next","group","index","slice","call","indexOf","href","type","caption","Form","NextFieldset","nextFieldset","currentFieldset","ValidateForm","validate","form","elemStr","formSelector","clear","value","CustomPlaceholder","textareaMirrors","actSubmitBtn","onSubmit","obj","unlockSubmitButton","CustomSelect","BindLabels","label","forID","htmlFor","ChangeCheckbox","change","checked","ChangeRadio","checkedElem","name","j","_this3","elemFor","id","placeholder","className","removeAttribute","insertBefore","hidePlaceholder","hide","lSt","textIndent","paddingRight","paddingLeft","field","fields","toButtonValue","listItems","toInputValue","checkedElements","scrollTop","selectMultipleVal","button","input","inputsBlock","yetInput","join","targetAction","selectVal","varHeightTextarea","setHeight","lalueElements","autocomplete","match","valueElem","select","reg","RegExp","valueElements","fieldStr","hoverItem","setOptions","optObj","val","li","keyboard","nextItem","key","item","firstElementChild","fillAcHead","lastElementChild","checkedValues","head","inpDiv","multiple","optionsList","parent","removeChild","build","require","class","hiddenInp","opt","customElem","firstChild","children","_this4","keyCode","imgPreviewBlock","file","reader","which","self","fileItems","files","fileItem","CustomFile","FileReader","onload","changeInput","result","coverImg","readAsDataURL","console","log","_this5","mirror","mirrorOutput","replace","_this6","errorTip","err","errInd","errTip","customErrorTip","$inp","errorTxt","_","$input","date","validDate","_reg","exec","cDate","getMonth","getDate","getFullYear","valueOf","email","tel","pass","minLng","validateOnInputOrBlur","errCount","maxSize","size","inpType","groups","checkedElement","submit","bind","Accord","contentElem","allButtonElem","allContentElem","More","btnTxt","Tab","btnElem","btnElements","tabItemElements","tabItemElem","contElements","tabItemElemActive","Anchor","shift","Diagram","charts","drawChart","chart","numContId","numElem","toFixed","canvasElement","canvasId","map","ctx","clearRect","center","x","y","chartValues","width","getContext","canvasWidth","prevChartsWidth","PI","maxValue","startAngle","radius","offset","endAngle","lineWidth","stroke","outputNum","Numberspin","values","Share","encodedHref","encodeURIComponent","location","network","net","popup","Timer","setTime","onStop","cookie","elemId","toUTCString","output","min","floor","sec","minOut","secTxt","secNum","interval","timerCookieValue","cokArr","keyVal","setCookies","stop","clearInterval","setInterval"],"mappings":"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","file":"script.min.js","sourcesContent":["//global variables\r\nvar browser;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\t//get useragent\r\n\tdocument.documentElement.setAttribute('data-useragent', navigator.userAgent);\r\n\r\n\t//browser identify\r\n\tbrowser = (function(userAgent) {\r\n\t\tuserAgent = userAgent.toLowerCase();\r\n\r\n\t\tif (/(msie|rv:11\\.0)/.test(userAgent)) {\r\n\t\t\treturn 'ie';\r\n\t\t}\r\n\t}(navigator.userAgent));\r\n\r\n\t//add support CustomEvent constructor for IE\r\n\ttry {\r\n\t\tnew CustomEvent(\"IE has CustomEvent, but doesn't support constructor\");\r\n\t} catch (e) {\r\n\t\twindow.CustomEvent = function(event, params) {\r\n\t\t\tvar evt;\r\n\r\n\t\t\tparams = params || {\r\n\t\t\t\tbubbles: false,\r\n\t\t\t\tcancelable: false,\r\n\t\t\t\tdetail: undefined\r\n\t\t\t};\r\n\r\n\t\t\tevt = document.createEvent(\"CustomEvent\");\r\n\r\n\t\t\tevt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\r\n\r\n\t\t\treturn evt;\r\n\t\t}\r\n\r\n\t\tCustomEvent.prototype = Object.create(window.Event.prototype);\r\n\t}\r\n\r\n\t//window Resized Event\r\n\tvar winResizedEvent = new CustomEvent('winResized'),\r\n\trsz = true;\r\n\r\n\twindow.addEventListener('resize', function() {\r\n\t\tif (rsz) {\r\n\t\t\trsz = false;\r\n\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\twindow.dispatchEvent(winResizedEvent);\r\n\t\t\t\trsz = true;\r\n\t\t\t}, 1021);\r\n\t\t}\r\n\t});\r\n\r\n\t//closest polyfill\r\n\tif (!Element.prototype.closest) {\r\n\t\t(function(ElProto) {\r\n\t\t\tElProto.matches = ElProto.matches || ElProto.mozMatchesSelector || ElProto.msMatchesSelector || ElProto.oMatchesSelector || ElProto.webkitMatchesSelector;\r\n\r\n\t\t\tElProto.closest = ElProto.closest || function closest(selector) {\r\n\t\t\t\tif (!this) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.matches(selector)) {\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!this.parentElement) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn this.parentElement.closest(selector);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}(Element.prototype));\r\n\t}\r\n\r\n\t//check element for hidden\r\n\tElement.prototype.elementIsHidden = function() {\r\n\t\tvar elem = this;\r\n\r\n\t\twhile (elem) {\r\n\t\t\tif (!elem) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tvar compStyles = getComputedStyle(elem);\r\n\r\n\t\t\tif (compStyles.display == 'none' || compStyles.visibility == 'hidden' || compStyles.opacity == '0') {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\telem = elem.parentElement;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n}());","/*\r\nanimate(function(takes 0...1) {}, Int duration in ms[, Str easing[, Fun animation complete]]);\r\n*/\r\n; var animate;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tanimate = function(draw, duration, ease, complete) {\r\n\t\tvar start = performance.now();\r\n\r\n\t\trequestAnimationFrame(function anim(time) {\r\n\t\t\tvar timeFraction = (time - start) / duration;\r\n\r\n\t\t\tif (timeFraction > 1) {\r\n\t\t\t\ttimeFraction = 1;\r\n\t\t\t}\r\n\r\n\t\t\tvar progress = (ease) ? easing(timeFraction, ease) : timeFraction;\r\n\r\n\t\t\tdraw(progress);\r\n\r\n\t\t\tif (timeFraction < 1) {\r\n\t\t\t\trequestAnimationFrame(anim);\r\n\t\t\t} else {\r\n\t\t\t\tif (complete != undefined) {\r\n\t\t\t\t\tcomplete();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction easing(timeFraction, ease) {\r\n\t\tif (ease == 'easeInOutQuad') {\r\n\t\t\tif (timeFraction <= 0.5) {\r\n\t\t\t\treturn quad(2 * timeFraction) / 2;\r\n\t\t\t} else {\r\n\t\t\t\treturn (2 - quad(2 * (1 - timeFraction))) / 2;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction quad(timeFraction) {\r\n\t\treturn Math.pow(timeFraction, 2)\r\n\t}\r\n}());","; var ajax;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tajax = function(options) {\r\n\t\tvar xhr = new XMLHttpRequest();\r\n\r\n\t\txhr.open('POST', options.url);\r\n\r\n\t\tif (typeof options.send == 'string') {\r\n\t\t\txhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\r\n\t\t}\r\n\t\t\r\n\t\txhr.onreadystatechange = function() {\r\n\t\t\tif (xhr.readyState == 4 && xhr.status == 200) {\r\n\t\t\t\toptions.success(xhr.response);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\txhr.send(options.send);\r\n\t}\r\n}());","; var MobNav;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\t//fix header\r\n\tvar headerElem = document.querySelector('.header');\r\n\r\n\twindow.addEventListener('scroll', function() {\r\n\t\tif (window.pageYOffset > 21) {\r\n\t\t\theaderElem.classList.add('header_fixed');\r\n\t\t} else if (!document.body.classList.contains('popup-is-opened') && !document.body.classList.contains('mob-nav-is-opened')) {\r\n\t\t\theaderElem.classList.remove('header_fixed');\r\n\t\t}\r\n\t});\r\n\r\n\t//mob menu\r\n\tMobNav = {\r\n\t\toptions: null,\r\n\t\twinScrollTop: 0,\r\n\r\n\t\tfixBody: function(st) {\r\n\t\t\tif (st) {\r\n\t\t\t\tthis.winScrollTop = window.pageYOffset;\r\n\r\n\t\t\t\tdocument.body.classList.add('mob-nav-is-opened');\r\n\t\t\t\tdocument.body.style.top = -this.winScrollTop +'px';\r\n\t\t\t} else {\r\n\t\t\t\tdocument.body.classList.remove('mob-nav-is-opened');\r\n\r\n\t\t\t\twindow.scrollTo(0, this.winScrollTop);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\topen: function(elem) {\r\n\t\t\tvar navElem = document.getElementById(this.options.navId);\r\n\r\n\t\t\tif (!navElem) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (elem.classList.contains('opened')) {\r\n\t\t\t\telem.classList.remove('opened');\r\n\t\t\t\tnavElem.classList.remove('opened');\r\n\t\t\t} else {\r\n\t\t\t\telem.classList.add('opened');\r\n\t\t\t\tnavElem.classList.add('opened');\r\n\t\t\t}\r\n\r\n\t\t\tthis.fixBody(true);\r\n\t\t},\r\n\r\n\t\tclose: function() {\r\n\t\t\tvar navElem = document.getElementById(this.options.navId);\r\n\r\n\t\t\tif (!navElem) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tnavElem.classList.remove('opened');\r\n\r\n\t\t\tvar openBtnElements = document.querySelectorAll(this.options.openBtn);\r\n\r\n\t\t\tfor (var i = 0; i < openBtnElements.length; i++) {\r\n\t\t\t\topenBtnElements[i].classList.remove('opened');\r\n\t\t\t}\r\n\r\n\t\t\tthis.fixBody(false);\r\n\t\t},\r\n\r\n\t\tinit: function(options) {\r\n\t\t\tthis.options = options;\r\n\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar openElem = e.target.closest(options.openBtn),\r\n\t\t\t\tcloseElem = e.target.closest(options.closeBtn);\r\n\r\n\t\t\t\tif (openElem) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tthis.open(openElem);\r\n\t\t\t\t} else if (closeElem) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n}());","/*\r\n* call Menu.init(Str menu item selector, Str sub menu selector);\r\n*/\r\nvar Menu;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tMenu = {\r\n\t\ttoggle: function(elem, elementStr, subMenuStr) {\r\n\t\t\tvar subMenuElem = elem.querySelector(subMenuStr);\r\n\r\n\t\t\tif (!subMenuElem) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (elem.classList.contains('active')) {\r\n\t\t\t\tsubMenuElem.style.height = 0;\r\n\r\n\t\t\t\telem.classList.remove('active');\r\n\t\t\t} else {\r\n\t\t\t\tvar mainElem = elem.closest('.menu'),\r\n\t\t\t\titemElements = mainElem.querySelectorAll(elementStr),\r\n\t\t\t\tsubMenuElements = mainElem.querySelectorAll(subMenuStr);\r\n\r\n\t\t\t\tfor (var i = 0; i < itemElements.length; i++) {\r\n\t\t\t\t\titemElements[i].classList.remove('accord__button_active');\r\n\t\t\t\t\tsubMenuElements[i].style.height = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsubMenuElem.style.height = subMenuElem.scrollHeight +'px';\r\n\r\n\t\t\t\telem.classList.add('active');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr, subMenuStr) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementStr);\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.toggle(elem, elementStr, subMenuStr);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n}());","/*\r\nFsScroll.init({\r\n\tcontainer: Str selector,\r\n\tscreen: Str selector,\r\n\tduration: Int milliseconds\r\n});\r\n*/\r\n\r\nvar FsScroll;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tFsScroll = {\r\n\t\toptions: null,\r\n\t\tcontElem: null,\r\n\t\tscrolling: false,\r\n\t\tdelta: 0,\r\n\r\n\t\tcurrent: function() {\r\n\t\t\tvar midWinScrollTop = window.pageYOffset + window.innerHeight / 2,\r\n\t\t\tscreenElements = this.contElem.querySelectorAll(this.options.screen);\r\n\r\n\t\t\tfor (var i = 0; i < screenElements.length; i++) {\r\n\t\t\t\tscreenElements[i].classList.remove('fsscroll__screen_current');\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < screenElements.length; i++) {\r\n\t\t\t\tvar screenOffsetTop = screenElements[i].getBoundingClientRect().top + window.pageYOffset;\r\n\r\n\t\t\t\tif (screenOffsetTop <= midWinScrollTop && (screenOffsetTop + screenElements[i].offsetHeight) >= midWinScrollTop) {\r\n\r\n\t\t\t\t\tscreenElements[i].classList.add('fsscroll__screen_current');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tscroll: function(scrollTo, scroll) {\r\n\t\t\tthis.scrolling = true;\r\n\t\t\t\r\n\t\t\tvar duration = this.options.duration || 1000,\r\n\t\t\teasing = 'easeInOutQuad';\r\n\r\n\t\t\tif (scroll) {\r\n\t\t\t\tduration = 500;\r\n\t\t\t\teasing = 'easeInOutQuad';\r\n\t\t\t}\r\n\r\n\t\t\tanimate(function(progress) {\r\n\t\t\t\twindow.scrollTo(0, ((scrollTo * progress) + ((1 - progress) * window.pageYOffset)));\r\n\t\t\t}, duration, easing, () => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.current();\r\n\r\n\t\t\t\t\tthis.scrolling = false;\r\n\t\t\t\t\tthis.delta = 0;\r\n\t\t\t\t}, 321);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tmouseScroll: function(delta) {\r\n\t\t\tvar currentScreenElem = this.contElem.querySelector('.fsscroll__screen_current'),\r\n\t\t\twinScrollBottom = window.pageYOffset + window.innerHeight;\r\n\r\n\t\t\tif (delta > 0) {\r\n\t\t\t\tvar nextScreenElem = (currentScreenElem) ? currentScreenElem.nextElementSibling : null;\r\n\r\n\t\t\t\tif (currentScreenElem && ((currentScreenElem.offsetHeight - 21) < window.innerHeight) && !currentScreenElem.classList.contains('fsscroll__screen_last')) {\r\n\t\t\t\t\tif (!this.scrolling) {\r\n\t\t\t\t\t\tvar currentScreenOffsetTop = currentScreenElem.getBoundingClientRect().top + window.pageYOffset;\r\n\r\n\t\t\t\t\t\tif ((window.pageYOffset + 21) < currentScreenOffsetTop) {\r\n\t\t\t\t\t\t\tthis.scroll(currentScreenOffsetTop);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.scroll(nextScreenElem.getBoundingClientRect().top + window.pageYOffset);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar nextScreenOffsetTop = (nextScreenElem) ? nextScreenElem.getBoundingClientRect().top + window.pageYOffset : undefined;\r\n\r\n\t\t\t\t\tif (nextScreenElem && (winScrollBottom > nextScreenOffsetTop)) {\r\n\t\t\t\t\t\tif (!this.scrolling) {\r\n\t\t\t\t\t\t\tthis.scroll(nextScreenOffsetTop);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.delta += delta / 3;\r\n\r\n\t\t\t\t\t\tthis.scroll(window.pageYOffset + this.delta, true);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (delta < 0) {\r\n\t\t\t\tvar nextScreenElem = (currentScreenElem) ? currentScreenElem.previousElementSibling : null;\r\n\r\n\t\t\t\tif (nextScreenElem && ((currentScreenElem.offsetHeight - 21) < window.innerHeight) && !currentScreenElem.classList.contains('fsscroll__screen_first')) {\r\n\t\t\t\t\tif (!this.scrolling) {\r\n\t\t\t\t\t\tvar currentScreenOffsetTop = currentScreenElem.getBoundingClientRect().top + window.pageYOffset;\r\n\r\n\t\t\t\t\t\tif ((winScrollBottom - 21) > (currentScreenOffsetTop + currentScreenElem.offsetHeight)) {\r\n\t\t\t\t\t\t\tthis.scroll(currentScreenOffsetTop + currentScreenElem.offsetHeight - window.innerHeight);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.scroll(nextScreenElem.getBoundingClientRect().top + window.pageYOffset + nextScreenElem.offsetHeight - window.innerHeight);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar nextScreenOffsetTop = (nextScreenElem) ? nextScreenElem.getBoundingClientRect().top + window.pageYOffset : undefined;\r\n\r\n\t\t\t\t\tif (nextScreenElem && ((nextScreenOffsetTop + nextScreenElem.offsetHeight) > window.pageYOffset)) {\r\n\t\t\t\t\t\tif (!this.scrolling) {\r\n\t\t\t\t\t\t\tthis.scroll(nextScreenOffsetTop);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.delta += delta / 3;\r\n\t\t\t\t\t\tthis.scroll(window.pageYOffset + this.delta, true);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function(options) {\r\n\t\t\tvar contElem = document.querySelector(options.container);\r\n\r\n\t\t\tif (!contElem) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.options = options;\r\n\t\t\tthis.contElem = contElem;\r\n\r\n\t\t\tvar screenElements = contElem.querySelectorAll(options.screen);\r\n\r\n\t\t\tscreenElements[0].classList.add('fsscroll__screen_first');\r\n\t\t\tscreenElements[0].classList.add('fsscroll__screen_current');\r\n\t\t\tscreenElements[screenElements.length - 1].classList.add('fsscroll__screen_last');\r\n\r\n\t\t\tif ('onwheel' in document) {\r\n\t\t\t\tdocument.addEventListener('wheel', (e) => {\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\tthis.mouseScroll(e.deltaY);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\twindow.addEventListener('scroll', () => {\r\n\t\t\t\tif (!this.scrolling) {\r\n\t\t\t\t\tthis.current();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n}());","/*\r\nToggle.init(Str button selector[, Str toggle class, default: 'toggled']);\r\n\r\nToggle.role = function() {\r\n\treturn {\r\n\t\t[data-role]: {\r\n\t\t\ton: function() {\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\toff: function() {\r\n\t\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t};\r\n}\r\n*/\r\n; var Toggle;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tToggle = {\r\n\t\ttoggledClass: 'toggled',\r\n\t\trole: null,\r\n\r\n\t\ttoggle: function(elem) {\r\n\t\t\tvar targetElements = document.querySelectorAll(elem.getAttribute('data-target-elements')),\r\n\t\t\trole = elem.getAttribute('data-role');\r\n\r\n\t\t\tif (!targetElements.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (elem.classList.contains(this.toggledClass)) {\r\n\t\t\t\tfor (var i = 0; i < targetElements.length; i++) {\r\n\t\t\t\t\ttargetElements[i].classList.remove(this.toggledClass);\r\n\t\t\t\t}\r\n\r\n\t\t\t\telem.classList.remove(this.toggledClass);\r\n\r\n\t\t\t\tif (role && this.role) {\r\n\t\t\t\t\tthis.role()[role].off();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (elem.hasAttribute('data-first-text')) {\r\n\t\t\t\t\telem.innerHTML = elem.getAttribute('data-first-text');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor (var i = 0; i < targetElements.length; i++) {\r\n\t\t\t\t\ttargetElements[i].classList.add(this.toggledClass);\r\n\t\t\t\t}\r\n\r\n\t\t\t\telem.classList.add(this.toggledClass);\r\n\r\n\t\t\t\tif (role && this.role) {\r\n\t\t\t\t\tthis.role()[role].on();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (elem.hasAttribute('data-secont-text')) {\r\n\t\t\t\t\telem.setAttribute('data-first-text', elem.innerHTML);\r\n\r\n\t\t\t\t\telem.innerHTML = elem.getAttribute('data-secont-text');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr, toggledClass) {\r\n\t\t\tif (toggledClass) {\r\n\t\t\t\tthis.toggledClass = toggledClass;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementStr);\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tthis.toggle(elem);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n}());","var FlexImg;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tFlexImg = function(elementsStr) {\r\n\r\n\t\tfunction load(elem) {\r\n\r\n\t\t\tif (!elem.hasAttribute('data-images')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar images = elem.getAttribute('data-images').split(',');\r\n\r\n\t\t\timages.forEach(function(image) {\r\n\r\n\t\t\t\tvar imageProp = image.split('->');\r\n\r\n\t\t\t\tif (window.innerWidth < (+imageProp[0])) {\r\n\t\t\t\t\telem.src = imageProp[1];\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t\t//init\r\n\t\tvar elements = document.querySelectorAll(elementsStr);\r\n\r\n\t\tif (elements.length) {\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tload(elements[i]);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n}());","var CoverImg;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tCoverImg = {\r\n\t\tcover: function(e) {\r\n\t\t\tvar img = e.currentTarget,\r\n\t\t\timgWrap = img.closest('.cover-img-wrap'),\r\n\t\t\timgProportion = img.offsetWidth/img.offsetHeight,\r\n\t\t\timgWrapProportion = imgWrap.offsetWidth/imgWrap.offsetHeight;\r\n\r\n\t\t\tif (imgWrapProportion != Infinity && imgWrapProportion < 21) {\r\n\r\n\t\t\t\tif (imgProportion <= imgWrapProportion) {\r\n\t\t\t\t\tvar margin = Math.round(-(imgWrap.offsetWidth / imgProportion - imgWrap.offsetHeight) / 2);\r\n\r\n\t\t\t\t\timg.classList.add('cover-img_w');\r\n\t\t\t\t\timg.style.marginTop = margin +'px';\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar margin = Math.round(-(imgWrap.offsetHeight * imgProportion - imgWrap.offsetWidth) / 2);\r\n\r\n\t\t\t\t\timg.classList.add('cover-img_h');\r\n\t\t\t\t\timg.style.marginLeft = margin +'px';\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\timg.classList.add('cover-img_w');\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\treInit: function(parentElementStr) {\r\n\r\n\t\t\tvar elements;\r\n\r\n\t\t\tif (parentElementStr) {\r\n\t\t\t\tif (typeof parentElementStr == 'string') {\r\n\t\t\t\t\telements = document.querySelectorAll(parentElementStr +' .cover-img');\r\n\t\t\t\t} else {\r\n\t\t\t\t\telements = parentElementStr.querySelectorAll('.cover-img');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\telements = document.querySelectorAll('.cover-img');\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar img = elements[i];\r\n\r\n\t\t\t\timg.classList.remove('cover-img_w');\r\n\t\t\t\timg.classList.remove('cover-img_h');\r\n\t\t\t\timg.style.marginTop = '';\r\n\t\t\t\timg.style.marginLeft = '';\r\n\t\t\t\timg.src = (browser == 'ie') ? (img.src +'?'+ new Date().getTime()) : img.src;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tinit: function(parentElementStr) {\r\n\t\t\tvar elements = (parentElementStr) ? document.querySelectorAll(parentElementStr +' .cover-img, '+ parentElementStr +' .cover-img-wrap') : document.querySelectorAll('.cover-img, .cover-img-wrap');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i],\r\n\t\t\t\timg;\r\n\r\n\t\t\t\tif (elem.classList.contains('cover-img-wrap')) {\r\n\r\n\t\t\t\t\timg = elem.querySelector('img');\r\n\r\n\t\t\t\t\timg.classList.add('cover-img');\r\n\r\n\t\t\t\t} else if (elem.classList.contains('cover-img')) {\r\n\r\n\t\t\t\t\timg = elem;\r\n\r\n\t\t\t\t\timg.parentElement.classList.add('cover-img-wrap');\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!img.hasAttribute('data-event')) {\r\n\r\n\t\t\t\t\timg.addEventListener('load', this.cover);\r\n\r\n\t\t\t\t\timg.setAttribute('data-event', 'true');\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (browser == 'ie') {\r\n\t\t\t\t\timg.src = img.src +'?'+ new Date().getTime();\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n}());","/*\r\ncall to init:\r\nVideo.init(Str button selector);\r\n*/\r\nvar Video;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tVideo = {\r\n\t\tplay: function(elem) {\r\n\t\t\telem.nextElementSibling.classList.add('video__frame_visible');\r\n\r\n\t\t\tvar iFrame = document.createElement('iframe');\r\n\r\n\t\t\tiFrame.src = elem.getAttribute('data-src') +'?autoplay=1&rel=0&amp;showinfo=0';\r\n\t\t\tiFrame.allow = 'autoplay; encrypted-media';\r\n\t\t\tiFrame.allowFullscreen = true;\r\n\r\n\t\t\tiFrame.addEventListener('load', function() {\r\n\t\t\t\tiFrame.classList.add('visible');\r\n\t\t\t});\r\n\r\n\t\t\telem.nextElementSibling.appendChild(iFrame);\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementStr);\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tthis.play(elem);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n}());","var Popup, MediaPopup;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\t//popup core\r\n\tPopup = {\r\n\r\n\t\twinScrollTop: 0,\r\n\t\tonClose: null,\r\n\r\n\t\tfixBody: function(st) {\r\n\t\t\tif (st) {\r\n\t\t\t\tthis.winScrollTop = window.pageYOffset;\r\n\r\n\t\t\t\tdocument.body.classList.add('popup-is-opened');\r\n\t\t\t\tdocument.body.style.top = -this.winScrollTop +'px';\r\n\t\t\t} else {\r\n\t\t\t\tdocument.body.classList.remove('popup-is-opened');\r\n\r\n\t\t\t\twindow.scrollTo(0, this.winScrollTop);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\topen: function(elementStr, callback) {\r\n\t\t\tvar elem = document.querySelector(elementStr);\r\n\r\n\t\t\tif (!elem || !elem.classList.contains('popup__window')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar elemParent = elem.parentElement;\r\n\r\n\t\t\tthis.fixBody(true);\r\n\t\t\t\r\n\t\t\telemParent.classList.add('popup_visible');\r\n\r\n\t\t\telem.classList.add('popup__window_visible');\r\n\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tCoverImg.reInit(elem);\r\n\t\t\t}, 721);\r\n\r\n\t\t\tif (callback) {\r\n\t\t\t\tthis.onClose = callback;\r\n\t\t\t}\r\n\r\n\t\t\treturn elem;\r\n\t\t},\r\n\r\n\t\tmessage: function(elementStr, msg, callback) {\r\n\t\t\tvar elem = this.open(elementStr, callback);\r\n\r\n\t\t\telem.querySelector('.popup__inner').innerHTML = '<div class=\"popup__message\">'+ msg +'</div>';\r\n\t\t},\r\n\r\n\t\tclose: function() {\r\n\t\t\tvar elements = document.querySelectorAll('.popup__window');\r\n\r\n\t\t\tif (!elements.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (!elem.classList.contains('popup__window_visible')) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\telem.classList.remove('popup__window_visible');\r\n\t\t\t\telem.parentElement.classList.remove('popup_visible');\r\n\t\t\t}\r\n\r\n\t\t\tthis.fixBody(false);\r\n\r\n\t\t\tif (this.onClose) {\r\n\t\t\t\tthis.onClose();\r\n\t\t\t\tthis.onClose = null;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar element = e.target.closest(elementStr),\r\n\t\t\t\tcloseElem = e.target.closest('.js-popup-close');\r\n\r\n\t\t\t\tif (element) {\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\tthis.close();\r\n\r\n\t\t\t\t\tthis.open(element.getAttribute('data-popup'));\r\n\t\t\t\t} else if (closeElem || (!e.target.closest('.popup__window') && e.target.closest('.popup'))) {\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t//popup media\r\n\tMediaPopup = {\r\n\t\timage: function(args) {\r\n\t\t\tvar elemPopup = Popup.open(args.popupStr),\r\n\t\t\telemImg = elemPopup.querySelector('.popup-media__image');\r\n\r\n\t\t\tPopup.onClose = function() {\r\n\t\t\t\telemImg.src = '#';\r\n\t\t\t\telemImg.classList.remove('popup-media__image_visible'); \r\n\t\t\t}\r\n\r\n\t\t\telemImg.src = args.href;\r\n\t\t\telemImg.classList.add('popup-media__image_visible');\r\n\t\t\t\r\n\t\t},\r\n\r\n\t\tvideo: function(args) {\r\n\r\n\t\t},\r\n\r\n\t\tnext: function(elem) {\r\n\t\t\tif (!elem.hasAttribute('data-group')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar group = elem.getAttribute('data-group'),\r\n\t\t\tindex = [].slice.call(document.querySelectorAll('[data-group=\"'+ group +'\"]')).indexOf(elem);\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar element = e.target.closest(elementStr);\r\n\r\n\t\t\t\tif (!element) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tvar type = element.getAttribute('data-type'),\r\n\t\t\t\targs = {\r\n\t\t\t\t\thref: element.href,\r\n\t\t\t\t\tcaption: element.getAttribute('data-caption'),\r\n\t\t\t\t\tgroup: element.getAttribute('data-group'),\r\n\t\t\t\t\tpopupStr: element.getAttribute('data-popup')\r\n\t\t\t\t};\r\n\r\n\t\t\t\tif (type == 'image') {\r\n\t\t\t\t\tthis.image(args);\r\n\t\t\t\t} else if (type == 'video') {\r\n\t\t\t\t\tthis.video(args);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.next(element);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n}());\r\n\r\n\r\n\r\n/*var pPopup = {\r\n\tcloseCallback: function() {},\r\n\tplay: null,\r\n\tind: 0,\r\n\tgroup: null,\r\n\tposition: 0,\r\n\r\n\tshow: function(id, fun) {\r\n\t\tvar _ = this,\r\n\t\t$popWin = $(id),\r\n\t\t$popup = $popWin.closest('.popup');\r\n\t\t\r\n\t\tif ($popWin.length && $popWin.hasClass('popup__window')) {\r\n\r\n\t\t\t_.position = $(window).scrollTop();\r\n\t\t\t$popup.fadeIn(321).scrollTop(0);\r\n\t\t\t$('.popup__window').removeClass('popup__window_visible');\r\n\t\t\t$popWin.addClass('popup__window_visible');\r\n\t\t\t$('body').css('top', -_.position).addClass('is-popup-opened');\r\n\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tCoverImg.reInit('#media-popup');\r\n\t\t\t}, 721);\r\n\r\n\t\t}\r\n\r\n\t\t_.closeCallback = fun || function() {};\r\n\t},\r\n\r\n\thide: function() {\r\n\t\tvar _ = this;\r\n\t\t$('.popup__window').removeClass('popup__window_visible');\r\n\t\t$('.popup').fadeOut(321);\r\n\t\t$('.popup__message').remove();\r\n\t\t$('body').removeClass('is-popup-opened').removeAttr('style');\r\n\t\t$('html, body').scrollTop(_.position);\r\n\t\t_.closeCallback();\r\n\t},\r\n\r\n\tmessage: function(id,msg,fun) {\r\n\t\tvar _ = this;\r\n\t\t$(id).find('.popup__inner').prepend('<div class=\"popup__message\">'+ msg +'</div>');\r\n\t\t_.show(id);\r\n\t\t_.closeCallback = fun || function() {};\r\n\t},\r\n\r\n\tresize: function($pop, $img) {\r\n\t\tvar popH = $pop.innerHeight();\r\n\t\tif (popH > window.innerHeight) {\r\n\t\t\t$pop.css('max-width', (window.innerHeight * ($pop.innerWidth() / popH)));\r\n\t\t}\r\n\t},\r\n\r\n\tmedia: function(_$,args,show) {\r\n\t\tvar _ = this,\r\n\t\tid = $(_$).attr('data-popup'),\r\n\t\tPop = $(id),\r\n\t\t$box = Pop.find('.popup-media__box'),\r\n\t\tImg = Pop.find('.popup-media__image'),\r\n\t\tBtnPlay = Pop.find('.popup-media__play'),\r\n\t\tIframe = Pop.find('.popup-media__iframe');\r\n\r\n\t\tif (args.data) {\r\n\t\t\tPop.find('.popup-media__bar').css('display', 'block');\r\n\t\t\tvar data = JSON.parse( args.data );\r\n\t\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\t\tPop.find('.popup-media__data-'+ i).html(data[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (args.imgSize) {\r\n\t\t\tvar imgSize = JSON.parse(args.imgSize);\r\n\t\t\tImg.attr('width', imgSize[0]).attr('height', imgSize[1]);\r\n\t\t} else {\r\n\t\t\tImg.attr('width', '').attr('height', '');\r\n\t\t}\r\n\r\n\t\tif (args.img) {\r\n\t\t\tImg.css({visibility: 'visible', marginLeft: '', marginTop: ''}).removeClass('cover-img_w cover-img_h').attr('src', args.img);\r\n\t\t}\r\n\t\t\r\n\t\t//Pop.css('max-width', '');\r\n\t\tIframe.css('visibility', 'hidden').attr('src', '');\r\n\t\tBtnPlay.css('visibility', 'hidden');\r\n\t\t\r\n\t\tif (args.vid) {\r\n\t\t\t$box.removeClass('middle').addClass('cover-img-wrap');\r\n\t\t\tImg.removeClass('middle__img').addClass('cover-img');\r\n\t\t\tBtnPlay.css('visibility', 'visible').attr('href', args.vid);\r\n\r\n\t\t\t_.play = function() {\r\n\t\t\t\tvar utm = args.vid.match(/(?:youtu\\.be\\/|youtube\\.com\\/watch\\?v\\=|youtube\\.com\\/embed\\/)+?([\\w-]+)/i),\r\n\t\t\t\tifrSrc = 'https://www.youtube.com/embed/'+ utm[1] +'?autoplay=1';\r\n\t\t\t\tBtnPlay.css('visibility', 'hidden');\r\n\t\t\t\tImg.css('visibility', 'hidden');\r\n\t\t\t\tIframe.css('visibility', 'visible').attr('src', ifrSrc);\r\n\t\t\t}\r\n\r\n\t\t\tif (!args.img) {\r\n\t\t\t\t_.play();\r\n\t\t\t} else {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tCoverImg.init(id);\r\n\t\t\t\t\tImg.attr('src', args.img);\r\n\t\t\t\t}, 721);\r\n\t\t\t}\r\n\r\n\t\t\t\r\n\r\n\t\t} else {\r\n\t\t\t$box.removeClass('cover-img-wrap').addClass('middle');\r\n\t\t\tImg.removeClass('cover-img').addClass('middle__img');\r\n\t\t}\r\n\r\n\r\n\r\n\t\tif (args.group) {\r\n\t\t\tPop.find('.popup-media__arr').css('display', 'block');\r\n\t\t\t_.group =  $(_$).attr('data-group');\r\n\t\t\t_.ind = $('[data-group=\"'+ _.group +'\"]').index(_$);\r\n\t\t}\r\n\r\n\t\tif (show) {\r\n\t\t\t_.show(id);\r\n\t\t}\r\n\r\n\t\tif (!args.vid) {\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\t_.resize(Pop, Img);\r\n\t\t\t}, 721);\r\n\t\t}\r\n\r\n\t\t_.closeCallback = function() {\r\n\t\t\tImg.css('visibility', 'hidden').attr('src', '');\r\n\t\t\tIframe.css('visibility', 'hidden').attr('src', '');\r\n\t\t\tBtnPlay.css('visibility', 'hidden');\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tnext: function(dir) {\r\n\t\tvar _ = this,\r\n\t\t$next,\r\n\t\tind = _.ind;\r\n\r\n\t\tif (dir == 'next') {\r\n\t\t\tind++;\r\n\t\t\tif ($('[data-group=\"'+ _.group +'\"]').eq(ind).length) {\r\n\t\t\t\t$next = $('[data-group=\"'+ _.group +'\"]').eq(ind);\r\n\t\t\t}\r\n\t\t} else if (dir == 'prev' && ind > 0) {\r\n\t\t\tind--;\r\n\t\t\tif ($('[data-group=\"'+ _.group +'\"]').eq(ind).length) {\r\n\t\t\t\t$next = $('[data-group=\"'+ _.group +'\"]').eq(ind);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ($next) {\r\n\t\t\tvar args;\r\n\r\n\t\t\tif ($next.hasClass('js-open-popup-image')) {\r\n\t\t\t\targs = {\r\n\t\t\t\t\timg: $next.attr('href'),\r\n\t\t\t\t\timgSize: $next.attr('data-image-size'),\r\n\t\t\t\t\tgroup: $next.attr('data-group'),\r\n\t\t\t\t\tdata: $next.attr('data-data')\r\n\t\t\t\t};\r\n\t\t\t} else if ($next.hasClass('js-open-popup-video')) {\r\n\t\t\t\targs = {\r\n\t\t\t\t\tvid: $next.attr('href'),\r\n\t\t\t\t\timg: $next.attr('data-preview'),\r\n\t\t\t\t\timgSize: $next.attr('data-preview-size'),\r\n\t\t\t\t\tgroup: $next.attr('data-group'),\r\n\t\t\t\t\tdata: $next.attr('data-data')\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\t_.media($next, args);\r\n\t\t\t\r\n\t\t}\r\n\r\n\t}\r\n\r\n};*/\r\n\r\n\r\n/*$(document).ready(function() {\r\n\t$('body').on('click', '.js-open-popup', function () {\r\n\t\tPopup.show($(this).attr('data-popup'));\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.js-open-popup-image', function () {\r\n\t\tvar args = {\r\n\t\t\timg: $(this).attr('href'),\r\n\t\t\timgSize: $(this).attr('data-image-size'),\r\n\t\t\tgroup: $(this).attr('data-group'),\r\n\t\t\tdata: $(this).attr('data-data')\r\n\t\t};\r\n\t\tPopup.media(this, args, true);\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.js-open-popup-video', function () {\r\n\t\tvar args = {\r\n\t\t\tvid: $(this).attr('href'),\r\n\t\t\timg: $(this).attr('data-preview'),\r\n\t\t\timgSize: $(this).attr('data-preview-size'),\r\n\t\t\tgroup: $(this).attr('data-group'),\r\n\t\t\tdata: $(this).attr('data-data')\r\n\t\t};\r\n\t\tPopup.media(this, args, true);\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.popup-media__play', function () {\r\n\t\tPopup.play();\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.popup-media__arr', function () {\r\n\t\tPopup.next($(this).attr('data-dir'));\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.js-open-msg-popup', function () {\r\n\t\tPopup.message('#message-popup', '   .<br> : <span class=\"c-red\">Popup.message(\"#id\", \"  html\");</span>', function() { alert(' '); });\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.popup__close', function () {\r\n\t\tPopup.hide();\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.popup', function(e) {\r\n\t\tif (!$(e.target).closest('.popup__window').length) {\r\n\t\t\tPopup.hide();\r\n\t\t}\r\n\t});\r\n\r\n\r\n\tif (window.location.hash) {\r\n\t\tvar hash = window.location.hash;\r\n\t\tif($(hash).length && $(hash).hasClass('popup__window')){\r\n\t\t\tPopup.show(hash);\r\n\t\t}\r\n\t}\r\n\r\n});*/","var Form, NextFieldset;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\t//next fieldset\r\n\tNextFieldset = {\r\n\r\n\t\tnext: function(elem) {\r\n\t\t\tvar nextFieldset = (elem.hasAttribute('data-next-fieldset-item')) ? document.querySelector(elem.getAttribute('data-next-fieldset-item')) : false;\r\n\r\n\t\t\tif (!nextFieldset) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar currentFieldset = elem.closest('.fieldset__item');\r\n\r\n\t\t\tif (ValidateForm.validate(currentFieldset)) {\r\n\t\t\t\tcurrentFieldset.classList.add('fieldset__item_hidden');\r\n\t\t\t\tnextFieldset.classList.remove('fieldset__item_hidden');\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tinit: function(form, elemStr) {\r\n\t\t\tif (form) {\r\n\t\t\t\tform.addEventListener('click', (e) => {\r\n\t\t\t\t\tvar elem = e.target.closest(elemStr);\r\n\r\n\t\t\t\t\tif (elem) {\r\n\t\t\t\t\t\tthis.next(elem);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t//init forms\r\n\tForm = function(formSelector) {\r\n\t\tthis.onSubmit = null;\r\n\r\n\t\tvar form = document.querySelector(formSelector);\r\n\r\n\t\tif (!form) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.form = form;\r\n\r\n\t\t//clear form\r\n\t\tfunction clear() {\r\n\t\t\tvar elements = form.querySelectorAll('input[type=\"text\"], input[type=\"password\"], textarea');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\telem.value = '';\r\n\t\t\t\tCustomPlaceholder.hidePlaceholder(elem, false);\r\n\t\t\t}\r\n\r\n\t\t\tvar textareaMirrors = form.querySelectorAll('.form__textarea-mirror');\r\n\r\n\t\t\tfor (var i = 0; i < textareaMirrors.length; i++) {\r\n\t\t\t\ttextareaMirrors[i].innerHTML = '';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//submit button\r\n\t\tfunction actSubmitBtn(st) {\r\n\t\t\tvar elements = form.querySelectorAll('button[type=\"submit\"], input[type=\"submit\"]');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (!elem.elementIsHidden()) {\r\n\t\t\t\t\tif (st) {\r\n\t\t\t\t\t\telem.removeAttribute('disabled');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\telem.setAttribute('disabled', 'disable');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//submit\r\n\t\tform.addEventListener('submit', (e) => {\r\n\t\t\tif (!this.onSubmit) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tvar sending = this.onSubmit(form, function(obj) {\r\n\t\t\t\tobj = obj || {};\r\n\r\n\t\t\t\tactSubmitBtn(obj.unlockSubmitButton);\r\n\r\n\t\t\t\tform.classList.remove('form_sending');\r\n\r\n\t\t\t\tif (obj.clearForm == true) {\r\n\t\t\t\t\tclear();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (sending) {\r\n\t\t\t\tactSubmitBtn(false);\r\n\r\n\t\t\t\tform.classList.add('form_sending');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\r\n}());","var CustomPlaceholder, CustomSelect;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\t//bind labels\r\n\tfunction BindLabels(elementsStr) {\r\n\t\tvar elements = document.querySelectorAll(elementsStr);\r\n\r\n\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\tvar elem = elements[i],\r\n\t\t\tlabel = elem.parentElement.querySelector('label'),\r\n\t\t\tforID = (elem.hasAttribute('id')) ? elem.id : 'keylabel-'+ i;\r\n\r\n\t\t\tif (!label.hasAttribute('for')) {\r\n\t\t\t\tlabel.htmlFor = forID;\r\n\t\t\t\telem.id = forID;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t//show element on checkbox change\r\n\tvar ChangeCheckbox = {\r\n\r\n\t\tchange: function(elem) {\r\n\r\n\t\t\tvar targetElements = (elem.hasAttribute('data-target-elements')) ? document.querySelectorAll(elem.getAttribute('data-target-elements')) : {};\r\n\r\n\t\t\tif (!targetElements.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < targetElements.length; i++) {\r\n\t\t\t\ttargetElements[i].style.display = (elem.checked) ? 'block' : 'none';\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tinit: function() {\r\n\r\n\t\t\tdocument.addEventListener('change', (e) => {\r\n\r\n\t\t\t\tvar elem = e.target.closest('input[type=\"checkbox\"]');\r\n\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.change(elem);\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t//show element on radio button change\r\n\tvar ChangeRadio = {\r\n\r\n\t\tchange: function(checkedElem) {\r\n\r\n\t\t\tvar elements = document.querySelectorAll('input[type=\"radio\"][name=\"'+ checkedElem.name +'\"]');\r\n\r\n\t\t\tif (!elements.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i],\r\n\t\t\t\ttargetElements = (elem.hasAttribute('data-target-elements')) ? document.querySelectorAll(elem.getAttribute('data-target-elements')) : {};\r\n\r\n\t\t\t\tif (!targetElements.length) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (var j = 0; j < targetElements.length; j++) {\r\n\t\t\t\t\ttargetElements[j].style.display = (elem.checked) ? 'block' : 'none';\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tinit: function() {\r\n\r\n\t\t\tdocument.addEventListener('change', (e) => {\r\n\r\n\t\t\t\tvar elem = e.target.closest('input[type=\"radio\"]');\r\n\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.change(elem);\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t//form custom placeholder\r\n\tCustomPlaceholder = {\r\n\r\n\t\tinit: function(elementsStr) {\r\n\t\t\tvar elements = document.querySelectorAll(elementsStr);\r\n\r\n\t\t\tif (!elements.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (elem.placeholder) {\r\n\r\n\t\t\t\t\tvar elemFor = (elem.id) ? elem.id : 'placeholder-index-'+ i,\r\n\t\t\t\t\tlabel = document.createElement('label');\r\n\r\n\t\t\t\t\tlabel.htmlFor = elemFor;\r\n\t\t\t\t\tlabel.className = 'custom-placeholder';\r\n\t\t\t\t\tlabel.innerHTML = elem.placeholder;\r\n\r\n\t\t\t\t\telem.parentElement.insertBefore(label, elem);\r\n\r\n\t\t\t\t\telem.removeAttribute('placeholder');\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!elem.id) {\r\n\t\t\t\t\t\telem.id = elemFor;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (elem.value.length) {\r\n\t\t\t\t\tthis.hidePlaceholder(elem, true);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//events\r\n\t\t\tdocument.addEventListener('focus', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementsStr);\r\n\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.hidePlaceholder(elem, true);\r\n\t\t\t\t}\r\n\r\n\t\t\t}, true);\r\n\r\n\r\n\t\t\tdocument.addEventListener('blur', (e) => {\r\n\r\n\t\t\t\tvar elem = e.target.closest(elementsStr);\r\n\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.hidePlaceholder(elem, false);\r\n\t\t\t\t}\r\n\r\n\t\t\t}, true);\r\n\r\n\t\t},\r\n\t\t\r\n\t\thidePlaceholder: function(elem, hide) {\r\n\r\n\t\t\tvar label = document.querySelector('label[for=\"'+ elem.id +'\"]');\r\n\r\n\t\t\tif (!label) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar lSt = label.style;\r\n\r\n\t\t\tif (hide) {\r\n\r\n\t\t\t\tlSt.textIndent = '-9999px';\r\n\t\t\t\tlSt.paddingLeft = '0px';\r\n\t\t\t\tlSt.paddingRight = '0px';\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (!elem.value.length) {\r\n\t\t\t\t\tlSt.textIndent = '';\r\n\t\t\t\t\tlSt.paddingLeft = '';\r\n\t\t\t\t\tlSt.paddingRight = '';\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t//Form CustomSelect\r\n\tCustomSelect = {\r\n\r\n\t\tfield: null,\r\n\r\n\t\tclose: function() {\r\n\t\t\tvar fields = document.querySelectorAll('.custom-select');\r\n\r\n\t\t\tfor (var i = 0; i < fields.length; i++) {\r\n\t\t\t\tfields[i].classList.remove('custom-select_opened');\r\n\t\t\t}\r\n\r\n\t\t\tvar listItems = document.querySelectorAll('.custom-select__options li');\r\n\r\n\t\t\tfor (var i = 0; i < listItems.length; i++) {\r\n\t\t\t\tlistItems[i].classList.remove('hover');\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\topen: function() {\r\n\r\n\t\t\tthis.field.classList.add('custom-select_opened');\r\n\r\n\t\t\tthis.field.querySelector('.custom-select__options').scrollTop = 0;\r\n\r\n\t\t},\r\n\r\n\t\tselectMultipleVal: function(elem, button, input) {\r\n\t\t\tvar toButtonValue = [],\r\n\t\t\ttoInputValue = [],\r\n\t\t\tinputsBlock = this.field.querySelector('.custom-select__multiple-inputs');\r\n\r\n\t\t\telem.classList.toggle('custom-select__val_checked');\r\n\r\n\t\t\tvar checkedElements = this.field.querySelectorAll('.custom-select__val_checked');\r\n\r\n\t\t\tfor (var i = 0; i < checkedElements.length; i++) {\r\n\t\t\t\tvar elem = checkedElements[i];\r\n\r\n\t\t\t\ttoButtonValue[i] = elem.innerHTML;\r\n\t\t\t\ttoInputValue[i] = (elem.hasAttribute('data-value')) ? elem.getAttribute('data-value') : elem.innerHTML;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (toButtonValue.length) {\r\n\t\t\t\tbutton.innerHTML = toButtonValue.join(', ');\r\n\r\n\t\t\t\tinput.value = toInputValue[0];\r\n\r\n\t\t\t\tinputsBlock.innerHTML = '';\r\n\r\n\t\t\t\tif (toInputValue.length > 1) {\r\n\r\n\t\t\t\t\tfor (var i = 1; i < toInputValue.length; i++) {\r\n\t\t\t\t\t\tvar yetInput = document.createElement('input');\r\n\r\n\t\t\t\t\t\tyetInput.type = 'hidden';\r\n\t\t\t\t\t\tyetInput.name = input.name;\r\n\t\t\t\t\t\tyetInput.value = toInputValue[i];\r\n\r\n\t\t\t\t\t\tinputsBlock.appendChild(yetInput);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\tbutton.innerHTML = button.getAttribute('data-placeholder');\r\n\t\t\t\tinput.value = '';\r\n\t\t\t\tthis.close();\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\ttargetAction: function() {\r\n\t\t\tvar elements = this.field.querySelectorAll('.custom-select__val');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (!elem.hasAttribute('data-target-elements')) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar targetElem = document.querySelector(elem.getAttribute('data-target-elements'));\r\n\t\t\t\ttargetElem.style.display = (elem.classList.contains('custom-select__val_checked')) ? 'block' : 'none';\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tselectVal: function(elem) {\r\n\t\t\tvar button = this.field.querySelector('.custom-select__button'),\r\n\t\t\tinput = this.field.querySelector('.custom-select__input');\r\n\r\n\t\t\tif (this.field.classList.contains('custom-select_multiple')) {\r\n\t\t\t\t\r\n\t\t\t\tthis.selectMultipleVal(elem, button, input);\r\n\r\n\t\t\t} else {\r\n\t\t\t\tvar toButtonValue = elem.innerHTML,\r\n\t\t\t\ttoInputValue = (elem.hasAttribute('data-value')) ? elem.getAttribute('data-value') : elem.innerHTML;\r\n\r\n\t\t\t\tvar lalueElements = this.field.querySelectorAll('.custom-select__val');\r\n\r\n\t\t\t\tfor (var i = 0; i < lalueElements.length; i++) {\r\n\t\t\t\t\tlalueElements[i].classList.remove('custom-select__val_checked');\r\n\t\t\t\t}\r\n\r\n\t\t\t\telem.classList.add('custom-select__val_checked');\r\n\r\n\t\t\t\tif (button) {\r\n\t\t\t\t\tbutton.innerHTML = toButtonValue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tinput.value = toInputValue;\r\n\t\t\t\t\r\n\t\t\t\tthis.close();\r\n\r\n\t\t\t\tCustomPlaceholder.hidePlaceholder(input, true);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.targetAction();\r\n\r\n\t\t\tif (input.classList.contains('var-height-textarea__textarea')) {\r\n\t\t\t\tvarHeightTextarea.setHeight(input);\r\n\t\t\t}\r\n\r\n\t\t\tthis.field.classList.add('custom-select_changed');\r\n\r\n\t\t\tValidateForm.select(input);\r\n\r\n\t\t},\r\n\r\n\t\tautocomplete: function(elem) {\r\n\t\t\tvar match = false,\r\n\t\t\treg = new RegExp(elem.value, 'gi'),\r\n\t\t\tvalueElements = this.field.querySelectorAll('.custom-select__val');\r\n\r\n\t\t\tfor (var i = 0; i < valueElements.length; i++) {\r\n\t\t\t\tvar valueElem = valueElements[i];\r\n\r\n\t\t\t\tif (!elem.value.length) {\r\n\t\t\t\t\tvalueElem.classList.remove('custom-select__val_checked');\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (valueElem.innerHTML.match(reg)) {\r\n\t\t\t\t\tvalueElem.parentElement.classList.remove('hidden');\r\n\t\t\t\t\tmatch = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvalueElem.parentElement.classList.add('hidden');\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (!match) {\r\n\t\t\t\tfor (var i = 0; i < valueElements.length; i++) {\r\n\t\t\t\t\tvalueElements[i].parentElement.classList.remove('hidden');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tsetOptions: function(fieldStr, optObj, val, name) {\r\n\t\t\tvar fields = document.querySelectorAll(fieldStr);\r\n\r\n\t\t\tfor (var i = 0; i < fields.length; i++) {\r\n\t\t\t\tvar options = fields[i].querySelector('.custom-select__options');\r\n\r\n\t\t\t\tfor (var i = 0; i < optObj.length; i++) {\r\n\t\t\t\t\tvar li = document.createElement('li');\r\n\r\n\t\t\t\t\tli.innerHTML = '<button type=\"button\" class=\"custom-select__val\" data-value=\"'+ optObj[i][val] +'\">'+ optObj[i][name] +'</button>';\r\n\r\n\t\t\t\t\toptions.appendChild(li);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tkeyboard: function(key) {\r\n\t\t\tvar options = this.field.querySelector('.custom-select__options'),\r\n\t\t\thoverItem = options.querySelector('li.hover');\r\n\r\n\t\t\tswitch (key) {\r\n\t\t\t\t\r\n\t\t\t\tcase 40:\r\n\r\n\t\t\t\tif (hoverItem) {\r\n\t\t\t\t\tvar nextItem = function(item) {\r\n\r\n\t\t\t\t\t\tvar elem = item.nextElementSibling;\r\n\r\n\t\t\t\t\t\twhile (elem) {\r\n\r\n\t\t\t\t\t\t\tif (!elem) {\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (!elem.elementIsHidden()) {\r\n\t\t\t\t\t\t\t\treturn elem;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\telem = elem.nextElementSibling;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}(hoverItem);\r\n\r\n\t\t\t\t\tif (nextItem) {\r\n\t\t\t\t\t\thoverItem.classList.remove('hover');\r\n\t\t\t\t\t\tnextItem.classList.add('hover');\r\n\r\n\t\t\t\t\t\toptions.scrollTop = options.scrollTop + (nextItem.getBoundingClientRect().top - options.getBoundingClientRect().top);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tvar elem = options.firstElementChild;\r\n\r\n\t\t\t\t\twhile (elem) {\r\n\r\n\t\t\t\t\t\tif (!elem) {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (!elem.elementIsHidden()) {\r\n\t\t\t\t\t\t\telem.classList.add('hover');\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\telem = elem.nextElementSibling;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 38:\r\n\r\n\t\t\t\tif (hoverItem) {\r\n\t\t\t\t\tvar nextItem = function(item) {\r\n\r\n\t\t\t\t\t\tvar elem = item.previousElementSibling;\r\n\r\n\t\t\t\t\t\twhile (elem) {\r\n\r\n\t\t\t\t\t\t\tif (!elem) {\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (!elem.elementIsHidden()) {\r\n\t\t\t\t\t\t\t\treturn elem;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\telem = elem.previousElementSibling;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}(hoverItem);\r\n\r\n\t\t\t\t\tif (nextItem) {\r\n\t\t\t\t\t\thoverItem.classList.remove('hover');\r\n\t\t\t\t\t\tnextItem.classList.add('hover');\r\n\r\n\t\t\t\t\t\toptions.scrollTop = options.scrollTop + (nextItem.getBoundingClientRect().top - options.getBoundingClientRect().top);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tvar elem = options.lastElementChild;\r\n\r\n\t\t\t\t\twhile (elem) {\r\n\r\n\t\t\t\t\t\tif (!elem) {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (!elem.elementIsHidden()) {\r\n\t\t\t\t\t\t\telem.classList.add('hover');\r\n\t\t\t\t\t\t\toptions.scrollTop = 9999;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\telem = elem.previousElementSibling;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 13:\r\n\t\t\t\tthis.selectVal(hoverItem.querySelector('.custom-select__val'));\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\r\n\t\tfillAcHead: function() {\r\n\t\t\tvar elements = document.querySelectorAll('.custom-select__autocomplete');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i],\r\n\t\t\t\tcheckedValues = elem.closest('.custom-select').querySelectorAll('.custom-select__val_checked');\r\n\r\n\t\t\t\tif (!checkedValues) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (elem.value.length) {\r\n\r\n\t\t\t\t\tfor (var j = 0; j < checkedValues.length; j++) {\r\n\t\t\t\t\t\tthis.selectVal(checkedValues[j]);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tfor (var j = 0; j < checkedValues.length; j++) {\r\n\t\t\t\t\t\tcheckedValues[j].classList.remove('custom-select__val_checked');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tbuild: function(elementStr) {\r\n\t\t\tvar elements = document.querySelectorAll(elementStr);\r\n\r\n\t\t\tif (!elements.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i],\r\n\t\t\t\toptions = elem.querySelectorAll('option'),\r\n\t\t\t\tparent = elem.parentElement,\r\n\t\t\t\toptionsList = '',\r\n\t\t\t\trequire = (elem.hasAttribute('data-required')) ? ' data-required=\"'+ elem.getAttribute('data-required') +'\" ' : '',\r\n\t\t\t\thead = (elem.getAttribute('data-type') == 'autocomplete') ? '<input type=\"text\" name=\"'+ elem.name +'\"'+ require +'placeholder=\"'+ elem.getAttribute('data-placeholder') +'\" class=\"custom-select__input custom-select__autocomplete form__text-input\" value=\"\">' : '<button type=\"button\" data-placeholder=\"'+ elem.getAttribute('data-placeholder') +'\" class=\"custom-select__button\">'+ elem.getAttribute('data-placeholder') +'</button>',\r\n\t\t\t\tmultiple = {\r\n\t\t\t\t\tclass: (elem.multiple) ? ' custom-select_multiple' : '',\r\n\t\t\t\t\tinpDiv: (elem.multiple) ? '<div class=\"custom-select__multiple-inputs\"></div>' : ''\r\n\t\t\t\t},\r\n\t\t\t\thiddenInp = (elem.getAttribute('data-type') != 'autocomplete') ? '<input type=\"hidden\" name=\"'+ elem.name +'\"'+ require +'class=\"custom-select__input\" value=\"\">' : '';\r\n\r\n\t\t\t\t//option list\r\n\t\t\t\tfor (var j = 0; j < options.length; j++) {\r\n\t\t\t\t\tvar opt = options[j];\r\n\r\n\t\t\t\t\toptionsList += '<li><button type=\"button\" class=\"custom-select__val\"'+ ( (opt.hasAttribute('value')) ? ' data-value=\"'+ opt.value +'\"' : '' ) + ( (opt.hasAttribute('data-target-elements')) ? ' data-target-elements=\"'+ opt.getAttribute('data-target-elements') +'\"' : '' ) +'>'+ opt.innerHTML +'</button></li>';\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//output select\r\n\t\t\t\tvar customElem = document.createElement('div');\r\n\t\t\t\tcustomElem.className = 'custom-select'+ multiple.class;\r\n\t\t\t\tcustomElem.innerHTML = head +'<ul class=\"custom-select__options\">'+ optionsList +'</ul>'+ hiddenInp + multiple.inpDiv;\r\n\t\t\t\tparent.insertBefore(customElem, parent.firstChild);\r\n\t\t\t\tparent.removeChild(parent.children[1]);\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr) {\r\n\r\n\t\t\tthis.build(elementStr);\r\n\r\n\t\t\t//click on select button event\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar elem = e.target.closest('.custom-select__button');\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.field = elem.closest('.custom-select');\r\n\r\n\t\t\t\tif (this.field.classList.contains('custom-select_opened')) {\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.fillAcHead();\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t\tthis.open();\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t\t//click on value button event\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar elem = e.target.closest('.custom-select__val');\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.field = elem.closest('.custom-select');\r\n\r\n\t\t\t\tthis.selectVal(elem);\r\n\r\n\t\t\t});\r\n\r\n\t\t\t//focus autocomplete\r\n\t\t\tdocument.addEventListener('focus', (e) => {\r\n\t\t\t\tvar elem = e.target.closest('.custom-select__autocomplete');\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.field = elem.closest('.custom-select');\r\n\r\n\t\t\t\tif (!this.field.classList.contains('custom-select_opened')) {\r\n\t\t\t\t\tthis.fillAcHead();\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t\tthis.open();\r\n\t\t\t\t}\r\n\r\n\t\t\t}, true);\r\n\r\n\t\t\t//input autocomplete\r\n\t\t\tdocument.addEventListener('input', (e) => {\r\n\t\t\t\tvar elem = e.target.closest('.custom-select__autocomplete');\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.field = elem.closest('.custom-select');\r\n\r\n\t\t\t\tthis.autocomplete(elem);\r\n\r\n\t\t\t\tif (!this.field.classList.contains('custom-select_opened')) {\r\n\t\t\t\t\tthis.open();\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t\t//keyboard events\r\n\t\t\tdocument.addEventListener('keydown', (e) => {\r\n\t\t\t\tvar elem = e.target.closest('.custom-select_opened');\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.field = elem.closest('.custom-select');\r\n\r\n\t\t\t\tvar key = e.which || e.keyCode || 0;\r\n\r\n\t\t\t\tif (key == 40 || key == 38 || key == 13) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tthis.keyboard(key);\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t\t//close all\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tif (!e.target.closest('.custom-select_opened')) {\r\n\t\t\t\t\tthis.fillAcHead();\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t//custom file\r\n\tvar CustomFile = {\r\n\r\n\t\tfield: null,\r\n\r\n\t\tloadPreview: function(file, i) {\r\n\t\t\tvar imgPreviewBlock = this.field.querySelectorAll('.custom-file__preview')[i];\r\n\r\n\t\t\tif (file.type.match('image')) {\r\n\t\t\t\tvar reader = new FileReader();\r\n\r\n\t\t\t\treader.onload = function(e) {\r\n\t\t\t\t\timgPreviewBlock.innerHTML = '<img src=\"'+ e.target.result +'\" class=\"cover-img\">';\r\n\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tcoverImg('.custom-file__item');\r\n\t\t\t\t\t}, 721);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treader.readAsDataURL(file);\r\n\t\t\t} else {\r\n\t\t\t\timgPreviewBlock.innerHTML = '<img src=\"images/preview.svg\" class=\"full-width-img\">';\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tchangeInput: function(elem) {\r\n\r\n\t\t\tthis.field = elem.closest('.custom-file');\r\n\r\n\t\t\tvar self = this,\r\n\t\t\tfileItems = this.field.querySelector('.custom-file__items');\r\n\r\n\t\t\tfileItems.innerHTML = '';\r\n\r\n\t\t\tconsole.log(elem.files);\r\n\r\n\t\t\tfor (var i = 0; i < elem.files.length; i++) {\r\n\t\t\t\tvar file = elem.files[i],\r\n\t\t\t\tfileItem = document.createElement('div');\r\n\r\n\t\t\t\tfileItem.className = 'custom-file__item';\r\n\t\t\t\tfileItem.innerHTML = '<div class=\"custom-file__preview cover-img-wrap\"></div><div class=\"custom-file__name\">'+ file.name +'</div>';\r\n\r\n\t\t\t\tfileItems.appendChild(fileItem);\r\n\r\n\t\t\t\tself.loadPreview(file, i);\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tinit: function() {\r\n\r\n\t\t\tdocument.addEventListener('change', (e) => {\r\n\t\t\t\tvar elem = e.target.closest('input[type=\"file\"]');\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.changeInput(elem);\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t//variable height textarea\r\n\tvar varHeightTextarea = {\r\n\r\n\t\tsetHeight: function(elem) {\r\n\t\t\tvar mirror = elem.parentElement.querySelector('.var-height-textarea__mirror'),\r\n\t\t\tmirrorOutput = elem.value.replace(/\\n/g, '<br>');\r\n\r\n\t\t\tmirror.innerHTML = mirrorOutput +'&nbsp;';\r\n\t\t},\r\n\r\n\t\tinit: function() {\r\n\r\n\t\t\tdocument.addEventListener('input', (e) => {\r\n\t\t\t\tvar elem = e.target.closest('.var-height-textarea__textarea');\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.setHeight(elem);\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t//init scripts\r\n\tdocument.addEventListener(\"DOMContentLoaded\", function() {\r\n\t\tCustomSelect.init('select');\r\n\t\tCustomFile.init();\r\n\t\tvarHeightTextarea.init();\r\n\t\tCustomPlaceholder.init('input[type=\"text\"], input[type=\"password\"], textarea');\r\n\t\tBindLabels('input[type=\"checkbox\"], input[type=\"radio\"]');\r\n\t\tChangeCheckbox.init();\r\n\t\tChangeRadio.init();\r\n\t});\r\n\r\n}());","var ValidateForm;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tValidateForm = {\r\n\r\n\t\tinput: null,\r\n\r\n\t\terrorTip: function(err, errInd) {\r\n\t\t\tvar field = this.input.parentElement,\r\n\t\t\terrTip = field.querySelector('.field-error-tip');\r\n\r\n\t\t\tif (err) {\r\n\r\n\t\t\t\tfield.classList.add('field-error');\r\n\r\n\t\t\t\tif (errInd) {\r\n\t\t\t\t\tif (!errTip.getAttribute('data-error-text')) {\r\n\t\t\t\t\t\terrTip.setAttribute('data-error-text', errTip.innerHTML);\r\n\t\t\t\t\t}\r\n\t\t\t\t\terrTip.innerHTML = errTip.getAttribute('data-error-text-'+ errInd);\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\tfield.classList.remove('field-error');\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tcustomErrorTip: function($inp, errorTxt) {\r\n\t\t\tvar _ = this;\r\n\r\n\t\t\t_.$input = $inp;\r\n\t\t\t_.errorTip(true, 'custom', errorTxt);\r\n\t\t},\r\n\r\n\t\tdate: function() {\r\n\t\t\tvar err = false,\r\n\t\t\tvalidDate = function(val) {\r\n\t\t\t\tvar _reg = new RegExp(\"^([0-9]{2}).([0-9]{2}).([0-9]{4})$\"),\r\n\t\t\t\tmatches = _reg.exec(val);\r\n\t\t\t\tif (!matches) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tvar now = new Date(),\r\n\t\t\t\tcDate = new Date(matches[3], (matches[2] - 1), matches[1]);\r\n\t\t\t\treturn ((cDate.getMonth() == (matches[2] - 1)) && (cDate.getDate() == matches[1]) && (cDate.getFullYear() == matches[3]) && (cDate.valueOf() < now.valueOf()));\r\n\t\t\t};\r\n\r\n\t\t\tif (!validDate(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\temail: function() {\r\n\t\t\tvar err = false;\r\n\r\n\t\t\tif (!/^[a-z0-9]+[\\w\\-\\.]*@[\\w\\-]{2,}\\.[a-z]{2,6}$/i.test(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\ttel: function() {\r\n\t\t\tvar err = false;\r\n\r\n\t\t\tif (!/^\\+7\\([0-9]{3}\\)[0-9]{3}-[0-9]{2}-[0-9]{2}$/.test(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\tpass: function() {\r\n\t\t\tvar err = false,\r\n\t\t\tminLng = this.input.getAttribute('data-min-length');\r\n\r\n\t\t\tif (minLng && this.input.value.length < minLng) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\tselect: function(elem) {\r\n\t\t\tvar err = false;\r\n\r\n\t\t\tthis.input = elem;\r\n\r\n\t\t\tif (elem.getAttribute('data-required') && !elem.value.length) {\r\n\t\t\t\tthis.errorTip(true);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\tvalidateOnInputOrBlur: function(e) {\r\n\r\n\t\t\tvar elem = e.target.closest('input[type=\"text\"], input[type=\"password\"], textarea');\r\n\r\n\t\t\tif (!elem) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.input = elem;\r\n\r\n\t\t\tif (e.type == 'blur') {\r\n\t\t\t\telem.setAttribute('data-tested', 'true');\r\n\t\t\t} else if (e.type == 'input' && !elem.getAttribute('data-tested')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar type = elem.getAttribute('data-type'),\r\n\t\t\tval = elem.value;\r\n\r\n\t\t\tif (elem.getAttribute('data-required') && !val.length) {\r\n\t\t\t\tthis.errorTip(true);\r\n\t\t\t} else if (val.length && type) {\r\n\t\t\t\tthis[type]();\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\r\n\t\tfile: function(e) {\r\n\r\n\t\t\tif (e) {\r\n\t\t\t\tvar elem = e.target.closest('input[type=\"file\"]');\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.input = elem;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar err = false,\r\n\t\t\terrCount = {type: 0, size: 0},\r\n\t\t\tfiles = this.input.files,\r\n\t\t\ttype = this.input.getAttribute('data-type'),\r\n\t\t\tmaxSize = +this.input.getAttribute('data-max-size');\r\n\r\n\t\t\tfor (var i = 0; i < files.length; i++) {\r\n\r\n\t\t\t\tvar file = files[i];\r\n\r\n\t\t\t\tif (!file.type.match(type)) {\r\n\t\t\t\t\terrCount.type++;\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (file.size > maxSize) {\r\n\t\t\t\t\terrCount.size++;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (errCount.type) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else if (errCount.size) {\r\n\t\t\t\tthis.errorTip(true, 3);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\tvalidate: function(form) {\r\n\t\t\tvar err = 0;\r\n\r\n\t\t\t//text, password, textarea\r\n\t\t\tvar elements = form.querySelectorAll('input[type=\"text\"], input[type=\"password\"], textarea');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (elem.elementIsHidden()) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.input = elem;\r\n\r\n\t\t\t\telem.setAttribute('data-tested', 'true');\r\n\r\n\t\t\t\tvar inpType = elem.getAttribute('data-type');\r\n\r\n\t\t\t\tif (elem.value.length) {\r\n\t\t\t\t\tif (inpType && this[inpType]()) {\r\n\t\t\t\t\t\terr++;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (elem.getAttribute('data-required')) {\r\n\t\t\t\t\tthis.errorTip(true);\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//select\r\n\t\t\tvar elements = form.querySelectorAll('.custom-select__input');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (elem.parentElement.elementIsHidden()) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.select(elem)) {\r\n\t\t\t\t\terr++;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//checkboxes\r\n\t\t\tvar elements = form.querySelectorAll('input[type=\"checkbox\"]');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (elem.elementIsHidden()) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.input = elem;\r\n\r\n\t\t\t\tif (elem.getAttribute('data-required') && !elem.checked) {\r\n\t\t\t\t\tthis.errorTip(true);\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//checkbox group\r\n\t\t\tvar groups = form.querySelectorAll('.form__chbox-group');\r\n\r\n\t\t\tfor (var i = 0; i < groups.length; i++) {\r\n\t\t\t\tvar group = groups[i],\r\n\t\t\t\tcheckedElements = 0;\r\n\r\n\t\t\t\tif (group.elementIsHidden()) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar elements = group.querySelectorAll('input[type=\"checkbox\"]');\r\n\r\n\t\t\t\tfor (var j = 0; j < elements.length; j++) {\r\n\t\t\t\t\tif (elements[j].checked) {\r\n\t\t\t\t\t\tcheckedElements++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (checkedElements < group.getAttribute('data-min')) {\r\n\t\t\t\t\tgroup.classList.add('form__chbox-group_error');\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgroup.classList.remove('form__chbox-group_error');\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//radio group\r\n\t\t\tvar groups = form.querySelectorAll('.form__radio-group');\r\n\r\n\t\t\tfor (var i = 0; i < groups.length; i++) {\r\n\t\t\t\tvar group = groups[i],\r\n\t\t\t\tcheckedElement = false;\r\n\r\n\t\t\t\tif (group.elementIsHidden()) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar elements = group.querySelectorAll('input[type=\"radio\"]');\r\n\r\n\t\t\t\tfor (var j = 0; j < elements.length; j++) {\r\n\t\t\t\t\tif (elements[j].checked) {\r\n\t\t\t\t\t\tcheckedElement = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!checkedElement) {\r\n\t\t\t\t\tgroup.classList.add('form__radio-group_error');\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgroup.classList.remove('form__radio-group_error');\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//file\r\n\t\t\tvar elements = form.querySelectorAll('input[type=\"file\"]');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (elem.elementIsHidden()) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.input = elem;\r\n\r\n\t\t\t\tif (elem.files.length) {\r\n\t\t\t\t\tif (this.file()) {\r\n\t\t\t\t\t\terr++;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (elem.getAttribute('data-required')) {\r\n\t\t\t\t\tthis.errorTip(true);\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//passwords compare\r\n\t\t\tvar elements = form.querySelectorAll('input[data-pass-compare-input]');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (elem.elementIsHidden()) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.input = elem;\r\n\r\n\t\t\t\tvar val = elem.value;\r\n\r\n\t\t\t\tif (val.length) {\r\n\t\t\t\t\tvar compElemVal = form.querySelector(elem.getAttribute('data-pass-compare-input')).value;\r\n\r\n\t\t\t\t\tif (val !== compElemVal) {\r\n\t\t\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\t\t\terr++;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn (err) ? false : true;\r\n\t\t},\r\n\r\n\t\tsubmit: function(form) {\r\n\t\t\treturn this.validate(form);\r\n\t\t},\r\n\r\n\t\tinit: function(form) {\r\n\t\t\tif (!form) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tform.addEventListener('input', this.validateOnInputOrBlur.bind(this));\r\n\r\n\t\t\tform.addEventListener('blur', this.validateOnInputOrBlur.bind(this), true);\r\n\r\n\t\t\tform.addEventListener('change', this.file.bind(this));\r\n\r\n\t\t\tform.addEventListener('submit', (e) => {\r\n\t\t\t\tif (this.validate(form)) {\r\n\t\t\t\t\tform.classList.remove('form-error');\r\n\t\t\t\t} else {\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\tform.classList.add('form-error');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t};\r\n\r\n}());","/*\r\n* call Accord.init(Str button selector);\r\n*/\r\nvar Accord;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tAccord = {\r\n\t\ttoggle: function(elem) {\r\n\t\t\tvar contentElem = elem.nextElementSibling;\r\n\r\n\t\t\tif (elem.classList.contains('accord__button_active')) {\r\n\t\t\t\tcontentElem.style.height = 0;\r\n\r\n\t\t\t\telem.classList.remove('accord__button_active');\r\n\t\t\t} else {\r\n\t\t\t\tvar mainElem = elem.closest('.accord'),\r\n\t\t\t\tallButtonElem = mainElem.querySelectorAll('.accord__button'),\r\n\t\t\t\tallContentElem = mainElem.querySelectorAll('.accord__content');\r\n\r\n\t\t\t\tfor (var i = 0; i < allButtonElem.length; i++) {\r\n\t\t\t\t\tallButtonElem[i].classList.remove('accord__button_active');\r\n\t\t\t\t\tallContentElem[i].style.height = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcontentElem.style.height = contentElem.scrollHeight +'px';\r\n\r\n\t\t\t\telem.classList.add('accord__button_active');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementStr);\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tthis.toggle(elem);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n}());","/*\r\ncall to init:\r\nMore.init(Str button selector);\r\n*/\r\nvar More;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tMore = {\r\n\t\ttoggle: function(elem) {\r\n\t\t\tvar contentElem = elem.previousElementSibling;\r\n\r\n\t\t\tif (elem.classList.contains('active')) {\r\n\t\t\t\tcontentElem.style.height = contentElem.getAttribute('data-height') +'px';\r\n\r\n\t\t\t\telem.classList.remove('active');\r\n\t\t\t} else {\r\n\t\t\t\tcontentElem.setAttribute('data-height', contentElem.offsetHeight);\r\n\r\n\t\t\t\tcontentElem.style.height = contentElem.scrollHeight +'px';\r\n\r\n\t\t\t\telem.classList.add('active');\r\n\t\t\t}\r\n\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tvar btnTxt = elem.innerHTML;\r\n\r\n\t\t\t\telem.innerHTML = elem.getAttribute('data-btn-text');\r\n\r\n\t\t\t\telem.setAttribute('data-btn-text', btnTxt);\r\n\t\t\t}, 321);\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementStr);\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tthis.toggle(elem);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n}());","/*\r\ncall to init:\r\nTab.init({\r\n\tcontainer: '.tab',\r\n\tbutton: '.tab__button',\r\n\titem: '.tab__item'\r\n});\r\n*/\r\nvar Tab;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tTab = {\r\n\t\toptions: null,\r\n\r\n\t\tchange: function(btnElem) {\r\n\t\t\tif (btnElem.classList.contains('active')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar contElem = btnElem.closest(this.options.container),\r\n\t\t\tbtnElements = contElem.querySelectorAll(this.options.button),\r\n\t\t\ttabItemElements = contElem.querySelectorAll(this.options.item);\r\n\r\n\t\t\t//remove active state\r\n\t\t\tfor (var i = 0; i < btnElements.length; i++) {\r\n\t\t\t\tbtnElements[i].classList.remove('active');\r\n\r\n\t\t\t\ttabItemElements[i].classList.remove('active');\r\n\t\t\t}\r\n\r\n\t\t\t//get current tab item\r\n\t\t\tvar tabItemElem = contElem.querySelector(this.options.item +'[data-index=\"'+ btnElem.getAttribute('data-index') +'\"]');\r\n\r\n\t\t\t//set active state\r\n\t\t\ttabItemElem.classList.add('active');\r\n\r\n\t\t\tbtnElem.classList.add('active');\r\n\r\n\t\t\t//set height\r\n\t\t\tthis.setHeight(tabItemElem);\r\n\t\t},\r\n\r\n\t\tsetHeight: function(tabItemElem) {\r\n\t\t\ttabItemElem.parentElement.style.height = tabItemElem.offsetHeight +'px';\r\n\t\t},\r\n\r\n\t\tinit: function(options) {\r\n\t\t\tthis.options = options;\r\n\r\n\t\t\tvar contElements = document.querySelectorAll(options.container);\r\n\r\n\t\t\tif (!contElements.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t//init tabs\r\n\t\t\tfor (let i = 0; i < contElements.length; i++) {\r\n\t\t\t\tvar contElem = contElements[i],\r\n\t\t\t\tbtnElements = contElem.querySelectorAll(options.button),\r\n\t\t\t\ttabItemElements = contElem.querySelectorAll(options.item),\r\n\t\t\t\ttabItemElemActive = contElem.querySelector(this.options.item +'.active');\r\n\r\n\t\t\t\tthis.setHeight(tabItemElemActive);\r\n\r\n\t\t\t\tfor (let i = 0; i < btnElements.length; i++) {\r\n\t\t\t\t\tbtnElements[i].setAttribute('data-index', i);\r\n\r\n\t\t\t\t\ttabItemElements[i].setAttribute('data-index', i);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//btn event\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar btnElem = e.target.closest(options.button);\r\n\r\n\t\t\t\tif (!btnElem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tthis.change(btnElem);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n}());","/*\r\nAnchor.init(Str anchor selector[, Int duration ms[, Int shift px]]);\r\n*/\r\n\r\nvar Anchor;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tAnchor = {\r\n\t\tduration: 1000,\r\n\t\tshift: 0,\r\n\r\n\t\tscroll: function(elem) {\r\n\t\t\tvar scrollTo = document.querySelector(elem.getAttribute('href')).getBoundingClientRect().top,\r\n\t\t\tscrollTo = scrollTo - this.shift;\r\n\r\n\t\t\tanimate(function(progress) {\r\n\t\t\t\twindow.scrollTo(0, ((scrollTo * progress) + ((1 - progress) * window.pageYOffset)));\r\n\t\t\t}, this.duration, 'easeInOutQuad');\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr, duration, shift) {\r\n\t\t\tif (duration) {\r\n\t\t\t\tthis.duration = duration;\r\n\t\t\t}\r\n\r\n\t\t\tif (shift) {\r\n\t\t\t\tthis.shift = shift;\r\n\t\t\t}\r\n\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementStr);\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tthis.scroll(elem);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n}());\r\n\r\n/*\r\n$(document).ready(function() {\r\n\r\n\t$('body').on('click', '.js-anchor', function () {\r\n\t\tvar href = $(this).attr('href'),\r\n\t\tanch = '#'+ href.split('#')[1];\r\n\r\n\t\tif($(anch).length){\r\n\t\t\tvar scrTo = ($(anch).attr('data-anchor-offset')) ? $(anch).offset().top : ($(anch).offset().top - $('.header').innerHeight() - 35);\r\n\r\n\t\t\t$('html, body').stop().animate({scrollTop: scrTo}, 1021, 'easeInOutQuart');\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t});\r\n\r\n\tif (window.location.hash) {\r\n\r\n\t\tvar anch = window.location.hash;\r\n\r\n\t\tif($(anch).length && !$(anch).hasClass('popup__window')){\r\n\r\n\t\t\t$('html, body').stop().animate({scrollTop: 0}, 1);\r\n\r\n\t\t\twindow.onload = function() {\r\n\t\t\t\tvar scrTo = ($(anch).attr('data-anchor-offset')) ? $(anch).offset().top : ($(anch).offset().top - $('.header').innerHeight() - 35);\r\n\r\n\t\t\t\t$('html, body').stop().animate({scrollTop: scrTo}, 1021, 'easeInOutQuart');\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\t\r\n});*/","/*\r\nvar diagram = new Diagram({\r\n\tcanvasId: Str elem id,\r\n\tcharts: [\r\n\t{\r\n\t\tvalue: Int,\r\n\t\tcolor: Str,\r\n\t\twidth: Int px,\r\n\t\tnumContId: Str elem id\r\n\t}\r\n\t],\r\n\tmaxValue: Int,\r\n\tanimate: true\r\n});\r\n\r\ndiagram.animate(Int duration ms);\r\n*/\r\n\r\n; var Diagram;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tDiagram = function(options) {\r\n\t\tvar canvasElement = document.getElementById(options.canvasId);\r\n\r\n\t\tthis.animate = function(duration) {\r\n\t\t\tif (!canvasElement) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst chartValues = options.charts.map((obj) => obj.value);\r\n\t\t\t\r\n\t\t\tanimate((progress) => {\r\n\t\t\t\tthis.ctx.clearRect(0, 0, (this.center.x * 2), (this.center.y * 2));\r\n\t\t\t\tthis.prevChartsWidth = 0;\r\n\r\n\t\t\t\toptions.charts.forEach((chart, i) => {\r\n\t\t\t\t\tchart.value = chartValues[i] * progress;\r\n\r\n\t\t\t\t\tdrawChart(chart, i);\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t}, duration, 'easeInOutQuad');\r\n\t\t}\r\n\r\n\t\tif (!canvasElement) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tcanvasElement.width = canvasElement.offsetWidth;\r\n\t\tcanvasElement.height = canvasElement.offsetHeight;\r\n\r\n\t\tthis.ctx = canvasElement.getContext('2d');\r\n\t\tthis.canvasWidth = canvasElement.width;\r\n\t\tthis.center = {x: canvasElement.width / 2, y: canvasElement.height / 2};\r\n\t\tthis.prevChartsWidth = 0;\r\n\r\n\t\tconst startAngle = 1.5 * Math.PI;\r\n\r\n\t\tvar drawChart = (chart, i) => {\r\n\t\t\tvar endAngle = 2 * Math.PI * chart.value / options.maxValue + startAngle,\r\n\t\t\tradius = this.canvasWidth / 2 - chart.width / 2 - (chart.offset || 0) - this.prevChartsWidth;\r\n\r\n\t\t\tthis.prevChartsWidth += chart.width + (chart.offset || 0);\r\n\r\n\t\t\tthis.ctx.beginPath();\r\n\t\t\tthis.ctx.arc(this.center.x, this.center.y, radius, startAngle, endAngle);\r\n\t\t\tthis.ctx.lineWidth = chart.width;\r\n\t\t\tthis.ctx.strokeStyle = chart.color;\r\n\t\t\tthis.ctx.stroke();\r\n\r\n\t\t\toutputNum(chart);\r\n\t\t}\r\n\r\n\t\tif (!options.animate) {\r\n\t\t\toptions.charts.forEach((chart, i) => {\r\n\t\t\t\tdrawChart(chart, i);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tfunction outputNum(chart) {\r\n\t\t\tvar numElem = document.getElementById(chart.numContId);\r\n\r\n\t\t\tif (numElem) {\r\n\t\t\t\tnumElem.innerHTML = chart.value.toFixed(0);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}());","var Numberspin;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tNumberspin = function(elementsStr) {\r\n\t\tthis.elements = document.querySelectorAll(elementsStr);\r\n\t\tthis.values = [];\r\n\r\n\t\tfor (var i = 0; i < this.elements.length; i++) {\r\n\t\t\tthis.values[i] = +this.elements[i].innerHTML;\r\n\t\t\tthis.elements[i].innerHTML = 0;\r\n\t\t}\r\n\r\n\t\tthis.animate = function(duration) {\r\n\t\t\tanimate((progress) => {\r\n\t\t\t\tfor (var i = 0; i < this.elements.length; i++) {\r\n\t\t\t\t\tthis.elements[i].innerHTML = Math.round(this.values[i] * progress);\r\n\t\t\t\t}\r\n\t\t\t}, duration);\r\n\t\t}\r\n\t}\r\n}());\r\n\r\n\r\n/*\r\nfunction Numberspin(elem, opt) {\r\n\tvar def = {\r\n\t\tanimation: 1\r\n\t},\r\n\topt = opt || {},\r\n\toptions = $.extend({}, def, opt),\r\n\tinterval = null,\r\n\tanimate = false,\r\n\t$Elem = $(elem),\r\n\tcurVal = 0,\r\n\tval = $Elem.html().replace(/[\\s]/g, ''),\r\n\tpattern = val.match(/[\\.,]/),\r\n\tendVal = +val.replace(/[\\D]/g, '');\r\n\r\n\t$Elem.html(0);\r\n\r\n\tthis.start = function() {\r\n\t\t\r\n\t\tif (!animate) {\r\n\t\t\tanimate = true;\r\n\t\t\tspin();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction spin() {\r\n\r\n\t\tinterval = setTimeout(function run() {\r\n\r\n\t\t\t\tif (curVal < endVal) {\r\n\r\n\t\t\t\t\tif (options.animation == 1) {\r\n\r\n\t\t\t\t\t\tvar d = endVal - curVal;\r\n\r\n\t\t\t\t\t\tif (d > 1213214321321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 1213214321321;\r\n\t\t\t\t\t\t} else if (d > 3214321321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 3214321321;\r\n\t\t\t\t\t\t} else if (d > 4321321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 4321321;\r\n\t\t\t\t\t\t} else if (d > 321321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 321321;\r\n\t\t\t\t\t\t} else if (d > 32321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 32321;\r\n\t\t\t\t\t\t} else if (d > 2321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 2321;\r\n\t\t\t\t\t\t} else if (d > 1321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 1321;\r\n\t\t\t\t\t\t} else if (d > 321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 321;\r\n\t\t\t\t\t\t} else if (d > 21) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 21;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcurVal++;\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t} else if (options.animation == 2) {\r\n\r\n\t\t\t\t\t\tvar endValArr = String(endVal).split(''),\r\n\t\t\t\t\t\tcurValArr = String(curVal).split('');\r\n\r\n\t\t\t\t\t\tfor (var i = 0; i < endValArr.length; i++) {\r\n\t\t\t\t\t\t\tif (curValArr[i]) {\r\n\t\t\t\t\t\t\t\tif (curValArr[i] < endValArr[i] && curValArr[i-1] == endValArr[i-1]) {\r\n\t\t\t\t\t\t\t\t\tcurValArr[i]++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (curValArr[i-1] && curValArr[i-1] == endValArr[i-1]) {\r\n\t\t\t\t\t\t\t\tcurValArr[i] = 0;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tcurVal = curValArr.join('');\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar output = String(curVal);\r\n\r\n\t\t\t\t\tif (pattern) {\r\n\t\t\t\t\t\toutput = output.replace(new RegExp('(\\\\d{'+ pattern.index +'})'), '$1'+ pattern[0]);\r\n\t\t\t\t\t\toutput = output.replace(new RegExp('(\\\\d)?(?=(\\\\d{3})+?\\\\'+ pattern[0] +')', 'g'), '$1 ');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toutput = output.replace(/(\\d)?(?=(\\d{3})+$)/g, '$1 ');\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t$Elem.html(output);\r\n\r\n\t\t\t\t\tsetTimeout(run, 85);\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstop();\r\n\t\t\t\t}\r\n\r\n\t\t}, 1);\r\n\r\n\t}\r\n\r\n\tfunction stop() {\r\n\t\tclearTimeout(interval);\r\n\t}\r\n\r\n}\r\n\r\nvar numberspinObj = [], i = 0, ind;\r\nfunction numberspin(elem, opt) {\r\n\tif ($(elem)[0].ind == undefined) {\r\n\t\t$(elem)[0].ind = ind = i;\r\n\t} else {\r\n\t\tind = $(elem)[0].ind;\r\n\t}\r\n\r\n\tif (!(numberspinObj[elem+ind] instanceof Numberspin)) {\r\n\t\tnumberspinObj[elem+ind] = new Numberspin(elem, opt);\r\n\t}\r\n\ti++;\r\n\r\n\treturn numberspinObj[elem+ind];\r\n}\r\n*/","/*\r\nShare.init(Str button class);\r\n*/\r\n\r\n; var Share;\r\n\r\n;(function() {\r\n\t\"use strict\";\r\n\t\r\n\tvar encodedHref = encodeURIComponent(window.location.href);\r\n\r\n\tShare = {\r\n\t\tnetwork: function(elem) {\r\n\t\t\tvar net = elem.getAttribute('data-network');\r\n\r\n\t\t\tif (!net) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar url;\r\n\r\n\t\t\tswitch (net) {\r\n\t\t\t\tcase 'vk':\r\n\t\t\t\turl = 'http://vkontakte.ru/share.php?url='+ encodedHref;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'fb':\r\n\t\t\t\turl = 'http://www.facebook.com/sharer.php?u='+ encodedHref;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'tw':\r\n\t\t\t\turl = 'http://twitter.com/share?url='+ encodedHref;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'ok':\r\n\t\t\t\turl = 'https://connect.ok.ru/dk?st.cmd=WidgetSharePreview&st.shareUrl='+ encodedHref;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tthis.popup(url);\r\n\t\t},\r\n\r\n\t\tpopup: function(url) {\r\n\t\t\twindow.open(url, '', 'toolbar=0,status=0,width=626,height=436');\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementStr);\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tthis.network(elem);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n}());","; var Timer;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tTimer = function(setTime, elemId) {\r\n\t\tvar elem = document.getElementById(elemId);\r\n\r\n\t\tthis.time = setTime;\r\n\t\tthis.interval = null;\r\n\t\tthis.onStop = null;\r\n\r\n\t\tfunction setCookies() {\r\n\t\t\tdocument.cookie = 'lastTimer'+ elemId +'='+ Date.now() +'; expires='+ new Date(Date.now() + 86400000).toUTCString();\r\n\t\t}\r\n\r\n\t\tvar timerCookieValue = (function() {\r\n\t\t\tif (document.cookie) {\r\n\t\t\t\tvar cokArr = document.cookie.replace(/(\\s)+/g, '').split(';');\r\n\r\n\t\t\t\tfor (var i = 0; i < cokArr.length; i++) {\r\n\t\t\t\t\tvar keyVal = cokArr[i].split('=');\r\n\t\t\t\t\tif (keyVal[0] == 'lastTimer'+ elemId) {\r\n\t\t\t\t\t\treturn keyVal[1];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}());\r\n\r\n\t\tif (timerCookieValue) {\r\n\t\t\tvar delta = Math.round((Date.now() - timerCookieValue) / 1000);\r\n\t\t\tif (delta < this.time) {\r\n\t\t\t\tthis.time = this.time - delta;\r\n\t\t\t} else {\r\n\t\t\t\tsetCookies();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetCookies();\r\n\t\t}\r\n\r\n\t\tfunction output(time) {\r\n\t\t\tvar min = (time > 60) ? Math.floor(time / 60) : 0,\r\n\t\t\tsec = (time > 60) ? Math.round(time % 60) : time,\r\n\t\t\tminOut  = '',\r\n\t\t\tsecTxt = '';\r\n\r\n\t\t\tif (min != 0) {\r\n\t\t\t\tif (min == 1) {\r\n\t\t\t\t\tminOut = min +' ';\r\n\t\t\t\t} else if (min < 5) {\r\n\t\t\t\t\tminOut = min +' ';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (sec == 1 || sec == 21) {\r\n\t\t\t\tsecTxt = '';\r\n\t\t\t} else if (sec < 5) {\r\n\t\t\t\tsecTxt = '';\r\n\t\t\t} else if (sec < 21) {\r\n\t\t\t\tsecTxt = '';\r\n\t\t\t}\r\n\r\n\t\t\tvar secNum = (sec < 10) ? '0'+ sec : sec;\r\n\r\n\t\t\telem.innerHTML = [minOut, secNum, secTxt].join(' ');\r\n\t\t}\r\n\r\n\t\tvar stop = () => {\r\n\t\t\tclearInterval(this.interval);\r\n\r\n\t\t\tif (this.onStop) {\r\n\t\t\t\tsetTimeout(this.onStop);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.start = function() {\r\n\t\t\tif (!elem) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.interval = setInterval(() => {\r\n\t\t\t\tthis.time--;\r\n\r\n\t\t\t\toutput(this.time);\r\n\r\n\t\t\t\tif (this.time == 0) {\r\n\t\t\t\t\tstop();\r\n\t\t\t\t}\r\n\t\t\t}, 1000);\r\n\t\t}\r\n\t}\r\n}());"]}